<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>What is Micro ORM?</title><meta name="description" content="What are the Micro ORM libraries, why do they even exist, what are their purpose, what are they used for, and what are the alternatives?"><link href="https://vb-consulting.github.io/blog/micro-orm/" rel="canonical"><meta name="keywords" content="c#, dotnet, .net, .net core, orm, database, software, development, software-development, software-architecture, architecture"><meta name="author" content="floki"><meta prefix="og: http://ogp.me/ns#" property="og:title" content="What is Micro ORM?"><meta prefix="og: http://ogp.me/ns#" property="og:description" content="What are the Micro ORM libraries, why do they even exist, what are their purpose, what are they used for, and what are the alternatives?"><meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://vb-consulting.github.io/more-banner.jpg"><meta prefix="og: http://ogp.me/ns#" property="og:type" content="article"><meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="VB-Consulting"><meta prefix="og: http://ogp.me/ns#" property="og:url" content="https://vb-consulting.github.io/blog/micro-orm/"><meta name="twitter:image" content="https://vb-consulting.github.io/more-banner.jpg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:description" content="What are the Micro ORM libraries, why do they even exist, what are their purpose, what are they used for, and what are the alternatives?"><link rel="stylesheet" href="/_elderjs/assets/svelte-3b352ec3.css" media="all"><style></style><link href="/style.css?1711825662485" rel="stylesheet"><script>!function(){var e="theme",t=localStorage.getItem(e);t||(t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",localStorage.setItem(e,t)),document.getElementsByTagName("html")[0].dataset.bsTheme=t}();</script></head><body class="d-flex flex-column h-100"><header id="header"><nav class="navbar navbar-expand-md navbar-dark fixed-top py-0 py-md-0 svelte-30jr7w"><div class="container-fluid flex-nowrap svelte-30jr7w"><div class="d-flex svelte-30jr7w"><button id="nav-btn" type="button" class="d-flex btn btn-sm logo animate-rotate svelte-30jr7w"><i class="material-icons-outlined">menu</i></button> <a class="nav-link my-auto ms-2 fw-semibold home svelte-30jr7w" href="/"><i class="bi-chevron-double-left"></i> VB Home</a></div><div class="d-flex right svelte-30jr7w"><a class="nav-link my-auto svelte-30jr7w" data-bs-toggle="tooltip" data-bs-html="true" title="Become a Patreon" href="https://www.patreon.com/vbconsulting" target="_blank"><div class="patreon"></div></a><div class="vr1 text-muted my-auto svelte-30jr7w"></div><a class="nav-link my-auto svelte-30jr7w" data-bs-toggle="tooltip" data-bs-html="true" title="Buy Me a Coffee" href="https://www.buymeacoffee.com/vbilopavu" target="_blank"><div class="bmc"></div></a><div class="vr1 text-muted my-auto svelte-30jr7w"></div><a class="nav-link my-auto me-2 svelte-30jr7w" data-bs-toggle="tooltip" data-bs-html="true" title="Norm.net on GitHub" href="https://github.com/vb-consulting/Norm.net"><i class="bi-github"></i></a> <a class="github-button svelte-30jr7w" href="https://github.com/vb-consulting/Norm.net" data-bs-toggle="tooltip" data-bs-html="true" title="Star Norm.net on GitHub" data-color-scheme="no-preference: light_high_contrast; light: light_high_contrast; dark: light_high_contrast;" data-icon="octicon-star" data-show-count="true" aria-label="Star Norm.net on GitHub"></a><div class="vr1 text-muted my-auto svelte-30jr7w"></div><button id="theme-btn" type="button" aria-pressed="true" aria-label="theme" class="svelte-30jr7w"><span class="check hidden svelte-30jr7w"><span class="icon svelte-30jr7w"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="svelte-30jr7w"><path fill="currentColor" d="M12 21q-3.775 0-6.388-2.613T3 12q0-3.45 2.25-5.988T11 3.05q.625-.075.975.45t-.025 1.1q-.425.65-.638 1.375T11.1 7.5q0 2.25 1.575 3.825T16.5 12.9q.775 0 1.538-.225t1.362-.625q.525-.35 1.075-.037t.475.987q-.35 3.45-2.937 5.725T12 21Zm0-2q2.2 0 3.95-1.213t2.55-3.162q-.5.125-1 .2t-1 .075q-3.075 0-5.238-2.163T9.1 7.5q0-.5.075-1t.2-1q-1.95.8-3.163 2.55T5 12q0 2.9 2.05 4.95T12 19Zm-.25-6.75Z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="svelte-30jr7w"><g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M0 0h24v24H0z"></path><path fill="currentColor" d="M12 19a1 1 0 0 1 .993.883L13 20v1a1 1 0 0 1-1.993.117L11 21v-1a1 1 0 0 1 1-1zm6.313-2.09l.094.083l.7.7a1 1 0 0 1-1.32 1.497l-.094-.083l-.7-.7a1 1 0 0 1 1.218-1.567l.102.07zm-11.306.083a1 1 0 0 1 .083 1.32l-.083.094l-.7.7a1 1 0 0 1-1.497-1.32l.083-.094l.7-.7a1 1 0 0 1 1.414 0zM4 11a1 1 0 0 1 .117 1.993L4 13H3a1 1 0 0 1-.117-1.993L3 11h1zm17 0a1 1 0 0 1 .117 1.993L21 13h-1a1 1 0 0 1-.117-1.993L20 11h1zM6.213 4.81l.094.083l.7.7a1 1 0 0 1-1.32 1.497l-.094-.083l-.7-.7A1 1 0 0 1 6.11 4.74l.102.07zm12.894.083a1 1 0 0 1 .083 1.32l-.083.094l-.7.7a1 1 0 0 1-1.497-1.32l.083-.094l.7-.7a1 1 0 0 1 1.414 0zM12 2a1 1 0 0 1 .993.883L13 3v1a1 1 0 0 1-1.993.117L11 4V3a1 1 0 0 1 1-1zm0 5a5 5 0 1 1-4.995 5.217L7 12l.005-.217A5 5 0 0 1 12 7z"></path></g></svg></span></span></button></div></div></nav></header><main class="svelte-9zwk14"><div class="sidebar sidebar-hide svelte-9zwk14"><div class="svelte-9zwk14"><ul class="navbar-nav sidenav svelte-9zwk14"><li class="nav-item svelte-9zwk14" data-id="" title="VB-Consulting"><a class="nav-link svelte-9zwk14 text-uppercase" href="/">VB-Consulting</a></li><li class="nav-divider svelte-9zwk14"><hr class="svelte-9zwk14"></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="NpgsqlRest"><a class="nav-link svelte-9zwk14 text-uppercase" href="/npgsqlrest/">NpgsqlRest</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="Norm.Net"><a class="nav-link svelte-9zwk14 text-uppercase" href="/norm.net/">Norm.Net</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="RazorSvelte"><a class="nav-link svelte-9zwk14 text-uppercase" href="/razorsvelte/">RazorSvelte</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="PgRoutiner"><a class="nav-link svelte-9zwk14 text-uppercase" href="/pgroutiner/">PgRoutiner</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="XUnit.Npgsql"><a class="nav-link svelte-9zwk14 text-uppercase" href="/xunit.npgsql/">XUnit.Npgsql</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="PostrgeSQL Schema Tools"><a class="nav-link svelte-9zwk14 text-uppercase" href="/pg_schema_tools/">PostrgeSQL Schema Tools</a></li><li class="nav-txt-divider text-muted svelte-9zwk14"><hr class="svelte-9zwk14"><span class="svelte-9zwk14">blogs</span><hr class="svelte-9zwk14"></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="See all blogs..."><a class="nav-link btn btn-sm w-fit px-3 mx-auto svelte-9zwk14 lr-arrow text-uppercase" href="/blogs/"><i class="bi bi-arrow-right-circle svelte-9zwk14"></i> <span class="btn-link">ALL BLOGS</span></a></li><li class="nav-item svelte-9zwk14" data-id="" title="PostgreSQL Array Example"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/postgresql-array/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>PostgreSQL Arrays 🐘</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Automatic REST API for PostgreSQL Database as .NET8 Middleware"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/npgsqlrest-update1.6.2/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>NpgsqlRest Update 1.6.2</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Automatic REST API for PostgreSQL Database as .NET8 Middleware"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/npgsqlrest-v2/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>NpgsqlRest v2 Update 🐘🔥</a></li><li class="nav-item svelte-9zwk14" data-id="" title="How DDD is screwing up your SQL"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/sql-vs-ddd/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>How DDD is screwing up your SQL</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Common Sense Software Design Approach for RDBMS-backed Type of Software"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/common-sense-design/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>Common Sense Software Design</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PostgreSQL Paging Benchmarks"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/postgresql-paging/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>PostgreSQL Paging Benchmarks</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Automatic REST API for PostgreSQL Database as .NET8 Middleware"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/npgsqlrest/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>NpgsqlRest NuGet Library</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PostgreSQL crazy experiment with the record type."><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/postgresql-record-type/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>Execute Custom Function For Each Record</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PostgreSQL script that implements temporal tables without extension."><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/postgresql-temporal-tables/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>Custom Temporal Tables in PostgreSQL</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Exploring a different approach to recursion with PostgreSQL by using recursive plpgsql function instead of recursive CTE query."><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/recursion-postgresql/part1-different-type-of-recursion/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>Recursion with PostgreSQL Part 1 - A Different Type of Recursion</a></li></ul></div></div><div class="content svelte-9zwk14"><div class="banner svelte-1bxfgrx" style="background-image: url(/more-banner.jpg); background-position: top; background-blend-mode: luminosity;"></div><div class="container-sm main-content blog svelte-1bxfgrx bannered"><div class="blog-head svelte-1bxfgrx"><a href="https://github.com/vb-consulting/blog/blob/master/LICENSE" class="text-shadow svelte-1bxfgrx" style="color: white">CC0-1.0 license</a></div><div class="categories svelte-1bxfgrx"><a href="/blogs/general" class="btn btn-sm text-shadow svelte-1bxfgrx"><span class="cat"># general</span> </a><a href="/blogs/software-development" class="btn btn-sm text-shadow svelte-1bxfgrx"><span class="cat"># software development</span> </a><a href="/blogs/orm" class="btn btn-sm text-shadow svelte-1bxfgrx"><span class="cat"># orm</span></a></div><h1 class="text-shadow" id="what-is-micro-orm">What is Micro ORM?</h1><div class="post-meta text-shadow"><div></div><div class="post-details"><div class="post-pic" data-bs-toggle="tooltip" data-bs-html="true" title="Floki is a developer dog." style="background-image: url(/floki2.jpg)"></div><div class="post-details-right"><div class="post-share"><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fvb-consulting.github.io%2Fblog%2Fmicro-orm%2F" class="me-1 bi-linkedin" data-bs-toggle="tooltip" data-bs-html="true" title="Share on LinkedIn"><i class=""></i></a> <a href="http://twitter.com/share?text=What%20is%20Micro%20ORM%3F%0AWhat%20are%20the%20Micro%20ORM%20libraries%2C%20why%20do%20they%20even%20exist%2C%20what%20are%20their%20purpose%2C%20what%20are%20they%20used%20for%2C%20and%20what%20are%20the%20alternatives%3F%0A&url=https%3A%2F%2Fvb-consulting.github.io%2Fblog%2Fmicro-orm%2F&hashtags=software%20development%2Corm" class="me-1 bi-twitter-x" data-bs-toggle="tooltip" data-bs-html="true" title="Share on X"><i class=""></i></a> <a href="#" class="copy-url bi-clipboard" data-bs-toggle="tooltip" data-bs-html="true" title="Copy URL"><i class=""></i></a></div><div class="post-author">floki</div><div class="post-date">May 19, 2023</div></div></div></div><p>In software development, we all know very well what an ORM is:</p><blockquote><p>A tool or usually a program library that implements object-relational mapping (ORM, O/RM), or O/R mapping.</p></blockquote><p>This mapping is a <strong>two-way</strong> or <strong>bi-directional</strong> mapping:</p><ol><li><strong>From the database to the database client (your application). <code>DB -> APP</code></strong></li></ol><p>Or, to be more specific: from the query results - to your application memory structures, such as object instances and other structures.</p><ol start="2"><li><strong>From the database client (your application) to the database. <code>APP -> DB</code></strong></li></ol><p>Or, to be more specific: from the query and command programming constructs in your application language (such as <code>C# Linq</code> command and queries) - to query that your database understands and can run such as SQL typically.</p><p>The best-known and most widely used ORM in the .NET ecosystem is, of course, the <strong>Microsoft Entity Framework</strong>, which is, of course, the full-blown ORM that implements wo-way (bi-directional) mappings.</p><p>On the other hand, the <strong>Micro ORM</strong> means it's just a lightweight mapper that <strong>maps only one way and one way only</strong>. From the query results - to your application memory structures, such as object instances and other structures.</p><p>Micro ORM is a term invented and popularized by Dapper, the best-known MicroORM built by Stackoverflow. In practice, that means that when using Micro ORM - all SQL has to be in a raw string command (a raw SQL). For example:</p><div class="code csharp"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">class</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Film</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">FilmId</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Title</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">ReleaseYear</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">decimal</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">RentalRate</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">film</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Film</span><span style="color: #E6E6E6">>(</span><span style="color: #CE9178">@"</span></span>
<span class="line"><span style="color: #CE9178">        select </span></span>
<span class="line"><span style="color: #CE9178">            film_id, title, release_year, rental_rate </span></span>
<span class="line"><span style="color: #CE9178">        from</span></span>
<span class="line"><span style="color: #CE9178">            film</span></span>
<span class="line"><span style="color: #CE9178">        where</span></span>
<span class="line"><span style="color: #CE9178">            film_id = @id"</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Film</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">FilmId</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Title</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">ReleaseYear</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">decimal</span><span style="color: #000000"> </span><span style="color: #001080">RentalRate</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">film</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Film</span><span style="color: #000000">>(</span><span style="color: #A31515">@"</span></span>
<span class="line"><span style="color: #A31515">        select </span></span>
<span class="line"><span style="color: #A31515">            film_id, title, release_year, rental_rate </span></span>
<span class="line"><span style="color: #A31515">        from</span></span>
<span class="line"><span style="color: #A31515">            film</span></span>
<span class="line"><span style="color: #A31515">        where</span></span>
<span class="line"><span style="color: #A31515">            film_id = @id"</span><span style="color: #000000">, </span><span style="color: #001080">id</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span></code></pre></div><p>In this example we can see that:</p><ul><li>SQL command is contained in a string, usually hand-written.</li><li>Query results are mapped to a database client (program) memory structure - a class named <code>Film</code>.</li></ul><p>For most software developers, this is a counter-intuitive, unproductive and generally undesired approach. But yet, it obviously persists. Let's explore reasons why is that so...</p><h2 id="reasons-for-micro-orm">Reasons for Micro ORM</h2><p>Those reasons, at least in my mind, fall into two major categories:</p><ul><li>Language and Productivity Reasons</li><li>Performance Reasons</li></ul><h3 id="1-language-and-productivity">1) Language and Productivity</h3><p>This may be a surprise to some, but SQL is, actually, a <strong>higher-level language</strong> than anything you might using in your program:</p><ul><li>In the example above that is <code>C#</code> and <code>C#</code> is listed as an example of the third generation (3GL) language. [<a href="https://en.wikipedia.org/wiki/Programming_language_generations">source</a>]</li><li>In contrast, <code>SQL</code> is listed as an example of the fourth generation (4GL) language. [<a href="https://en.wikipedia.org/wiki/Programming_language_generations">source</a>]</li></ul><p>What does that mean?</p><blockquote><p>Letting your 3GL language to write your 4GL language at the runtime is same as writting assembly language that generates C/C++ at the runtime. <strong>It makes no sense.</strong></p></blockquote><p>SQL is a data language and data operations can be simple, complicated or, honestly, insane.</p><p>So, yes, the simplest so-called CRUD (create, read, update and delete) operations may very well make sense to do with the ORM. But, SQL in general is a very strange language. It takes little time to learn and almost a lifetime to master.</p><p>That translates into the following realities:</p><p>Database professionals properly trained with SQL - are often <strong>many times more productive</strong> with SQL than anything ORM libraries can come up with. Even with simple CRUD commands like in that example above (with the help of modern tools of course).</p><p>The fact is that SQL is internationally standardized by the International Organization for Standardization (ISO) [<a href="https://en.wikipedia.org/wiki/ISO/IEC_9075">source</a>]. Sure, there are different providers with different interpretations of the same standard, which translates into different dialects of the same standard, but nothing even close to widely different approaches to different ORM libraries where nothing close to standard exists.</p><p>Secondly, an even more important fact - is that SQL is a <strong>declarative language.</strong> You are supposed to simply declare <strong>what</strong> is it that you want from your data, and the RDBMS engine (your database) should figure out the <strong>how</strong> part for you. There is a strong emphasis on <strong>what, rather than how.</strong> And the <strong>how</strong> part is what is really hard and unproductive.</p><p>In practice, that means that we, as SQL developers, are supposed to focus on what we need to get out of the data. While, at the same time the engine abstracts unimportant details from us, such as operating systems, devices and even algorithms.</p><blockquote><p>You are supposed just to declare your intent with data and the engine will figure out the best and most optimized algorithm.</p></blockquote><p>If you ever wondered what is the so-called <strong>execution plan</strong> for your queries, well, that is it, it's your engine finding out the optimal algorithm for your intent. It doesn't mean it's perfect, but it's good enough. And, actually, that's the element of <strong>fifth-generation languages (5GL)</strong>, not even fourth. Quote: "A fifth-generation programming language (5GL) is a high-level programming language based on problem-solving using constraints given to the program, <strong>rather than using an algorithm written by a programmer</strong>". [<a href="https://en.wikipedia.org/wiki/Fifth-generation_programming_language">source</a>].</p><p>On the other hand, programming languages that are used as database clients (your program in <code>C#</code>) - are lower languages that are <strong>imperative</strong> and <strong>functional</strong>, where <strong>functions are implicitly coded</strong>, (rather than declared), in every step required to solve a problem. This translates directly to <strong>productivity</strong>.</p><p>I highly recommend checking out this tech-talk presentation that clearly demonstrates a dramatic difference in productivity. [<a href="https://www.youtube.com/watch?v=wTPGW1PNy_Y&ab_channel=Devoxx">link</a>]</p><p>SQL is like a Swiss tool for data and anything data-related. I don't think that today, after 50-ish years of development, there is anything that SQL can't do with data. I don't think there is such a thing.</p><p>On the other hand, ORM tools and libraries are quite young. At least relatively to SQL. I think that is quite possible that one day those libraries will catch up with SQL features and cover them</p><p>In any case, it's quite possible that ORM libraries may bridge this gap one day. That would allow us to use those libraries to express the same intent over data operations, but unfortunately, we're not there yet. Not even close.</p><p>So what happens when the library misses a feature from the SQL? One of those two things:</p><ol><li><p>Fallback to raw SQL and Micro ORM approach. Microsoft Entity Framework has finally allowed one-way mapping to instances that are not an official part of the model, which allows for this approach, without a need for the extra Micro ORM library.</p></li><li><p>Another "manual" approach that involves:</p><ol><li>Downloading the desired portion of the data to the client.</li><li>Write an appropriate algorithm to process that downloaded portion of data.</li></ol></li></ol><p>This second thing (manually downloading a portion of data) is, obviously, very much suboptimal. In terms of productivity and as well as performance. Trained database profesionals would probably write and test that query before the application developer even declares such a function. This approach is detrimental to performance and in many cases it represents a serious application choke point.</p><p>Which brings me to the second point:</p><h3 id="2-performances">2) Performances</h3><p>Modern ORM libraries that implement dynamic SQL query/command generation (as part of two-way mapping) can impact application performance in many different ways. Sometimes those impacts can be subtle and sometimes even dramatic, but that usually depends on the amount of data being processed.</p><p>They usually fall into two major categories:</p><h4 id="1-technical-limitations-of-the-library">1) Technical limitations of the library</h4><p>There's already a performance penalty to start with. Since all commands and queries have to be generated by the library, that generation is not free.</p><p>However, that is a minuscule impact, and the latest versions of Microsoft Entity Framework are trying to solve this overhead with a concept of so-called "compiled queries", where that performance penalty is moved to compile time. [<a href="https://learn.microsoft.com/en-us/dotnet/framework/data/adonet/ef/language-reference/compiled-queries-linq-to-entities">source</a>].</p><p>I already described above how it is indeed possible to have a situation where a command or query <strong>can not be translated to SQL at all</strong>. And, therefore, the only way to implement the desired feature is to download a portion of data to the database client and perform the desired operation there (on the client).</p><p>A good example of how that reality has traditionally impacted performances are implementation of the so-called <strong>active record pattern</strong> and the update or delete operation using that pattern.</p><p>In the Wikipedia article (<a href="https://en.wikipedia.org/wiki/Active_record_pattern">source</a>) this criticism isn't even mentioned, but, here is what happens:</p><ul><li>Download the desired record and map the result into the memory instance.</li><li>Execute an update or delete command for that record.</li></ul><p>So, there are <strong>two commands</strong> in <strong>two steps</strong> - the first is select, and the second is update or delete, which will utilize the network to issue a <strong>database call twice</strong> (latency time, bandwidth time twice) and will also <strong>scan the same table twice</strong>.</p><p>As opposed to simple commands:</p><ul><li><code>update my_table set value = @new where id = @id</code></li><li><code>delete my_table where id = @id</code></li></ul><p>One command, one database call and one table scan. No download of anything.</p><p>Again, the latest versions of Microsoft Entity Framework are trying to solve this overhead with the new APIs. (<a href="https://learn.microsoft.com/en-us/ef/core/saving/execute-insert-update-delete">source</a>).</p><p>Well, it took them only <strong>15 years from the first version</strong>, better later than never I suppose. And, Microsoft Entity Framework is the only full-blown ORM that I've heard of, that is even addressed this issue, but someone may correct me on this.</p><p>Fine, Microsoft Entity Framework has got this active record performance thing covered. But, how about...</p><ul><li>How about updating or deleting records in a table as a result of another query?</li><li>How about updating or deleting records in a table as a result of a hierarchical query on the same table to avoid reference errors in the self-referencing table?</li><li>How about different window analytical functions?</li><li>How about grouping sets, data rollups and cubes with totals and subtotals?</li><li>How about lateral joins where you can join on a subquery?</li><li>How about distinct on a specific set from expression?</li><li>How about filtering on the aggregate function?</li></ul><p>To be fair, many of these different concepts are just analytical functionalities, and that doesn't mean that the new API won't be introduced in the future to address these things and concepts. It only took them 15 years to properly address the active record performance issue.</p><p>In the meanwhile, in order to avoid the raw SQL (which is what many developers tend to do), the only way to implement these issues is to download a portion (often a large portion) and perform processing out of the database.</p><p>But wait, that is not all.</p><p>Modern SQL systems are very much capable of executing analytical scripts and returning some analytical results.</p><p>Complex data processing often requires processing in steps and saving results in intermediary stores for future steps such as <strong>temporary tables and table variables</strong> for example. A good example would be a hypothetical scenario where something like this:</p><ol><li>First step - fetch the data from tables and apply filtering.</li><li>Save results into the intermediary store for later use.</li><li>Use that intermediary store to calculate some analytics and statistics.</li><li>Use that intermediary store to generate a data view, like a page for example.</li><li>Return both datasets together.</li></ol><p>All of these are possible with modern SQL and yes, temporary tables are a) very fast and cheap and can used as variables and b) part of international SQL ISO standard (<a href="https://en.wikibooks.org/wiki/Structured_Query_Language/Temporary_Table">source</a>).</p><p>I cannot even begin to imagine how some ORM would even try to implement something like this. Theoretically, it could be done in 5 different steps, with 5 subsequent database calls, while the script is still one, single database call (consisting of multiple steps) and it will always be faster, no matter what.</p><h4 id="2-human-factor">2) Human factor</h4><p>Besides all of these technical limitations mentioned above, there is always, always a human factor.</p><p>For instance, the N+1 antipattern is a well-documented and dreaded problem that can dramatically impact performance. Essentially, a situation where the ORM library (or developer) executes a select query and for each record in results creates and executes another one. So that makes N+1 in total queries (instead of just one).</p><p>If you look it up, there are countless blogs and articles on how to avoid N+1 pitfalls and errors with the Microsoft Entity Framework for example. So it's safe to say, it's a common problem that is sometimes unintentional and sometimes even from lack of experience.</p><p>It appears that ORMs make CRUD operation painfully simple and easy, but also N+1 bottleneck simple and easy, which is even more painful. Literally.</p><p>Another common issue is so-called over-selecting. Instead of returning exactly what your program needs, the tendency is to return an entire width of the records, which results in downloading many times more data from the database server into the database client. Yes, every time you do a select from your program and fetch some data, you are downloading from the database server (except when using SQLite of course). So, instead of downloading a couple of kilobytes program downloads a couple of megabytes. Instead of downloading a couple of megabytes, the program downloads a couple of gigabytes... So the issue?</p><p>From my experience, these mistakes happen quite often, even with decades of experience. Because they are easy to make. And then many developers tend to treat the database as just another memory construct, which leads to serious performance degradations.</p><h2 id="but-is-it-all-really-necessary">But, is it all really necessary?</h2><p>So, the Micro ORM approach is necessary after all, as we can see.</p><p>But is the library itself necessary?</p><p>Although I developed <a href="https://vb-consulting.github.io/norm.net/">Norm MicroORM</a> for my project needs I must admit I rarely ever use it.</p><p>Why?</p><p>This may be a personal preference, but manual mapping isn't that hard at all, at least, in my experience.</p><p>There are a couple of useful extensions I usually use, and it may look as simple as this:</p><div class="code csharp"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">static</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">class</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Extensions</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">private</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">static</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">void</span><span style="color: #E6E6E6"> </span><span style="color: #DCDCAA">AddParameters</span><span style="color: #E6E6E6">(</span><span style="color: #4EC9B0">DbCommand</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">cmd</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">object</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">parameters</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    {</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #C586C0">foreach</span><span style="color: #E6E6E6"> (</span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">prop</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">in</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">parameters</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">GetType</span><span style="color: #E6E6E6">().</span><span style="color: #DCDCAA">GetProperties</span><span style="color: #E6E6E6">())</span></span>
<span class="line"><span style="color: #E6E6E6">        {</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">param</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">cmd</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">CreateParameter</span><span style="color: #E6E6E6">();</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #9CDCFE">param</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">ParameterName</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">prop</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Name</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #9CDCFE">param</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Value</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">prop</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">GetValue</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">parameters</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">??</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">DBNull</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Value</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #9CDCFE">cmd</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Parameters</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Add</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">param</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #E6E6E6">        }</span></span>
<span class="line"><span style="color: #E6E6E6">    }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span></span>
<span class="line"><span style="color: #6A9955">    // single values into tuples 4 tuples</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">static</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">IEnumerable</span><span style="color: #E6E6E6">&lt;(</span><span style="color: #4EC9B0">T1</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">T2</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">T3</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">T4</span><span style="color: #E6E6E6">)> </span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">T1</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">T2</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">T3</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">T4</span><span style="color: #E6E6E6">>(</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">this</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">DbConnection</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">command</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">object</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">parameters</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">null</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    {</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #C586C0">using</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">cmd</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">CreateCommand</span><span style="color: #E6E6E6">();</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">cmd</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">CommandText</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">command</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #C586C0">if</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">parameters</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">!=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">null</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">        {</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #DCDCAA">AddParameters</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">cmd</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">parameters</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #E6E6E6">        }</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #C586C0">using</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">reader</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">cmd</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">ExecuteReader</span><span style="color: #E6E6E6">();</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #C586C0">while</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">reader</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">())</span></span>
<span class="line"><span style="color: #E6E6E6">        {</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #C586C0">yield</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">return</span><span style="color: #E6E6E6"> (</span></span>
<span class="line"><span style="color: #E6E6E6">                </span><span style="color: #9CDCFE">reader</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">GetFieldValue</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">T1</span><span style="color: #E6E6E6">>(</span><span style="color: #B5CEA8">0</span><span style="color: #E6E6E6">),</span></span>
<span class="line"><span style="color: #E6E6E6">                </span><span style="color: #9CDCFE">reader</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">GetFieldValue</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">T2</span><span style="color: #E6E6E6">>(</span><span style="color: #B5CEA8">1</span><span style="color: #E6E6E6">),</span></span>
<span class="line"><span style="color: #E6E6E6">                </span><span style="color: #9CDCFE">reader</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">GetFieldValue</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">T3</span><span style="color: #E6E6E6">>(</span><span style="color: #B5CEA8">2</span><span style="color: #E6E6E6">),</span></span>
<span class="line"><span style="color: #E6E6E6">                </span><span style="color: #9CDCFE">reader</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">GetFieldValue</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">T4</span><span style="color: #E6E6E6">>(</span><span style="color: #B5CEA8">3</span><span style="color: #E6E6E6">));</span></span>
<span class="line"><span style="color: #E6E6E6">        }</span></span>
<span class="line"><span style="color: #E6E6E6">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">    // custom reader callback values into tuples</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">static</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">IEnumerable</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">T</span><span style="color: #E6E6E6">> </span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">T</span><span style="color: #E6E6E6">>(</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">this</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">DbConnection</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">command</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #4EC9B0">Func</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">DbDataReader</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">T</span><span style="color: #E6E6E6">> </span><span style="color: #9CDCFE">callback</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">object</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">parameters</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">null</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    {</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #C586C0">using</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">cmd</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">CreateCommand</span><span style="color: #E6E6E6">();</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">cmd</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">CommandText</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">command</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #C586C0">if</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">parameters</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">!=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">null</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">        {</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #DCDCAA">AddParameters</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">cmd</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">parameters</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #E6E6E6">        }</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #C586C0">using</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">reader</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">cmd</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">ExecuteReader</span><span style="color: #E6E6E6">();</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #C586C0">while</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">reader</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">())</span></span>
<span class="line"><span style="color: #E6E6E6">        {</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #C586C0">yield</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">return</span><span style="color: #E6E6E6"> </span><span style="color: #DCDCAA">callback</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">reader</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #E6E6E6">        }</span></span>
<span class="line"><span style="color: #E6E6E6">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">    // etc</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">static</span><span style="color: #000000"> </span><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Extensions</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">private</span><span style="color: #000000"> </span><span style="color: #0000FF">static</span><span style="color: #000000"> </span><span style="color: #0000FF">void</span><span style="color: #000000"> </span><span style="color: #795E26">AddParameters</span><span style="color: #000000">(</span><span style="color: #267F99">DbCommand</span><span style="color: #000000"> </span><span style="color: #001080">cmd</span><span style="color: #000000">, </span><span style="color: #0000FF">object</span><span style="color: #000000"> </span><span style="color: #001080">parameters</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #AF00DB">foreach</span><span style="color: #000000"> (</span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">prop</span><span style="color: #000000"> </span><span style="color: #AF00DB">in</span><span style="color: #000000"> </span><span style="color: #001080">parameters</span><span style="color: #000000">.</span><span style="color: #795E26">GetType</span><span style="color: #000000">().</span><span style="color: #795E26">GetProperties</span><span style="color: #000000">())</span></span>
<span class="line"><span style="color: #000000">        {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">param</span><span style="color: #000000"> = </span><span style="color: #001080">cmd</span><span style="color: #000000">.</span><span style="color: #795E26">CreateParameter</span><span style="color: #000000">();</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #001080">param</span><span style="color: #000000">.</span><span style="color: #001080">ParameterName</span><span style="color: #000000"> = </span><span style="color: #001080">prop</span><span style="color: #000000">.</span><span style="color: #001080">Name</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #001080">param</span><span style="color: #000000">.</span><span style="color: #001080">Value</span><span style="color: #000000"> = </span><span style="color: #001080">prop</span><span style="color: #000000">.</span><span style="color: #795E26">GetValue</span><span style="color: #000000">(</span><span style="color: #001080">parameters</span><span style="color: #000000">) ?? </span><span style="color: #001080">DBNull</span><span style="color: #000000">.</span><span style="color: #001080">Value</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #001080">cmd</span><span style="color: #000000">.</span><span style="color: #001080">Parameters</span><span style="color: #000000">.</span><span style="color: #795E26">Add</span><span style="color: #000000">(</span><span style="color: #001080">param</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #000000">        }</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"><span style="color: #000000">    </span></span>
<span class="line"><span style="color: #008000">    // single values into tuples 4 tuples</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">static</span><span style="color: #000000"> </span><span style="color: #267F99">IEnumerable</span><span style="color: #000000">&lt;(</span><span style="color: #267F99">T1</span><span style="color: #000000">, </span><span style="color: #267F99">T2</span><span style="color: #000000">, </span><span style="color: #267F99">T3</span><span style="color: #000000">, </span><span style="color: #267F99">T4</span><span style="color: #000000">)> </span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">T1</span><span style="color: #000000">, </span><span style="color: #267F99">T2</span><span style="color: #000000">, </span><span style="color: #267F99">T3</span><span style="color: #000000">, </span><span style="color: #267F99">T4</span><span style="color: #000000">>(</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">this</span><span style="color: #000000"> </span><span style="color: #267F99">DbConnection</span><span style="color: #000000"> </span><span style="color: #001080">connection</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">command</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">object</span><span style="color: #000000"> </span><span style="color: #001080">parameters</span><span style="color: #000000"> = </span><span style="color: #0000FF">null</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">cmd</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">CreateCommand</span><span style="color: #000000">();</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">cmd</span><span style="color: #000000">.</span><span style="color: #001080">CommandText</span><span style="color: #000000"> = </span><span style="color: #001080">command</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #AF00DB">if</span><span style="color: #000000"> (</span><span style="color: #001080">parameters</span><span style="color: #000000"> != </span><span style="color: #0000FF">null</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">        {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #795E26">AddParameters</span><span style="color: #000000">(</span><span style="color: #001080">cmd</span><span style="color: #000000">, </span><span style="color: #001080">parameters</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #000000">        }</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">reader</span><span style="color: #000000"> = </span><span style="color: #001080">cmd</span><span style="color: #000000">.</span><span style="color: #795E26">ExecuteReader</span><span style="color: #000000">();</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #AF00DB">while</span><span style="color: #000000"> (</span><span style="color: #001080">reader</span><span style="color: #000000">.</span><span style="color: #795E26">Read</span><span style="color: #000000">())</span></span>
<span class="line"><span style="color: #000000">        {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #AF00DB">yield</span><span style="color: #000000"> </span><span style="color: #AF00DB">return</span><span style="color: #000000"> (</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #001080">reader</span><span style="color: #000000">.</span><span style="color: #795E26">GetFieldValue</span><span style="color: #000000">&lt;</span><span style="color: #267F99">T1</span><span style="color: #000000">>(</span><span style="color: #098658">0</span><span style="color: #000000">),</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #001080">reader</span><span style="color: #000000">.</span><span style="color: #795E26">GetFieldValue</span><span style="color: #000000">&lt;</span><span style="color: #267F99">T2</span><span style="color: #000000">>(</span><span style="color: #098658">1</span><span style="color: #000000">),</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #001080">reader</span><span style="color: #000000">.</span><span style="color: #795E26">GetFieldValue</span><span style="color: #000000">&lt;</span><span style="color: #267F99">T3</span><span style="color: #000000">>(</span><span style="color: #098658">2</span><span style="color: #000000">),</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #001080">reader</span><span style="color: #000000">.</span><span style="color: #795E26">GetFieldValue</span><span style="color: #000000">&lt;</span><span style="color: #267F99">T4</span><span style="color: #000000">>(</span><span style="color: #098658">3</span><span style="color: #000000">));</span></span>
<span class="line"><span style="color: #000000">        }</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">    // custom reader callback values into tuples</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">static</span><span style="color: #000000"> </span><span style="color: #267F99">IEnumerable</span><span style="color: #000000">&lt;</span><span style="color: #267F99">T</span><span style="color: #000000">> </span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">T</span><span style="color: #000000">>(</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">this</span><span style="color: #000000"> </span><span style="color: #267F99">DbConnection</span><span style="color: #000000"> </span><span style="color: #001080">connection</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">command</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #267F99">Func</span><span style="color: #000000">&lt;</span><span style="color: #267F99">DbDataReader</span><span style="color: #000000">, </span><span style="color: #267F99">T</span><span style="color: #000000">> </span><span style="color: #001080">callback</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">object</span><span style="color: #000000"> </span><span style="color: #001080">parameters</span><span style="color: #000000"> = </span><span style="color: #0000FF">null</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">cmd</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">CreateCommand</span><span style="color: #000000">();</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">cmd</span><span style="color: #000000">.</span><span style="color: #001080">CommandText</span><span style="color: #000000"> = </span><span style="color: #001080">command</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #AF00DB">if</span><span style="color: #000000"> (</span><span style="color: #001080">parameters</span><span style="color: #000000"> != </span><span style="color: #0000FF">null</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">        {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #795E26">AddParameters</span><span style="color: #000000">(</span><span style="color: #001080">cmd</span><span style="color: #000000">, </span><span style="color: #001080">parameters</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #000000">        }</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">reader</span><span style="color: #000000"> = </span><span style="color: #001080">cmd</span><span style="color: #000000">.</span><span style="color: #795E26">ExecuteReader</span><span style="color: #000000">();</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #AF00DB">while</span><span style="color: #000000"> (</span><span style="color: #001080">reader</span><span style="color: #000000">.</span><span style="color: #795E26">Read</span><span style="color: #000000">())</span></span>
<span class="line"><span style="color: #000000">        {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #AF00DB">yield</span><span style="color: #000000"> </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #795E26">callback</span><span style="color: #000000">(</span><span style="color: #001080">reader</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #000000">        }</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">    // etc</span></span>
<span class="line"><span style="color: #000000">}</span></span></code></pre></div><p>This may vary on project needs, but the typical usage may look something like this:</p><div class="code csharp"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">class</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Film</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">FilmId</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Title</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">ReleaseYear</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">decimal</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">RentalRate</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">@"</span></span>
<span class="line"><span style="color: #CE9178">    select </span></span>
<span class="line"><span style="color: #CE9178">            film_id, title, release_year, rental_rate </span></span>
<span class="line"><span style="color: #CE9178">        from</span></span>
<span class="line"><span style="color: #CE9178">            film</span></span>
<span class="line"><span style="color: #CE9178">        where</span></span>
<span class="line"><span style="color: #CE9178">            film_id = @id"</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">film1</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">decimal</span><span style="color: #E6E6E6">>(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">new</span><span style="color: #E6E6E6"> { </span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #B5CEA8">999</span><span style="color: #E6E6E6"> })</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Select</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">t</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">new</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Film</span></span>
<span class="line"><span style="color: #E6E6E6">    {</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">FilmId</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">t</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Item1</span><span style="color: #E6E6E6">,</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">Title</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">t</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Item2</span><span style="color: #E6E6E6">,</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">ReleaseYear</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">t</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Item3</span><span style="color: #E6E6E6">,</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">RentalRate</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">t</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Item4</span></span>
<span class="line"><span style="color: #E6E6E6">    })</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">film2</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Film</span><span style="color: #E6E6E6">>(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">r</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">new</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Film</span></span>
<span class="line"><span style="color: #E6E6E6">        {</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #9CDCFE">FilmId</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> (</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">)</span><span style="color: #9CDCFE">r</span><span style="color: #E6E6E6">[</span><span style="color: #CE9178">"film_id"</span><span style="color: #E6E6E6">],</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #9CDCFE">Title</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> (</span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">)</span><span style="color: #9CDCFE">r</span><span style="color: #E6E6E6">[</span><span style="color: #CE9178">"title"</span><span style="color: #E6E6E6">],</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #9CDCFE">ReleaseYear</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> (</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">)</span><span style="color: #9CDCFE">r</span><span style="color: #E6E6E6">[</span><span style="color: #CE9178">"release_year"</span><span style="color: #E6E6E6">],</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #9CDCFE">RentalRate</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> (</span><span style="color: #569CD6">decimal</span><span style="color: #E6E6E6">)</span><span style="color: #9CDCFE">r</span><span style="color: #E6E6E6">[</span><span style="color: #CE9178">"rental_rate"</span><span style="color: #E6E6E6">]</span></span>
<span class="line"><span style="color: #E6E6E6">        },</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">new</span><span style="color: #E6E6E6"> { </span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #B5CEA8">999</span><span style="color: #E6E6E6"> })</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Film</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">FilmId</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Title</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">ReleaseYear</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">decimal</span><span style="color: #000000"> </span><span style="color: #001080">RentalRate</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">query</span><span style="color: #000000"> = </span><span style="color: #A31515">@"</span></span>
<span class="line"><span style="color: #A31515">    select </span></span>
<span class="line"><span style="color: #A31515">            film_id, title, release_year, rental_rate </span></span>
<span class="line"><span style="color: #A31515">        from</span></span>
<span class="line"><span style="color: #A31515">            film</span></span>
<span class="line"><span style="color: #A31515">        where</span></span>
<span class="line"><span style="color: #A31515">            film_id = @id"</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">film1</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">int</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">int</span><span style="color: #000000">, </span><span style="color: #0000FF">decimal</span><span style="color: #000000">>(</span><span style="color: #001080">query</span><span style="color: #000000">, </span><span style="color: #0000FF">new</span><span style="color: #000000"> { </span><span style="color: #001080">id</span><span style="color: #000000"> = </span><span style="color: #098658">999</span><span style="color: #000000"> })</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Select</span><span style="color: #000000">(</span><span style="color: #001080">t</span><span style="color: #000000"> => </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Film</span></span>
<span class="line"><span style="color: #000000">    {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">FilmId</span><span style="color: #000000"> = </span><span style="color: #001080">t</span><span style="color: #000000">.</span><span style="color: #001080">Item1</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">Title</span><span style="color: #000000"> = </span><span style="color: #001080">t</span><span style="color: #000000">.</span><span style="color: #001080">Item2</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">ReleaseYear</span><span style="color: #000000"> = </span><span style="color: #001080">t</span><span style="color: #000000">.</span><span style="color: #001080">Item3</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">RentalRate</span><span style="color: #000000"> = </span><span style="color: #001080">t</span><span style="color: #000000">.</span><span style="color: #001080">Item4</span></span>
<span class="line"><span style="color: #000000">    })</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">film2</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Film</span><span style="color: #000000">>(</span><span style="color: #001080">query</span><span style="color: #000000">, </span><span style="color: #001080">r</span><span style="color: #000000"> => </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Film</span></span>
<span class="line"><span style="color: #000000">        {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #001080">FilmId</span><span style="color: #000000"> = (</span><span style="color: #0000FF">int</span><span style="color: #000000">)</span><span style="color: #001080">r</span><span style="color: #000000">[</span><span style="color: #A31515">"film_id"</span><span style="color: #000000">],</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #001080">Title</span><span style="color: #000000"> = (</span><span style="color: #0000FF">string</span><span style="color: #000000">)</span><span style="color: #001080">r</span><span style="color: #000000">[</span><span style="color: #A31515">"title"</span><span style="color: #000000">],</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #001080">ReleaseYear</span><span style="color: #000000"> = (</span><span style="color: #0000FF">int</span><span style="color: #000000">)</span><span style="color: #001080">r</span><span style="color: #000000">[</span><span style="color: #A31515">"release_year"</span><span style="color: #000000">],</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #001080">RentalRate</span><span style="color: #000000"> = (</span><span style="color: #0000FF">decimal</span><span style="color: #000000">)</span><span style="color: #001080">r</span><span style="color: #000000">[</span><span style="color: #A31515">"rental_rate"</span><span style="color: #000000">]</span></span>
<span class="line"><span style="color: #000000">        },</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">new</span><span style="color: #000000"> { </span><span style="color: #001080">id</span><span style="color: #000000"> = </span><span style="color: #098658">999</span><span style="color: #000000"> })</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span></code></pre></div><p>To be clear, the code above is just an example. Real-world code could include more overloads, perhaps execute methods, some null checking, etc, but, the principle is the same.</p><p>And, yes, this is the manual mapping. And yes, this is my preference these days.</p><p>With modern tools such as the Copilot, it is absurdly simple and easy to write and maintain.</p><p>If that is not your cup of tea, take a look a <a href="https://vb-consulting.github.io/norm.net/benchmarks/">performance benchmarks</a> on this website between various Micro ORM libraries and different approaches.</p><p>The question is, are even Micro ORM necessary? Perhaps not? All I can say is that I prefer the approach described above.</p><h2 id="conclusion">Conclusion</h2><p>Full-blown, two-way mapping ORM libraries, like the Microsoft Entity Framework, indeed do have their distinct and important advantages:</p><h4 id="advantage-1-strongly-typed-schema">Advantage 1: Strongly Typed Schema</h4><p>Since data models are usually declared as classes in a full-blown ORM, and if that language is strongly typed (not all are), naturally, all queries and commands in that language will be also strongly typed.</p><p>That means that on every schema change, all code has to be also adjusted in order to be able to be built, which means, errors on schema change are caught early and refactoring is simplified.</p><p>This may be pretty significant, but the small downside is that double schema (one in your program and the other in the database) has to be maintained (usually through automatic migrations).</p><h4 id="advantage-2-simplified-database-provider-change">Advantage 2: Simplified Database Provider Change</h4><p>Full-blown ORMs should negate any difference between different SQL dialects between different vendors, which should enable easy switching between different providers.</p><p>In theory, of course. In practice, this is a very rare event, and it is never easy or simple.</p><hr><p>So, in conclusion, SQL is a strange language. Very easy to get started with, and decades, even a lifetime to master. I believe that is very important to master your tools, and then select the right tool for the job.</p><p>I hope I managed to explain why Micro ORMs exist, what are they used for, and what are some of the alternative approaches, with pros and cons.</p><p>Thank you for reading.</p><div class="w-fit mx-auto mt-5 mb-3 border-top"><div class="alert text-center fs-smaller text-muted">To receive notifications about new posts and updates, consider subscribing to my LinkdIn page:<br><a class="btn btn-sm" href="https://www.linkedin.com/in/vb-software/"><i class="bi-linkedin"></i> <span class="text-primary">vb-software linkedin</span></a><br><br>You will receive notifications about new posts on your LinkedIn feed.</div></div><div class="pt-5 border-top"><div id="comments-section" class="h5">Comments</div><script defer src="https://cdn.commento.io/js/commento.js" data-no-fonts="true" data-css-override="https://vb-consulting.github.io/style.css"></script><div id="commento"></div></div><footer class="mt-3 py-5"><div class="w-fit mx-auto mb-3 border-top border-bottom"><div class="alert text-center fs-smaller text-muted"><div class="alert text-center fs-smaller text-muted mb-1">If you like my content, use my software, or otherwise benefit from my work, consider supporting me by buying me a coffee. The software runs on coffee after all.</div><a class="btn rl-arrow" target="_blank" data-bs-toggle="tooltip" data-bs-html="true" title="Click Here to Buy Me a Coffee Or Scan the Code" href="https://www.buymeacoffee.com/vbilopavu" style="display: inline-grid;">Buy me a Coffee <img class="m-auto svelte-byttq0" alt="Scan Here To Buy Me a Cofee" src="/bmc_qr.png"></a></div></div><div class="d-flex justify-content-center"><a class="btn rl-arrow me-1" target="_blank" data-bs-toggle="tooltip" data-bs-html="true" title="Norm.net on GitHub" href="https://github.com/vb-consulting/Norm.net" style="display: inline-grid;">Norm.net on GitHub <i class="bi bi-github"></i></a> <a class="btn rl-arrow" target="_blank" data-bs-toggle="tooltip" data-bs-html="true" title="I Post Software Development Content Daily" href="https://www.linkedin.com/in/vb-software/" style="display: inline-grid;">Follow me on LinkedIn <i class="bi bi-linkedin"></i></a></div><div class="text-center"><div class="mt-5 mb-5 background-floki svelte-byttq0" data-bs-toggle="tooltip" data-bs-html="true" title="Floki is a developer dog."></div></div></footer><div class="mb-5"></div></div></div><div class="rightside svelte-9zwk14"><div class="svelte-9zwk14"><ul class="navbar-nav sidenav svelte-9zwk14"><li class="nav-txt-divider text-muted svelte-9zwk14"><hr class="svelte-9zwk14"><span class="svelte-9zwk14">on this page</span><hr class="svelte-9zwk14"></li><li class="nav-item toc1 right svelte-9zwk14 bookmark-nav" data-id="what-is-micro-orm" title="What is Micro ORM?"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#what-is-micro-orm">What is Micro ORM?</a></li><li class="nav-item toc2 right svelte-9zwk14 bookmark-nav" data-id="reasons-for-micro-orm" title="Reasons for Micro ORM"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#reasons-for-micro-orm">Reasons for Micro ORM</a></li><li class="nav-item toc3 right svelte-9zwk14 bookmark-nav" data-id="1-language-and-productivity" title="1) Language and Productivity"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#1-language-and-productivity">1) Language and Productivity</a></li><li class="nav-item toc3 right svelte-9zwk14 bookmark-nav" data-id="2-performances" title="2) Performances"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#2-performances">2) Performances</a></li><li class="nav-item toc4 right svelte-9zwk14 bookmark-nav" data-id="1-technical-limitations-of-the-library" title="1) Technical limitations of the library"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#1-technical-limitations-of-the-library">1) Technical limitations of the library</a></li><li class="nav-item toc4 right svelte-9zwk14 bookmark-nav" data-id="2-human-factor" title="2) Human factor"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#2-human-factor">2) Human factor</a></li><li class="nav-item toc2 mt-2 right svelte-9zwk14 bookmark-nav" data-id="but-is-it-all-really-necessary" title="But, is it all really necessary?"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#but-is-it-all-really-necessary">But, is it all really necessary?</a></li><li class="nav-item toc2 right svelte-9zwk14 bookmark-nav" data-id="conclusion" title="Conclusion"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#conclusion">Conclusion</a></li><li class="nav-item toc4 right svelte-9zwk14 bookmark-nav" data-id="advantage-1-strongly-typed-schema" title="Advantage 1: Strongly Typed Schema"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#advantage-1-strongly-typed-schema">Advantage 1: Strongly Typed Schema</a></li><li class="nav-item toc4 right svelte-9zwk14 bookmark-nav" data-id="advantage-2-simplified-database-provider-change" title="Advantage 2: Simplified Database Provider Change"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#advantage-2-simplified-database-provider-change">Advantage 2: Simplified Database Provider Change</a></li><li class="nav-divider svelte-9zwk14"><hr class="svelte-9zwk14"></li><li class="nav-item toc1 right svelte-9zwk14 bookmark-nav" data-id="comments-section" title="Comments"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#comments-section">Comments</a></li></ul></div></div></main><script>!function(){var i=document.querySelector("nav.navbar"),f=document.getElementsByTagName("main")[0],L=f.getElementsByClassName("sidebar")[0],w=f.getElementsByClassName("content")[0],o=document.querySelectorAll("div.code"),k=i.querySelector(".home");function E(e,t){for(var n=1;n<arguments.length;n++)e.classList.remove(arguments[n])}function T(e,t){for(var n=1;n<arguments.length;n++)e.classList.remove(arguments[n]);E(e,t),e.classList.add(t)}function t(e,t){var n=e.currentTarget;if(!n.classList.contains("bi-check")){for(var i="",o=0;o<n.classList.length;o++)if(n.classList[o].startsWith("bi-")){i=n.classList[o];break}n.classList.remove(i),n.classList.add("spinner-border-sm"),n.classList.add("spinner-border");e=bootstrap.Tooltip.getInstance(n);e&&(e.setContent({".tooltip-inner":"Copying..."}),e.show()),t(n,function(){var e;n.classList.remove(i),n.classList.remove("spinner-border-sm"),n.classList.remove("spinner-border"),n.classList.add("bi-check"),bootstrap&&(e=bootstrap.Tooltip.getInstance(n))&&(e.setContent({".tooltip-inner":"Copied!"}),e.show()),setTimeout(function(){var e;n.classList.add(i),n.classList.remove("bi-check"),bootstrap&&(e=bootstrap.Tooltip.getInstance(n))&&e.setContent({".tooltip-inner":n.dataset.bsTitle})},2e3)})}}"/"==document.location.pathname&&T(k,"d-none");var e=document.querySelector(".post-share > .copy-url"),n=(e&&e.addEventListener("click",function(e){t(e,function(e,t){navigator.clipboard.writeText(document.location.origin+document.location.pathname),t()})}),document.getElementsByTagName("html")[0]),a=i.querySelector("#theme-btn"),s="theme";function l(e){var t=a.getElementsByTagName("svg");"dark"===e?(t[0].style.display="",t[1].style.display="none",a.getElementsByClassName("check")[0].classList.add("checked")):(t[0].style.display="none",t[1].style.display="",a.getElementsByClassName("check")[0].classList.remove("checked"));for(var n=0;n<o.length;n++){var i=o[n];"dark"===e?(i.children[1].style.display="inherit",i.children[2].style.display="none"):"light"===e&&(i.children[1].style.display="none",i.children[2].style.display="inherit")}window._theme&&window._theme(e)}function r(e){t(e,function(e,t){navigator.clipboard.writeText(e.parentElement.nextSibling.innerText),t()})}function c(e){t(e,function(e,t){var n=localStorage.getItem(s);e="dark"===n?e.parentElement.parentElement.children[1]:e.parentElement.parentElement.children[2],setTimeout(function(){html2canvas(e).then(e=>{e.toBlob(e=>navigator.clipboard.write([new ClipboardItem({"image/png":e})])),t()})},0)})}a.addEventListener("click",()=>{var e="dark"===localStorage.getItem(s)?"light":"dark";localStorage.setItem(s,e),l(n.dataset.bsTheme=e)}),l(localStorage.getItem(s)),a.children[0].classList.remove("hidden");for(var d=0;d<o.length;d++){o[d].getElementsByClassName("copy-code")[0].addEventListener("click",r);var m=o[d].getElementsByClassName("photo-code");m.length&&m[0].addEventListener("click",c)}for(var S=function(){var a,o,s;if(f.children[2]&&"none"!=f.children[2].style.display)return a=f.querySelector(".main-content").querySelectorAll("[id]"),o=void 0,this.initNavs=function(e){s=e.querySelectorAll("li.bookmark-nav");for(var t=0;t<a.length;t++){for(var n=a[t].id,i=null,o=0;o<s.length;o++)if(s[o].dataset.id==n){i=s[o];break}a[t].nav=i}setTimeout(function(){for(var e=0;e<a.length;e++){var t=a[e];if(l(t).visible&&t.nav)return void t.nav.classList.add("active")}},1e3),r()},f.children[1].addEventListener("scroll",r),this;function l(e){var e=e.getBoundingClientRect(),t=Math.max(document.documentElement.clientHeight,window.innerHeight),n=0<e.top&&!(e.bottom<0||0<=e.top-t)||e.top<0&&e.bottom>t,i=!1;return{visible:n,above:i=n?i:e.bottom<t}}function r(){if(s&&s.length){for(var e=0;e<s.length;e++)s[e].classList.remove("active");for(var t=void 0,e=0;e<a.length;e++){const i=a[e];var n=l(i);if(!n.visible&&n.above&&(t=i.nav),n.visible&&i.nav&&!i.nav.classList.contains("active"))return i.nav.classList.add("active"),o&&clearTimeout(o),void(o=setTimeout(function(){i.nav.scrollIntoView({behavior:"smooth"}),o=void 0},250))}t&&!t.classList.contains("active")&&(t.classList.add("active"),o&&clearTimeout(o),o=setTimeout(function(){t.scrollIntoView({behavior:"smooth"}),o=void 0},250))}}}(),h=function(){var l,r=i.querySelector("#nav-btn"),c=480,d="200px",m="0.25fr",h=730,v=535,u=f.children[0].children[0].children[0],g=f.children[2]&&f.children[2].children[0].children[0],t="sidebar-pinned",p=null==localStorage.getItem(t)||"true"==localStorage.getItem(t),y=!1,b=!1;function n(){window._onresize&&window._onresize();var e=window.outerWidth||window.innerWidth,t=e<c,n=t?y?"100%":"0":p?""+d:"0",i=`grid-template-columns: ${n} 1fr`,o=t&&y?"width: 100%":"0"!=n?"":"display: none",a=t&&y?"display: none":"",s=t?y?"sidebar-show":"sidebar-hide":p?"sidebar-show":"sidebar-hide",n="0"==n;f.children[2]&&(m&&h&&v&&(n&&e<v||!n&&e<h?b||(u.innerHTML=l+g.innerHTML,S.initNavs(u),b=!0):b&&(u.innerHTML=l,S.initNavs(g),b=!1)),!m||t||b?(i+=";",f.children[2].style.display="none"):(i+=` ${m};`,f.children[2].style.display="")),T(r,!t&&p||t&&y?"rotate":"rotate-back","rotate","rotate-back"),p?(r.classList.add("text-shadow"),null==document.querySelector("main .sidebar .accordion > [title='VB-Consulting'] > .collapsed")&&T(k,"d-none")):("/"!=document.location.pathname&&E(k,"d-none"),r.classList.remove("text-shadow")),f.style=L?i:"display: grid;",L&&T(L,s,"sidebar-show","sidebar-hide"),L&&(L.firstChild.style=o),w.style=a,t&&!y&&"/"!=document.location.pathname&&E(k,"d-none"),t&&y&&T(k,"d-none")}function e(){var e=window.outerWidth<c;e?y=!y:p=!p,localStorage.setItem(t,p.toString()),n(),p?(r.classList.add("text-shadow"),null==document.querySelector("main .sidebar .accordion > [title='VB-Consulting'] > .collapsed")&&T(k,"d-none")):("/"!=document.location.pathname&&E(k,"d-none"),r.classList.remove("text-shadow")),e&&!y&&"/"!=document.location.pathname&&E(k,"d-none"),e&&y&&T(k,"d-none")}return m&&h&&v&&g&&(l=u.innerHTML,S.initNavs(g)),r.addEventListener("click",e),(window.onresize=n)(),this.closeSidebar=function(){window.outerWidth<c&&y&&e()},this}(),v=document.getElementsByClassName("auto-close"),u=0;u<v.length;u++)v[u].addEventListener("click",function(e){h.closeSidebar()});location.hash&&(e=document.getElementById(location.hash.replace("#","")))&&e.scrollIntoView()}();</script><script src="/bootstrap.bundle.min.js"></script><script>!function(){for(var e=document.querySelectorAll('[data-bs-toggle="tooltip"]'),t=0;t<e.length;t++)new bootstrap.Tooltip(e[t]);var n=document.getElementsByClassName("accordion-item");if(n.length){for(t=0;t<n.length;t++){var o=n[t];o.querySelectorAll("[href='"+document.location.pathname+"']").length&&o.firstChild.click()}var l=document.querySelector("nav.navbar").querySelector(".home"),a=document.getElementsByClassName("accordion");"/"==document.location.pathname&&l.classList.add("d-none");for(t=0;t<n.length;t++){var s=a[t];s&&s.firstChild&&"VB-Consulting"==s.firstChild.title&&(null!=s.firstChild.querySelector(".collapse")&&l.classList.contains("d-none")&&"/"!=document.location.pathname&&l.classList.remove("d-none"),s.addEventListener("show.bs.collapse",function(){"/"!=document.location.pathname&&l.classList.remove("d-none"),l.classList.add("d-none")}),s.addEventListener("hide.bs.collapse",function(){"/"!=document.location.pathname&&l.classList.remove("d-none")}))}}}();</script><script src="/html2canvas.min.js"></script><script async defer src="https://buttons.github.io/buttons.js"></script></body><script async data-id="101435862" src="//static.getclicky.com/js"></script></html>