<!DOCTYPE html><html lang=en><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>XUnit.Npgsql</title><meta name=description content="XUnit Testing Suite for PostgreSQL Databases and .NET Standard 2.1"><meta name=keywords content="net, dotnet, c#, csharp, netcore, test, testing, unit testing, integration testing, database, postgresql, npgsql, sql"><link href=https://vb-consulting.github.io//xunit.npgsql/ rel=canonical><link rel=stylesheet href=/_elderjs/assets/svelte-04dac9e3.css media=all><style></style><link href=/style.css?1701871542725 rel=stylesheet><script>!function(){var e="theme",t=localStorage.getItem(e);t||(t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",localStorage.setItem(e,t)),document.getElementsByTagName("html")[0].dataset.bsTheme=t}();</script><body class="d-flex flex-column h-100"><header id=header><nav class="navbar navbar-expand-md navbar-dark fixed-top py-0 py-md-0 svelte-13wa5zp"><div class="container-fluid flex-nowrap svelte-13wa5zp"><div class="d-flex svelte-13wa5zp"><button id=nav-btn type=button class="d-flex btn btn-sm logo animate-rotate svelte-13wa5zp"><i class=material-icons-outlined>menu</i></button></div><div class="d-flex right svelte-13wa5zp"><a class="nav-link my-auto me-2 svelte-13wa5zp"href=https://github.com/vb-consulting/xunit.npgsql/ ><i class=bi-github></i></a> <a class="github-button svelte-13wa5zp"href=https://github.com/vb-consulting/xunit.npgsql/ data-color-scheme="no-preference: light_high_contrast; light: light_high_contrast; dark: light_high_contrast;"data-icon=octicon-star data-show-count=true aria-label="Star vb-consulting/xunit.npgsql/ on GitHub"></a><div class="vr text-white my-auto svelte-13wa5zp"></div><button id=theme-btn type=button aria-pressed=true aria-label=theme class=svelte-13wa5zp><span class="check hidden svelte-13wa5zp"><span class="icon svelte-13wa5zp"><svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 24 24"class=svelte-13wa5zp><path fill=currentColor d="M12 21q-3.775 0-6.388-2.613T3 12q0-3.45 2.25-5.988T11 3.05q.625-.075.975.45t-.025 1.1q-.425.65-.638 1.375T11.1 7.5q0 2.25 1.575 3.825T16.5 12.9q.775 0 1.538-.225t1.362-.625q.525-.35 1.075-.037t.475.987q-.35 3.45-2.937 5.725T12 21Zm0-2q2.2 0 3.95-1.213t2.55-3.162q-.5.125-1 .2t-1 .075q-3.075 0-5.238-2.163T9.1 7.5q0-.5.075-1t.2-1q-1.95.8-3.163 2.55T5 12q0 2.9 2.05 4.95T12 19Zm-.25-6.75Z"></path></svg> <svg xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox="0 0 24 24"class=svelte-13wa5zp><g fill=none stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M0 0h24v24H0z"></path><path fill=currentColor d="M12 19a1 1 0 0 1 .993.883L13 20v1a1 1 0 0 1-1.993.117L11 21v-1a1 1 0 0 1 1-1zm6.313-2.09l.094.083l.7.7a1 1 0 0 1-1.32 1.497l-.094-.083l-.7-.7a1 1 0 0 1 1.218-1.567l.102.07zm-11.306.083a1 1 0 0 1 .083 1.32l-.083.094l-.7.7a1 1 0 0 1-1.497-1.32l.083-.094l.7-.7a1 1 0 0 1 1.414 0zM4 11a1 1 0 0 1 .117 1.993L4 13H3a1 1 0 0 1-.117-1.993L3 11h1zm17 0a1 1 0 0 1 .117 1.993L21 13h-1a1 1 0 0 1-.117-1.993L20 11h1zM6.213 4.81l.094.083l.7.7a1 1 0 0 1-1.32 1.497l-.094-.083l-.7-.7A1 1 0 0 1 6.11 4.74l.102.07zm12.894.083a1 1 0 0 1 .083 1.32l-.083.094l-.7.7a1 1 0 0 1-1.497-1.32l.083-.094l.7-.7a1 1 0 0 1 1.414 0zM12 2a1 1 0 0 1 .993.883L13 3v1a1 1 0 0 1-1.993.117L11 4V3a1 1 0 0 1 1-1zm0 5a5 5 0 1 1-4.995 5.217L7 12l.005-.217A5 5 0 0 1 12 7z"></path></g></svg></span></span></button></div></div></nav></header><main class=svelte-1sva13r><div class="sidebar sidebar-hide svelte-1sva13r"><div class=svelte-1sva13r><button type=button class="btn btn-sm close-sidebar svelte-1sva13r"style="display: none;"><i class=material-icons-outlined>close</i></button><ul class="navbar-nav sidenav svelte-1sva13r"><li class="nav-item svelte-1sva13r"data-id=""title=VB-Consulting><a class="nav-link svelte-1sva13r text-uppercase"href=/ >VB-Consulting</a><li class="nav-divider svelte-1sva13r"><hr class=svelte-1sva13r><li class="nav-item toc2 svelte-1sva13r"data-id=""title=Norm.Net><a class="nav-link svelte-1sva13r text-uppercase"href=/norm.net/ >Norm.Net</a><li class="nav-item toc2 svelte-1sva13r"data-id=""title=RazorSvelte><a class="nav-link svelte-1sva13r text-uppercase"href=/razorsvelte/ >RazorSvelte</a><li class="nav-item toc2 svelte-1sva13r"data-id=""title=PgRoutiner><a class="nav-link svelte-1sva13r text-uppercase"href=/pgroutiner/ >PgRoutiner</a><li class="nav-item toc2 svelte-1sva13r active"data-id=""title=XUnit.Npgsql><a class="nav-link svelte-1sva13r text-uppercase"href=/xunit.npgsql/ >XUnit.Npgsql</a><li class="nav-item toc2 svelte-1sva13r"data-id=""title="PostrgeSQL Schema Tools"><a class="nav-link svelte-1sva13r text-uppercase"href=/pg_schema_tools/ >PostrgeSQL Schema Tools</a></ul></div></div><div class="content svelte-1sva13r"><div class="container main-content gh-content"><h1 id=xunitnpgsql>XUnit.Npgsql<a class="anchor bookmark-target"href=#xunitnpgsql><i class="bi bi-link-45deg"></i></a></h1><a href=https://github.com/vb-consulting/XUnit.Npgsql class=github-edit><i class="bi bi-github"></i>Edit this page on GitHub</a><p><em>XUnit Unit Testing for PostgreSQL Databases and .NET Standard 2.1</em><p><img src=https://github.com/vb-consulting/XUnit.Npgsql/workflows/build-publish/badge.svg alt=build-publish><h2 id=basic-usage>Basic Usage<a class="anchor bookmark-target"href=#basic-usage><i class="bi bi-link-45deg"></i></a></h2><ol><li><p>Create a new XUnit Test Project.<li><p>Add a reference to the XUnit.Npgsql package. e.g. <code>dotnet add package XUnit.Npgsql</code><li><p>Add new collection fixture to your project:</ol><pre><code class=language-cs>using XUnit.Npgsql;

[CollectionDefinition("PostgreSqlDatabase")]
public class DatabaseCollection : ICollectionFixture&lt;PostgreSqlUnitTestFixture> { }
</code></pre><ul><li><p>Note: The collection name must be always <code>PostgreSqlDatabase</code>.<li><p>Note: Collection class name is arbitrary (in this example <code>DatabaseCollection</code>).</ul><ol start=4><li>Add configuration file to your XUnit Test Project project root named <code>testsettings.json</code>.</ol><ul><li><p>Note: see sample configuration file here: <a href=https://github.com/vb-consulting/XUnit.Npgsql/blob/master/testsettings-config-sample.jsonc>testsettings.json sample</a><li><p>Note: Make sure that configuration file is copied to output directory on build.</ul><ol start=5><li>Add new test class to your project.</ol><p>Note: test class must inherit <code>PostgreSqlUnitTest</code> class.<pre><code class=language-cs>using XUnit.Npgsql;
using Norm;

public class MyDatabaseTests : PostgreSqlUnitTest
{
    public MyDatabaseTests(PostgreSqlUnitTestFixture tests) : base(tests) { }

    // example database unit test
    [Fact]
    public void Test_Get_Company_Details()
    {
        //
        // Arrange
        //
        Guid? id = Connection
            .Read&lt;Guid>(command: @"insert into companies (name, linkedin) values ('name', 'linkedin') returning id")
            .Single();

        //
        // Act
        //
        var result = Connection.Read(new
            {
                id = default(Guid),
                name = default(string),
                linkedin = default(string)
            },
            "select get_company_details(@id)", new { id }) // get_company_details udf
            .Single();

        //
        // Assert
        //
        result.Should().BeEquivalentTo(new
        {
            id,
            name = "name",
            linkedin = "linkedin"
        });
    }
}
</code></pre><h2 id=advanced-usage>Advanced Usage<a class="anchor bookmark-target"href=#advanced-usage><i class="bi bi-link-45deg"></i></a></h2><h3 id=configuration-file>Configuration file:<a class="anchor bookmark-target"href=#configuration-file><i class="bi bi-link-45deg"></i></a></h3><ul><li><p>Configuration file is mandatory.<li><p>Configuration needs to be copied to output directory on build.<li><p>Configuration file name must be either <code>testsettings.json</code>, <code>testsettings.Development.json</code>˙, <code>appsettings.json</code> or <code>appsettings.Development.json</code> in that order.<li><p>Note: see sample configuration file here: <a href=https://github.com/vb-consulting/XUnit.Npgsql/blob/master/testsettings-config-sample.jsonc>testsettings.json sample</a><li><p>Configuration can contain <code>ConnectionStrings</code> section<li><p>Configuration file must contain <code>TestSettings</code> section. This sections can have these values:<ul><li><code>TestConnection</code> - connection string name from <code>ConnectionStrings</code> section to the test database.<li><code>ConfigPath</code> - path to the configuration file. This is useful when you want to use different configuration file for different environments. e.g. <code>ConfigPath: "appsettings.Development.json"</code><li><code>TestDatabaseName</code> - name of the test database. Default connection is used for server and this name for database name. If not specified, test database will be created with random name. If it is specified name will be appended with random string to ensure that test database is unique. This database is recreated and dropped on every test session unless <code>SkipCreateTestDatabase</code> is set to true.<li><code>SkipCreateTestDatabase</code> - skip creating and dropping test database. Default is false.<li><code>TestDatabaseFromTemplate</code> - If set to true, the test database will be created from a <a href=https://www.postgresql.org/docs/current/manage-ag-templatedbs.html>template database</a>. PostgreSQL can create a new database from a template database together with data, very fast.<li><code>UpScripts</code> - list of scripts to run before tests. Scripts are run in order.<li><code>DownScripts</code> - list of scripts to run after tests. Scripts are run in order.<li><code>UnitTestsUnderTransaction</code> - if set to true, all tests will be run under transaction that is rolled-back when test ends. This is useful when you want to run tests in parallel. Default is true.<li><code>DisableConstraintCheckingForTransaction</code> - when running tests under transaction, this will disable constraint checking. This is useful when arranging test data, all related tables don't have to be populated. Default is true.<li><code>UnitTestsNewDatabaseFromTemplate</code> - if set to true, all tests will run in unique database created from a template. This is useful when testing sequences. Default is false.</ul></ul><h3 id=overriding-configuration-in-test-class>Overriding configuration in test class<a class="anchor bookmark-target"href=#overriding-configuration-in-test-class><i class="bi bi-link-45deg"></i></a></h3><pre><code class=language-cs>using XUnit.Npgsql;
using Norm;

public class MyDatabaseTests : PostgreSqlUnitTest
{
    public MyDatabaseTests(PostgreSqlUnitTestFixture tests) : base(
        tests,
        // override "create new database from template" behavior for these tests
        newDatabaseFromTemplate: false, 
        // override test database name for these tests (if set name is exact, without guid)
        testDatabaseName: "test_database_name", 
        // override "run tests under transaction" behavior for these tests
        underTransaction: true, 
        // override "disable constraint checking for transaction" behavior for these tests
        disableConstraintCheckingForTransaction: false 
    ) { }

    [Fact]
    public void Test()
    {
        // arrange
        // act
        // assert ...
    }
}
</code></pre><h3 id=overriding-configuration-test-fixtures-class>Overriding configuration test fixtures class<a class="anchor bookmark-target"href=#overriding-configuration-test-fixtures-class><i class="bi bi-link-45deg"></i></a></h3><pre><code class=language-cs>[CollectionDefinition("PostgreSqlDatabase")]
public class TestCollection : ICollectionFixture&lt;CustomTestFixtures> { }

public class CustomTestFixtures : PostgreSqlUnitTestFixture
{
    public CustomTestFixtures() : base()
    {
        // override default constructor before tests are run
        // this is executed once per project
    }

    public override void Dispose()
    {
        // override default dispose after tests are run
        // this is executed once per project
        base.Dispose();
    }

    public override void CreateTestDatabase(NpgsqlConnection connection)
    {
        // override creating test database for all tests or call base method (that creates database from configuration)
        // CreateTestDatabase is called from default constructor
        base.CreateTestDatabase(connection);
    }

    public override void DropTestDatabase(NpgsqlConnection connection)
    {
        // override dropping test database for all tests or call base method (that creates database from configuration)
        // DropTestDatabase is called from Dispose method
        base.DropTestDatabase(connection);
    }

    public override void ApplyMigrations(NpgsqlConnection connection, List&lt;string> scriptPaths)
    {
        // override apply migrations method
        // this method is called twice: 
        // 1) from default constructor (after CreateTestDatabase) for up migrations
        // 2) from Dispose method (before DropTestDatabase) for down migrations
        base.ApplyMigrations(connection, scriptPaths);
    }
}
</code></pre><p>And, change the reference in the unit test:<pre><code class=language-cs>public class MyDatabaseTests : PostgreSqlUnitTest
{
    public MyDatabaseTests(CustomTestFixtures tests) : base(tests) { }

    // the rest of the tests
}
</code></pre><h2 id=dependencies>Dependencies<a class="anchor bookmark-target"href=#dependencies><i class="bi bi-link-45deg"></i></a></h2><pre><code>Microsoft.Extensions.Configuration >= 7.0.0
Microsoft.Extensions.Configuration.Binder >= 7.0.4
Microsoft.Extensions.Configuration.Json >= 7.0.0
Npgsq >= 7.0.0
xunit >= 2.0.0
</code></pre><h2 id=changelog>Changelog<a class="anchor bookmark-target"href=#changelog><i class="bi bi-link-45deg"></i></a></h2><h2 id=113-2023-09-06><a href=https://github.com/vb-consulting/XUnit.Npgsql/tree/1.1.3>1.1.3</a> (2023-09-06)<a class="anchor bookmark-target"href=#113-2023-09-06><i class="bi bi-link-45deg"></i></a></h2><p><a href=https://github.com/vb-consulting/XUnit.Npgsql/compare/1.1.2...1.1.3>Full Changelog</a><p>Expose <code>IConfigurationRoot</code> as static public readonly property of ťhe <code>Config</code> class.<p>This is useful to access custom configuiration values without having to load configuiration file again (e.g. <code>Config.ConfigurationRoot.GetConnectionString("AdminConnection")</code>)<h2 id=112-2023-08-27><a href=https://github.com/vb-consulting/XUnit.Npgsql/tree/1.1.2>1.1.2</a> (2023-08-27)<a class="anchor bookmark-target"href=#112-2023-08-27><i class="bi bi-link-45deg"></i></a></h2><p><a href=https://github.com/vb-consulting/XUnit.Npgsql/compare/1.1.1...1.1.2>Full Changelog</a><p>Add default value to config and check is string null or empty.<h2 id=111-2023-08-27><a href=https://github.com/vb-consulting/XUnit.Npgsql/tree/1.1.1>1.1.1</a> (2023-08-27)<a class="anchor bookmark-target"href=#111-2023-08-27><i class="bi bi-link-45deg"></i></a></h2><p><a href=https://github.com/vb-consulting/XUnit.Npgsql/compare/1.1.0...1.1.1>Full Changelog</a><p>If <code>SkipCreateTestDatabase</code> is true and <code>TestDatabaseName</code> is set, change the connection database to <code>TestDatabaseName</code> instead of the default database.<h2 id=110-2023-08-27><a href=https://github.com/vb-consulting/XUnit.Npgsql/tree/1.1.0>1.1.0</a> (2023-08-27)<a class="anchor bookmark-target"href=#110-2023-08-27><i class="bi bi-link-45deg"></i></a></h2><p><a href=https://github.com/vb-consulting/XUnit.Npgsql/compare/1.0.2...1.1.0>Full Changelog</a><h3 id=new-setting-skipcreatetestdatabase>New setting SkipCreateTestDatabase<a class="anchor bookmark-target"href=#new-setting-skipcreatetestdatabase><i class="bi bi-link-45deg"></i></a></h3><p>Set to true to skip the creation of the test database.<p>The database from the connection string will be used directly and no test database will be created or dropped.<p>This doesn't apply to <code>UnitTestsNewDatabaseFromTemplate</code> setting will create and drop new template database from this database on each unit test. This settings cannot be combined with <code>TestDatabaseFromTemplate</code> because the you can't create a template database if you choose to skip creating a test database.<h3 id=improvements>Improvements<a class="anchor bookmark-target"href=#improvements><i class="bi bi-link-45deg"></i></a></h3><ul><li><p>Fixed strange PostgreSQL bug where test database can't be dropped because PostgreSQL thinks it's in pipeline mode (although it isn't).<li><p>Add global counter for test database name when using <code>TestDatabaseFromTemplate</code> for each unit tests (besides timestamps guid).</ul><h2 id=currently-supported-platforms>Currently supported platforms<a class="anchor bookmark-target"href=#currently-supported-platforms><i class="bi bi-link-45deg"></i></a></h2><ul><li>.NET Standard 2.1</ul><h2 id=support>Support<a class="anchor bookmark-target"href=#support><i class="bi bi-link-45deg"></i></a></h2><p>This is open-source software developed and maintained freely without any compensation whatsoever.<h2 id=licence>Licence<a class="anchor bookmark-target"href=#licence><i class="bi bi-link-45deg"></i></a></h2><p>Copyright (c) Vedran Bilopavlović - VB Consulting and VB Software 2020 This source code is licensed under the <a href=https://github.com/vbilopav/XUnit.Npgsql/blob/master/LICENSE>MIT license</a>.</div></div><div class="rightside svelte-1sva13r"><div class=svelte-1sva13r><ul class="navbar-nav sidenav svelte-1sva13r"><li class="nav-txt-divider text-muted svelte-1sva13r"><hr class=svelte-1sva13r><span class=svelte-1sva13r>on this page</span><hr class=svelte-1sva13r><li class="nav-item toc1 right svelte-1sva13r bookmark-nav"data-id=xunitnpgsql title=XUnit.Npgsql><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#xunitnpgsql>XUnit.Npgsql</a><li class="nav-item toc2 right svelte-1sva13r bookmark-nav"data-id=basic-usage title="Basic Usage"><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#basic-usage>Basic Usage</a><li class="nav-item toc2 right svelte-1sva13r bookmark-nav"data-id=advanced-usage title="Advanced Usage"><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#advanced-usage>Advanced Usage</a><li class="nav-item toc3 right svelte-1sva13r bookmark-nav"data-id=configuration-file title="Configuration file:"><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#configuration-file>Configuration file:</a><li class="nav-item toc3 right svelte-1sva13r bookmark-nav"data-id=overriding-configuration-in-test-class title="Overriding configuration in test class"><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#overriding-configuration-in-test-class>Overriding configuration in test class</a><li class="nav-item toc3 right svelte-1sva13r bookmark-nav"data-id=overriding-configuration-test-fixtures-class title="Overriding configuration test fixtures class"><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#overriding-configuration-test-fixtures-class>Overriding configuration test fixtures class</a><li class="nav-item toc2 mt-4 right svelte-1sva13r bookmark-nav"data-id=dependencies title=Dependencies><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#dependencies>Dependencies</a><li class="nav-item toc2 right svelte-1sva13r bookmark-nav"data-id=changelog title=Changelog><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#changelog>Changelog</a><li class="nav-item toc2 right svelte-1sva13r bookmark-nav"data-id=113-2023-09-06 title="1.1.3 (2023-09-06)"><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#113-2023-09-06>1.1.3 (2023-09-06)</a><li class="nav-item toc2 right svelte-1sva13r bookmark-nav"data-id=112-2023-08-27 title="1.1.2 (2023-08-27)"><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#112-2023-08-27>1.1.2 (2023-08-27)</a><li class="nav-item toc2 right svelte-1sva13r bookmark-nav"data-id=111-2023-08-27 title="1.1.1 (2023-08-27)"><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#111-2023-08-27>1.1.1 (2023-08-27)</a><li class="nav-item toc2 right svelte-1sva13r bookmark-nav"data-id=110-2023-08-27 title="1.1.0 (2023-08-27)"><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#110-2023-08-27>1.1.0 (2023-08-27)</a><li class="nav-item toc3 right svelte-1sva13r bookmark-nav"data-id=new-setting-skipcreatetestdatabase title="New setting SkipCreateTestDatabase"><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#new-setting-skipcreatetestdatabase>New setting SkipCreateTestDatabase</a><li class="nav-item toc3 right svelte-1sva13r bookmark-nav"data-id=improvements title=Improvements><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#improvements>Improvements</a><li class="nav-item toc2 mt-4 right svelte-1sva13r bookmark-nav"data-id=currently-supported-platforms title="Currently supported platforms"><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#currently-supported-platforms>Currently supported platforms</a><li class="nav-item toc2 right svelte-1sva13r bookmark-nav"data-id=support title=Support><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#support>Support</a><li class="nav-item toc2 right svelte-1sva13r bookmark-nav"data-id=licence title=Licence><a class="nav-link auto-close svelte-1sva13r bookmark-link"href=#licence>Licence</a></ul></div></div></main><script>!function(){var i=document.querySelector("nav.navbar"),L=document.getElementsByTagName("main")[0],w=L.getElementsByClassName("sidebar")[0],E=L.getElementsByClassName("content")[0],a=document.querySelectorAll("div.code");function k(e,t){for(var n=2;n<arguments.length;n++)e.classList.remove(arguments[n]);e.classList.add(t)}var t=document.getElementsByTagName("html")[0],s=i.querySelector("#theme-btn"),o="theme";function n(e){var t=s.getElementsByTagName("svg");"dark"===e?(t[0].style.display="",t[1].style.display="none",s.getElementsByClassName("check")[0].classList.add("checked")):(t[0].style.display="none",t[1].style.display="",s.getElementsByClassName("check")[0].classList.remove("checked"));for(var n=0;n<a.length;n++){var i=a[n];"dark"===e?(i.children[1].style.display="inherit",i.children[2].style.display="none"):"light"===e&&(i.children[1].style.display="none",i.children[2].style.display="inherit")}window._theme&&window._theme(e)}function r(e,t){var n=e.currentTarget;if(!n.classList.contains("bi-check")){for(var i="",a=0;a<n.classList.length;a++)if(n.classList[a].startsWith("bi-")){i=n.classList[a];break}n.classList.remove(i),n.classList.add("spinner-border-sm"),n.classList.add("spinner-border");e=bootstrap.Tooltip.getInstance(n);e&&(e.setContent({".tooltip-inner":"Copying..."}),e.show()),t(n,function(){var e;n.classList.remove(i),n.classList.remove("spinner-border-sm"),n.classList.remove("spinner-border"),n.classList.add("bi-check"),bootstrap&&(e=bootstrap.Tooltip.getInstance(n))&&(e.setContent({".tooltip-inner":"Copied!"}),e.show()),setTimeout(function(){var e;n.classList.add(i),n.classList.remove("bi-check"),bootstrap&&(e=bootstrap.Tooltip.getInstance(n))&&e.setContent({".tooltip-inner":n.dataset.bsTitle})},2e3)})}}function e(e){r(e,function(e,t){navigator.clipboard.writeText(e.parentElement.nextSibling.innerText),t()})}function l(e){r(e,function(e,t){var n=localStorage.getItem(o);e="dark"===n?e.parentElement.parentElement.children[1]:e.parentElement.parentElement.children[2],setTimeout(function(){html2canvas(e).then(e=>{e.toBlob(e=>navigator.clipboard.write([new ClipboardItem({"image/png":e})])),t()})},0)})}s.addEventListener("click",()=>{var e="dark"===localStorage.getItem(o)?"light":"dark";localStorage.setItem(o,e),n(t.dataset.bsTheme=e)}),n(localStorage.getItem(o)),s.children[0].classList.remove("hidden");for(var c=0;c<a.length;c++)a[c].getElementsByClassName("copy-code")[0].addEventListener("click",e),a[c].getElementsByClassName("photo-code")[0].addEventListener("click",l);for(var d,T=function(){var s,a,o;if(L.children[2]&&"none"!=L.children[2].style.display)return s=L.children[1].children[0].querySelectorAll("[id]"),a=void 0,this.initNavs=function(e){o=e.querySelectorAll("li.bookmark-nav");for(var t=0;t<s.length;t++){for(var n=s[t].id,i=null,a=0;a<o.length;a++)if(o[a].dataset.id==n){i=o[a];break}s[t].nav=i}setTimeout(function(){for(var e=0;e<s.length;e++){var t=s[e];if(r(t).visible&&t.nav)return void t.nav.classList.add("active")}},1e3),l()},L.children[1].addEventListener("scroll",l),this;function r(e){var e=e.getBoundingClientRect(),t=Math.max(document.documentElement.clientHeight,window.innerHeight),n=0<e.top&&!(e.bottom<0||0<=e.top-t)||e.top<0&&e.bottom>t,i=!1;return{visible:n,above:i=n?i:e.bottom<t}}function l(){if(o&&o.length){for(var e=0;e<o.length;e++)o[e].classList.remove("active");for(var t=void 0,e=0;e<s.length;e++){const i=s[e];var n=r(i);if(!n.visible&&n.above&&(t=i.nav),n.visible&&i.nav&&!i.nav.classList.contains("active"))return i.nav.classList.add("active"),a&&clearTimeout(a),void(a=setTimeout(function(){i.nav.scrollIntoView({behavior:"smooth"}),a=void 0},250))}t&&!t.classList.contains("active")&&(t.classList.add("active"),a&&clearTimeout(a),a=setTimeout(function(){t.scrollIntoView({behavior:"smooth"}),a=void 0},250))}}}(),h=function(){var r,l=i.querySelector("#nav-btn"),c=w&&w.firstChild.getElementsByTagName("button")[0],d=480,h="200px",v="0.25fr",m=730,u=535,g=L.children[0].children[0].children[1],b=L.children[2]&&L.children[2].children[0].children[0],e="sidebar-pinned",p=null==localStorage.getItem(e)||"true"==localStorage.getItem(e),y=!1,f=!1;function t(){window._onresize&&window._onresize();var e=window.outerWidth||window.innerWidth,t=e<d,n=t?y?"100%":"0":p?""+h:"0",i=`grid-template-columns: ${n} 1fr`,a=t&&y?"width: 100%":"0"!=n?"":"display: none",s=t&&y?"display: none":"",o=t?y?"sidebar-show":"sidebar-hide":p?"sidebar-show":"sidebar-hide",n="0"==n;L.children[2]&&(v&&m&&u&&(n&&e<u||!n&&e<m?f||(g.innerHTML=r+b.innerHTML,T.initNavs(g),f=!0):f&&(g.innerHTML=r,T.initNavs(b),f=!1)),!v||t||f?(i+=";",L.children[2].style.display="none"):(i+=` ${v};`,L.children[2].style.display="")),k(l,!t&&p||t&&y?"rotate":"rotate-back","rotate","rotate-back"),L.style=w?i:"display: grid;",w&&k(w,o,"sidebar-show","sidebar-hide"),w&&(w.firstChild.style=a),c&&(c.style.display=t?"":"none"),E.style=s}function n(){window.outerWidth<d?y=!y:p=!p,localStorage.setItem(e,p.toString()),t()}return v&&m&&u&&b&&(r=g.innerHTML,T.initNavs(b)),l.addEventListener("click",n),c&&c.addEventListener("click",()=>{y=!1,t()}),(window.onresize=t)(),this.closeSidebar=function(){window.outerWidth<d&&y&&n()},this}(),v=document.getElementsByClassName("auto-close"),m=0;m<v.length;m++)v[m].addEventListener("click",function(e){h.closeSidebar()});location.hash&&(d=document.getElementById(location.hash.replace("#","")))&&d.scrollIntoView()}();</script><script src=/bootstrap.bundle.min.js></script><script>!function(){for(var t=document.querySelectorAll('[data-bs-toggle="tooltip"]'),e=0;e<t.length;e++)new bootstrap.Tooltip(t[e]);var o=document.getElementsByClassName("accordion-item");if(o.length)for(e=0;e<o.length;e++){var l=o[e];l.querySelectorAll("[href='"+document.location.pathname+"']").length&&l.firstChild.click()}}();</script><script src=/html2canvas.min.js></script><script async defer src=https://buttons.github.io/buttons.js></script><script async data-id=101435862 src=//static.getclicky.com/js></script>