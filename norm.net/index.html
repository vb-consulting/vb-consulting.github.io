<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Norm.NET Data Access</title><meta name="description" content="Norm.net High Performance Micro ORM Data Access for .NET"><meta name="keywords" content="net, dotnet, c#, csharp, netcore, orm, microorm, database-mapper, mapper, data, sql"><link href="https://vb-consulting.github.io//norm.net/" rel="canonical"><link rel="stylesheet" href="/_elderjs/assets/svelte-e0e6468f.css" media="all"><style></style><link href="/style.css?1719994158246" rel="stylesheet"><script>!function(){var e="theme",t=localStorage.getItem(e);t||(t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",localStorage.setItem(e,t)),document.getElementsByTagName("html")[0].dataset.bsTheme=t}();</script></head><body class="d-flex flex-column h-100"><header id="header"><nav class="navbar navbar-expand-md navbar-dark fixed-top py-0 py-md-0 svelte-30jr7w"><div class="container-fluid flex-nowrap svelte-30jr7w"><div class="d-flex svelte-30jr7w"><button id="nav-btn" type="button" class="d-flex btn btn-sm logo animate-rotate svelte-30jr7w"><i class="material-icons-outlined">menu</i></button> <a class="nav-link my-auto ms-2 fw-semibold home svelte-30jr7w" href="/"><i class="bi-chevron-double-left"></i> VB Home</a></div><div class="d-flex right svelte-30jr7w"><a class="nav-link my-auto svelte-30jr7w" data-bs-toggle="tooltip" data-bs-html="true" title="Become a Patreon" href="https://www.patreon.com/vbconsulting" target="_blank"><div class="patreon"></div></a><div class="vr1 text-muted my-auto svelte-30jr7w"></div><a class="nav-link my-auto svelte-30jr7w" data-bs-toggle="tooltip" data-bs-html="true" title="Buy Me a Coffee" href="https://www.buymeacoffee.com/vbilopavu" target="_blank"><div class="bmc"></div></a><div class="vr1 text-muted my-auto svelte-30jr7w"></div><a class="nav-link my-auto me-2 svelte-30jr7w" data-bs-toggle="tooltip" data-bs-html="true" title="norm.net on GitHub" href="https://github.com/vb-consulting/norm.net/"><i class="bi-github"></i></a> <a class="github-button svelte-30jr7w" href="https://github.com/vb-consulting/norm.net/" data-bs-toggle="tooltip" data-bs-html="true" title="Star norm.net on GitHub" data-color-scheme="no-preference: light_high_contrast; light: light_high_contrast; dark: light_high_contrast;" data-icon="octicon-star" data-show-count="true" aria-label="Star norm.net on GitHub"></a><div class="vr1 text-muted my-auto svelte-30jr7w"></div><button id="theme-btn" type="button" aria-pressed="true" aria-label="theme" class="svelte-30jr7w"><span class="check hidden svelte-30jr7w"><span class="icon svelte-30jr7w"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="svelte-30jr7w"><path fill="currentColor" d="M12 21q-3.775 0-6.388-2.613T3 12q0-3.45 2.25-5.988T11 3.05q.625-.075.975.45t-.025 1.1q-.425.65-.638 1.375T11.1 7.5q0 2.25 1.575 3.825T16.5 12.9q.775 0 1.538-.225t1.362-.625q.525-.35 1.075-.037t.475.987q-.35 3.45-2.937 5.725T12 21Zm0-2q2.2 0 3.95-1.213t2.55-3.162q-.5.125-1 .2t-1 .075q-3.075 0-5.238-2.163T9.1 7.5q0-.5.075-1t.2-1q-1.95.8-3.163 2.55T5 12q0 2.9 2.05 4.95T12 19Zm-.25-6.75Z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="svelte-30jr7w"><g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M0 0h24v24H0z"></path><path fill="currentColor" d="M12 19a1 1 0 0 1 .993.883L13 20v1a1 1 0 0 1-1.993.117L11 21v-1a1 1 0 0 1 1-1zm6.313-2.09l.094.083l.7.7a1 1 0 0 1-1.32 1.497l-.094-.083l-.7-.7a1 1 0 0 1 1.218-1.567l.102.07zm-11.306.083a1 1 0 0 1 .083 1.32l-.083.094l-.7.7a1 1 0 0 1-1.497-1.32l.083-.094l.7-.7a1 1 0 0 1 1.414 0zM4 11a1 1 0 0 1 .117 1.993L4 13H3a1 1 0 0 1-.117-1.993L3 11h1zm17 0a1 1 0 0 1 .117 1.993L21 13h-1a1 1 0 0 1-.117-1.993L20 11h1zM6.213 4.81l.094.083l.7.7a1 1 0 0 1-1.32 1.497l-.094-.083l-.7-.7A1 1 0 0 1 6.11 4.74l.102.07zm12.894.083a1 1 0 0 1 .083 1.32l-.083.094l-.7.7a1 1 0 0 1-1.497-1.32l.083-.094l.7-.7a1 1 0 0 1 1.414 0zM12 2a1 1 0 0 1 .993.883L13 3v1a1 1 0 0 1-1.993.117L11 4V3a1 1 0 0 1 1-1zm0 5a5 5 0 1 1-4.995 5.217L7 12l.005-.217A5 5 0 0 1 12 7z"></path></g></svg></span></span></button></div></div></nav></header><main class="svelte-9zwk14"><div class="sidebar sidebar-hide svelte-9zwk14"><div class="svelte-9zwk14"><ul class="navbar-nav sidenav accordion svelte-9zwk14"><li class="accordion-item svelte-9zwk14" title="VB-Consulting"><button class="accordion-header accordion-button collapsed svelte-9zwk14 text-uppercase" href="/" type="button" data-bs-toggle="collapse" data-bs-target="#accordion-vb-consulting" aria-expanded="false" aria-controls="accordion-vb-consulting">VB-Consulting</button><div id="accordion-vb-consulting" class="accordion-collapse collapse"><div class="accordion-body svelte-9zwk14"><ul class="navbar-nav"><li class="nav-item svelte-9zwk14" data-id="" title="Home"><a class="nav-link svelte-9zwk14 text-uppercase" href="/">Home</a></li><li class="nav-divider svelte-9zwk14"><hr class="svelte-9zwk14"></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="NpgsqlRest"><a class="nav-link svelte-9zwk14 text-uppercase" href="/npgsqlrest/">NpgsqlRest</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="RazorSvelte"><a class="nav-link svelte-9zwk14 text-uppercase" href="/razorsvelte/">RazorSvelte</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="PgRoutiner"><a class="nav-link svelte-9zwk14 text-uppercase" href="/pgroutiner/">PgRoutiner</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="XUnit.Npgsql"><a class="nav-link svelte-9zwk14 text-uppercase" href="/xunit.npgsql/">XUnit.Npgsql</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="pgmigrations"><a class="nav-link svelte-9zwk14 text-uppercase" href="/pgmigrations/">pgmigrations</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="PostrgeSQL Schema Tools"><a class="nav-link svelte-9zwk14 text-uppercase" href="/pg_schema_tools/">PostrgeSQL Schema Tools</a></li><li class="nav-txt-divider text-muted svelte-9zwk14"><hr class="svelte-9zwk14"><span class="svelte-9zwk14">blogs</span><hr class="svelte-9zwk14"></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="<span class='btn-link'>ALL BLOGS</span>"><a class="nav-link btn btn-sm w-fit px-3 mx-auto svelte-9zwk14 lr-arrow text-uppercase" href="/blogs/"><i class="bi bi-arrow-right-circle svelte-9zwk14"></i> <span class="btn-link">ALL BLOGS</span></a></li><li class="nav-item svelte-9zwk14" data-id="" title="Unit Testing and TDD With PostgreSQL is Easy"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/unit-testing-postgresql/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>Unit Testing and TDD With PostgreSQL is Easy</a></li><li class="nav-item svelte-9zwk14" data-id="" title="From Transaction Scripts and Domain Model to SQL"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/domain-model-transaction-script/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>From Transaction Scripts and Domain Model to SQL</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Transaction Script DDD vs SQL"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/transaction-script/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>Transaction Script DDD vs SQL</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Common Sense Software Design"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/common-sense-design/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>Common Sense Software Design</a></li><li class="nav-item svelte-9zwk14" data-id="" title="NpgsqlRest v2 Update üêòüî•"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/npgsqlrest-v2/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>NpgsqlRest v2 Update üêòüî•</a></li><li class="nav-item svelte-9zwk14" data-id="" title="NpgsqlRest Update 1.6.2"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/npgsqlrest-update1.6.2/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>NpgsqlRest Update 1.6.2</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PostgreSQL Arrays üêò"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/postgresql-array/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>PostgreSQL Arrays üêò</a></li><li class="nav-item svelte-9zwk14" data-id="" title="How DDD is screwing up your SQL"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/sql-vs-ddd/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>How DDD is screwing up your SQL</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PostgreSQL Paging Benchmarks"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/postgresql-paging/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>PostgreSQL Paging Benchmarks</a></li><li class="nav-item svelte-9zwk14" data-id="" title="NpgsqlRest NuGet Library"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/npgsqlrest/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>NpgsqlRest NuGet Library</a></li></ul></div></div></li><li class="nav-txt-divider text-muted svelte-9zwk14"><hr class="svelte-9zwk14"><span class="svelte-9zwk14">norm.net</span><hr class="svelte-9zwk14"></li><li class="nav-item toc2 svelte-9zwk14 active" data-id="" title="Norm.Net"><a class="nav-link svelte-9zwk14 text-uppercase" href="/norm.net/">Norm.Net</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="example project"><a class="nav-link svelte-9zwk14 text-uppercase" href="/norm.net/example/">example project</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="benchmarks"><a class="nav-link svelte-9zwk14 text-uppercase" href="/norm.net/benchmarks/">benchmarks</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="changelog"><a class="nav-link svelte-9zwk14 text-uppercase" href="/norm.net/changelog/">changelog</a></li><li class="accordion-item toc2 svelte-9zwk14" title="docs"><button class="accordion-header accordion-button collapsed svelte-9zwk14 lr-arrow text-uppercase" type="button" data-bs-toggle="collapse" data-bs-target="#accordion-docs" aria-expanded="false" aria-controls="accordion-docs"><i class="bi bi-file-earmark-text svelte-9zwk14"></i>docs</button><div id="accordion-docs" class="accordion-collapse collapse"><div class="accordion-body svelte-9zwk14"><ul class="navbar-nav"><li class="nav-txt-divider text-muted svelte-9zwk14"><hr class="svelte-9zwk14"><span class="svelte-9zwk14">getting started</span><hr class="svelte-9zwk14"></li><li class="nav-item svelte-9zwk14" data-id="" title="Introduction"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/norm.net/docs/getting-started/introduction/"><i class="bi bi-file-text svelte-9zwk14"></i>Introduction</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Installation"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/norm.net/docs/getting-started/installation/"><i class="bi bi-file-text svelte-9zwk14"></i>Installation</a></li><li class="nav-item svelte-9zwk14" data-id="" title="First Use"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/norm.net/docs/getting-started/first-use/"><i class="bi bi-file-text svelte-9zwk14"></i>First Use</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Basic Concepts"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/norm.net/docs/getting-started/basic-concepts/"><i class="bi bi-file-text svelte-9zwk14"></i>Basic Concepts</a></li><li class="nav-txt-divider text-muted svelte-9zwk14"><hr class="svelte-9zwk14"><span class="svelte-9zwk14">reference</span><hr class="svelte-9zwk14"></li><li class="nav-item svelte-9zwk14" data-id="" title="Methods"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/norm.net/docs/reference/methods/"><i class="bi bi-file-text svelte-9zwk14"></i>Methods</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Options"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/norm.net/docs/reference/options/"><i class="bi bi-file-text svelte-9zwk14"></i>Options</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Parameters"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/norm.net/docs/reference/parameters/"><i class="bi bi-file-text svelte-9zwk14"></i>Parameters</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Read Mappings"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/norm.net/docs/reference/read/"><i class="bi bi-file-text svelte-9zwk14"></i>Read Mappings</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Multiple Mappings"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/norm.net/docs/reference/multiple/"><i class="bi bi-file-text svelte-9zwk14"></i>Multiple Mappings</a></li></ul></div></div></li></ul></div></div><div class="content svelte-9zwk14"><div class="content container-xxl bd-gutter mx-auto main-content svelte-qb600q"><h1 class="text-center mb-3 svelte-qb600q">Norm.NET Micro ORM</h1><div class="container-sm text-muted mx-auto text-center lead mb-3 svelte-qb600q"><h2 class="fs-1_25rem">Norm.NET Micro ORM is a one-way lightweight object-relational mapping library.</h2><h3 class="fs-1rem">Micro ORM for .NET/C#.</h3><p><a class="btn btn-link btn-sm lr-arrow" href="/blog/micro-orm/"><i class="bi bi-arrow-right-circle me-1"></i> What is Micro ORM Blog Post</a></p></div><div class="container-sm lead mb-4 mt-5 text-center fs-1rem svelte-qb600q"><div class="row row-cols-auto justify-content-center"><div class="col"><a href="#installation" class="rl-arrow bookmark-link text-uppercase"><span>Installation</span> <i class="bi bi-box-arrow-in-down"></i></a></div><div class="col"><a href="#compatibility" class="rl-arrow bookmark-link text-uppercase"><span>compatibility</span> <i class="bi bi-card-checklist"></i></a></div><div class="col"><a href="#perfomances" class="rl-arrow bookmark-link text-uppercase"><span>perfomances</span> <i class="bi bi-speedometer"></i></a></div></div></div><div class="container lead mb-4 text-center svelte-qb600q"><div class="row row-cols-auto justify-content-center"><div class="col"><div class="main-list svelte-qb600q"><div class="svelte-qb600q"><a href="#tuples" class="rl-arrow bookmark-link text-uppercase"><span>name and value tuples</span> <i class="bi bi-hash"></i></a></div><div class="svelte-qb600q"><a href="#instances" class="rl-arrow bookmark-link text-uppercase"><span>classes and record instances</span> <i class="bi bi-hash"></i></a></div><div class="svelte-qb600q"><a href="#values" class="rl-arrow bookmark-link text-uppercase"><span>deconstructed tuple values</span> <i class="bi bi-hash"></i></a></div><div class="svelte-qb600q"><a href="#named-tuples" class="rl-arrow bookmark-link text-uppercase"><span>named tuples</span> <i class="bi bi-hash"></i></a></div><div class="svelte-qb600q"><a href="#prototype-instances" class="rl-arrow bookmark-link text-uppercase"><span>prototype instances</span> <i class="bi bi-hash"></i></a></div></div></div><div class="col"><div class="main-list svelte-qb600q"><div class="svelte-qb600q"><a href="#async-streaming" class="rl-arrow bookmark-link text-uppercase"><span>Asynchronous streaming</span> <i class="bi bi-hash"></i></a></div><div class="svelte-qb600q"><a href="#multiple" class="rl-arrow bookmark-link text-uppercase"><span>multiple queries</span> <i class="bi bi-hash"></i></a></div><div class="svelte-qb600q"><a href="#nested-mapping" class="rl-arrow bookmark-link text-uppercase"><span>nested mapping</span> <i class="bi bi-hash"></i></a></div><div class="svelte-qb600q"><a href="#nullable-instances" class="rl-arrow bookmark-link text-uppercase"><span>Nullable instances</span> <i class="bi bi-hash"></i></a></div><div class="svelte-qb600q"><a href="#enums-and-arrays" class="rl-arrow bookmark-link text-uppercase"><span>Complex types</span> <i class="bi bi-hash"></i></a></div></div></div><div class="col"><div class="main-list svelte-qb600q"><div class="svelte-qb600q"><a href="#prepared" class="rl-arrow bookmark-link text-uppercase"><span>prepared mode</span> <i class="bi bi-hash"></i></a></div><div class="svelte-qb600q"><a href="#postgres-optimizations" class="rl-arrow bookmark-link text-uppercase"><span>PostgreSQL optimizations</span> <i class="bi bi-hash"></i></a></div><div class="svelte-qb600q"><a href="#reader-callback" class="rl-arrow bookmark-link text-uppercase"><span>low-level data reader</span> <i class="bi bi-hash"></i></a></div><div class="svelte-qb600q"><a href="#custom-mapping" class="rl-arrow bookmark-link text-uppercase"><span>Custom mapping</span> <i class="bi bi-hash"></i></a></div><div class="svelte-qb600q"><a href="#logging" class="rl-arrow bookmark-link text-uppercase"><span>Logging and analytics</span> <i class="bi bi-hash"></i></a></div></div></div></div></div><div class="install container d-flex flex-column align-items-center mb-4 svelte-qb600q" id="installation"><div class="lead text-center text-uppercase svelte-qb600q"><a href="#installation" class="bookmark-target svelte-qb600q"><i class="bi bi-link-45deg"></i></a> Installation</div><ul class="nav nav-tabs justify-content-center border-bottom border-bottom mb-3" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#netcli-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">.NET CLI</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#packagemanager-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">Package Manager</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#packagereference-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">Package Reference</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#scriptinteractive-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">Script & Interactive</button></li></ul><div class="tab-content"><div class="tab-pane fade show active" id="netcli-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><div class="one-liner"><div class="code bash"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #DCDCAA">dotnet</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">add</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">package</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">Norm.net</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">--version</span><span style="color: #E6E6E6"> </span><span style="color: #B5CEA8">5.4</span><span style="color: #CE9178">.0</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #795E26">dotnet</span><span style="color: #000000"> </span><span style="color: #A31515">add</span><span style="color: #000000"> </span><span style="color: #A31515">package</span><span style="color: #000000"> </span><span style="color: #A31515">Norm.net</span><span style="color: #000000"> </span><span style="color: #0000FF">--version</span><span style="color: #000000"> </span><span style="color: #098658">5.4</span><span style="color: #A31515">.0</span></span></code></pre></div></div></div><div class="tab-pane fade" id="packagemanager-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><div class="one-liner"><div class="code powershell"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #DCDCAA">NuGet\Install-Package</span><span style="color: #E6E6E6"> Norm.net </span><span style="color: #D4D4D4">-</span><span style="color: #E6E6E6">Version </span><span style="color: #B5CEA8">5.4</span><span style="color: #E6E6E6">.</span><span style="color: #B5CEA8">0</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #795E26">NuGet\Install-Package</span><span style="color: #000000"> Norm.net -Version </span><span style="color: #098658">5.4</span><span style="color: #000000">.</span><span style="color: #098658">0</span></span></code></pre></div></div></div><div class="tab-pane fade" id="packagereference-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><div class="one-liner"><div class="code xml"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">PackageReference</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Include</span><span style="color: #E6E6E6">=</span><span style="color: #CE9178">"Norm.net"</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Version</span><span style="color: #E6E6E6">=</span><span style="color: #CE9178">"5.4.0"</span><span style="color: #E6E6E6"> </span><span style="color: #808080">/></span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #800000">&lt;PackageReference</span><span style="color: #000000"> </span><span style="color: #E50000">Include</span><span style="color: #000000">=</span><span style="color: #0000FF">"Norm.net"</span><span style="color: #000000"> </span><span style="color: #E50000">Version</span><span style="color: #000000">=</span><span style="color: #0000FF">"5.4.0"</span><span style="color: #000000"> </span><span style="color: #800000">/></span></span></code></pre></div></div></div><div class="tab-pane fade" id="scriptinteractive-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><div class="one-liner"><div class="code yaml"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #6A9955">#r "nuget: Norm.net, 5.4.0"</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #008000">#r "nuget: Norm.net, 5.4.0"</span></span></code></pre></div></div></div></div></div><div class="compatibility container d-flex flex-column align-items-center mb-4 svelte-qb600q" id="compatibility"><div class="lead text-center text-uppercase svelte-qb600q"><a href="#compatibility" class="bookmark-target svelte-qb600q"><i class="bi bi-link-45deg"></i></a> Compatibility</div><ul class="nav nav-tabs justify-content-center border-bottom border-bottom mb-3" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#netstandard-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">.NET Standard</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#net-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">.NET</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#netcore-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">.NET Core</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#mono-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">Mono</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#tizen-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">Tizen</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#xamarin-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">Xamarin</button></li></ul><div class="tab-content"><div class="tab-pane fade text-center show active" id="netstandard-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><span class="pill fw-bolder svelte-qb600q">netstandard2.1</span></div><div class="tab-pane fade text-center" id="net-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><span class="pill svelte-qb600q">net5.0</span> <span class="pill svelte-qb600q">net5.0-windows</span> <span class="pill svelte-qb600q">net6.0</span> <span class="pill svelte-qb600q">net6.0-android</span> <span class="pill svelte-qb600q">net6.0-ios</span> <span class="pill svelte-qb600q">net6.0-maccatalyst</span> <span class="pill svelte-qb600q">net6.0-macos</span> <span class="pill svelte-qb600q">net6.0-tvos</span> <span class="pill svelte-qb600q">net6.0-windows</span> <span class="pill svelte-qb600q">net7.0</span> <span class="pill svelte-qb600q">net7.0-android</span> <span class="pill svelte-qb600q">net7.0-ios</span> <span class="pill svelte-qb600q">net7.0-maccatalyst</span> <span class="pill svelte-qb600q">net7.0-macos</span> <span class="pill svelte-qb600q">net7.0-tvos</span> <span class="pill svelte-qb600q">net7.0-windows</span> <span class="pill svelte-qb600q">net8.0</span> <span class="pill svelte-qb600q">net8.0-android</span> <span class="pill svelte-qb600q">net8.0-ios</span> <span class="pill svelte-qb600q">net8.0-maccatalyst</span> <span class="pill svelte-qb600q">net8.0-macos</span> <span class="pill svelte-qb600q">net8.0-tvos</span> <span class="pill svelte-qb600q">net8.0-windows</span></div><div class="tab-pane fade text-center" id="netcore-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><span class="pill svelte-qb600q">netcoreapp3.0</span> <span class="pill svelte-qb600q">netcoreapp3.1</span></div><div class="tab-pane fade text-center" id="mono-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><span class="pill svelte-qb600q">monoandroid</span> <span class="pill svelte-qb600q">monomac</span> <span class="pill svelte-qb600q">monotouch</span></div><div class="tab-pane fade text-center" id="tizen-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><span class="pill svelte-qb600q">tizen60</span></div><div class="tab-pane fade text-center" id="xamarin-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><span class="pill svelte-qb600q">xamarinios</span> <span class="pill svelte-qb600q">xamarinmac</span> <span class="pill svelte-qb600q">xamarintvos</span> <span class="pill svelte-qb600q">xamarinwatchos</span></div></div></div><div class="perfs container d-flex flex-column align-items-center mb-4 svelte-qb600q" id="perfomances"><div class="lead text-center text-uppercase svelte-qb600q"><a href="#perfomances" class="bookmark-target svelte-qb600q"><i class="bi bi-link-45deg"></i></a> Perfomances</div><ul class="nav nav-tabs justify-content-center border-bottom border-bottom mb-3" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#round1-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">Round 1</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round2-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">Round 2</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round3-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">Round 3</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round4-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">Round 4</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round5-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">Round 5</button></li></ul><div class="tab-content"><div class="tab-pane fade show active" id="round1-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><ul class="nav nav-tabs justify-content-center border-bottom border-bottom mb-3" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round110records-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">10 Records</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round11krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">1K Records</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round110krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">10K Records</button></li><li class="nav-item" role="presentation"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#round1100krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">100K Records</button></li></ul><div class="tab-content"><div class="tab-pane fade" id="round110records-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>634.3</td><td>1.00</td><td>8.26</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>517.6</td><td>0.82</td><td>3.56</td><td>0.43</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>731.3</td><td>1.15</td><td>16.24</td><td>1.96</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>569.9</td><td>0.90</td><td>9.58</td><td>1.16</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>544.7</td><td>0.86</td><td>2.9</td><td>0.35</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>530.4</td><td>0.84</td><td>9.15</td><td>1.11</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>549.6</td><td>0.87</td><td>9.76</td><td>1.18</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>535.1</td><td>0.84</td><td>8.29</td><td>1.00</td></tr></tbody></table></div><div class="tab-pane fade" id="round1100records-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>634.3</td><td>1.00</td><td>8.26</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>517.6</td><td>0.82</td><td>3.56</td><td>0.43</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>731.3</td><td>1.15</td><td>16.24</td><td>1.96</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>569.9</td><td>0.90</td><td>9.58</td><td>1.16</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>544.7</td><td>0.86</td><td>2.9</td><td>0.35</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>530.4</td><td>0.84</td><td>9.15</td><td>1.11</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>549.6</td><td>0.87</td><td>9.76</td><td>1.18</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>535.1</td><td>0.84</td><td>8.29</td><td>1.00</td></tr></tbody></table></div><div class="tab-pane fade" id="round11krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>5,664.2</td><td>1.00</td><td>740.91</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>5,213.1</td><td>0.92</td><td>295.41</td><td>0.40</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>6,188.4</td><td>1.10</td><td>493.08</td><td>0.67</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,768.0</td><td>1.02</td><td>594.89</td><td>0.80</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>6,068.6</td><td>1.07</td><td>209.06</td><td>0.28</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,805.5</td><td>1.03</td><td>764.46</td><td>1.03</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>6,178.6</td><td>1.10</td><td>695.44</td><td>0.94</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,441.5</td><td>0.97</td><td>686.66</td><td>0.93</td></tr></tbody></table></div><div class="tab-pane fade" id="round110krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>60,626.5</td><td>1.00</td><td>7521.52</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>39,086.7</td><td>0.65</td><td>2968.31</td><td>0.39</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>49,088.0</td><td>0.81</td><td>4854</td><td>0.65</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>46,987.1</td><td>0.78</td><td>5941.23</td><td>0.79</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>48,000.4</td><td>0.80</td><td>2108.96</td><td>0.28</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>45,584.7</td><td>0.75</td><td>7655.89</td><td>1.02</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>49,914.9</td><td>0.83</td><td>6953.85</td><td>0.92</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>41,510.4</td><td>0.69</td><td>6875.11</td><td>0.91</td></tr></tbody></table></div><div class="tab-pane fade show active" id="round1100krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>591,684.0</td><td>1.00</td><td>75439.47</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>360,967.3</td><td>0.62</td><td>30390.18</td><td>0.40</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>430,804.8</td><td>0.73</td><td>49150.92</td><td>0.65</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>399,019.8</td><td>0.68</td><td>60101.44</td><td>0.80</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>407,943.4</td><td>0.69</td><td>21809.59</td><td>0.29</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>421,935.6</td><td>0.71</td><td>77267.79</td><td>1.02</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>409,893.5</td><td>0.69</td><td>70242.37</td><td>0.93</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>402,777.6</td><td>0.68</td><td>69454.65</td><td>0.92</td></tr></tbody></table></div></div><div class="text-center fs-smaller"><a href="https://github.com/vb-consulting/Norm.net/blob/master/Benchmarks/round1.md" class="rl-arrow"><i class="bi-github"></i> Round 1 perfomance test details <i class="bi bi-arrow-right-circle"></i></a></div></div><div class="tab-pane fade" id="round2-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><ul class="nav nav-tabs justify-content-center border-bottom border-bottom mb-3" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round210records-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">10 Records</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round21krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">1K Records</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round210krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">10K Records</button></li><li class="nav-item" role="presentation"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#round2100krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">100K Records</button></li></ul><div class="tab-content"><div class="tab-pane fade" id="round210records-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>649.9</td><td>1.00</td><td>8.26</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>524.0</td><td>0.81</td><td>3.56</td><td>0.43</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>734.2</td><td>1.13</td><td>16.25</td><td>1.97</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>568.7</td><td>0.88</td><td>9.58</td><td>1.16</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>536.9</td><td>0.83</td><td>2.9</td><td>0.35</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>545.0</td><td>0.84</td><td>9.15</td><td>1.11</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>575.0</td><td>0.89</td><td>9.77</td><td>1.18</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>542.2</td><td>0.84</td><td>8.29</td><td>1.00</td></tr></tbody></table></div><div class="tab-pane fade" id="round2100records-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>634.3</td><td>1.00</td><td>8.26</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>517.6</td><td>0.82</td><td>3.56</td><td>0.43</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>731.3</td><td>1.15</td><td>16.24</td><td>1.96</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>569.9</td><td>0.90</td><td>9.58</td><td>1.16</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>544.7</td><td>0.86</td><td>2.9</td><td>0.35</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>530.4</td><td>0.84</td><td>9.15</td><td>1.11</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>549.6</td><td>0.87</td><td>9.76</td><td>1.18</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>535.1</td><td>0.84</td><td>8.29</td><td>1.00</td></tr></tbody></table></div><div class="tab-pane fade" id="round21krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>5,777.2</td><td>1.00</td><td>740.93</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>5,379.7</td><td>0.93</td><td>295.35</td><td>0.40</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>6,258.6</td><td>1.09</td><td>493.11</td><td>0.67</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>6,019.7</td><td>1.05</td><td>594.98</td><td>0.80</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,865.6</td><td>1.02</td><td>209.12</td><td>0.28</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>6,017.9</td><td>1.05</td><td>764.49</td><td>1.03</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>6,354.1</td><td>1.11</td><td>695.57</td><td>0.94</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,522.8</td><td>0.96</td><td>686.67</td><td>0.93</td></tr></tbody></table></div><div class="tab-pane fade" id="round210krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>58,930.5</td><td>1.00</td><td>7520.98</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>39,097.3</td><td>0.66</td><td>2969.41</td><td>0.39</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>48,248.9</td><td>0.82</td><td>4854.97</td><td>0.65</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>46,338.4</td><td>0.80</td><td>5942.9</td><td>0.79</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>48,488.9</td><td>0.82</td><td>2109.42</td><td>0.28</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>44,790.4</td><td>0.76</td><td>7657.1</td><td>1.02</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>50,031.2</td><td>0.85</td><td>6954.21</td><td>0.92</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>41,447.6</td><td>0.71</td><td>6877.55</td><td>0.91</td></tr></tbody></table></div><div class="tab-pane fade show active" id="round2100krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>592,008.8</td><td>1.00</td><td>75409.6</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>367,873.0</td><td>0.63</td><td>30420.18</td><td>0.40</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>408,393.7</td><td>0.70</td><td>49150.92</td><td>0.65</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>414,667.6</td><td>0.70</td><td>60081.19</td><td>0.80</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>408,334.9</td><td>0.70</td><td>21799.09</td><td>0.29</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>425,086.2</td><td>0.71</td><td>77268.35</td><td>1.02</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>431,558.5</td><td>0.74</td><td>70255.87</td><td>0.93</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>385,006.6</td><td>0.65</td><td>69478.79</td><td>0.92</td></tr></tbody></table></div></div><div class="text-center fs-smaller"><a href="https://github.com/vb-consulting/Norm.net/blob/master/Benchmarks/round2.md" class="rl-arrow"><i class="bi-github"></i> Round 2 perfomance test details <i class="bi bi-arrow-right-circle"></i></a></div></div><div class="tab-pane fade" id="round3-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><ul class="nav nav-tabs justify-content-center border-bottom border-bottom mb-3" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round310records-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">10 Records</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round31krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">1K Records</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round310krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">10K Records</button></li><li class="nav-item" role="presentation"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#round3100krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">100K Records</button></li></ul><div class="tab-content"><div class="tab-pane fade" id="round310records-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>658.5</td><td>1.00</td><td>8.25</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>524.8</td><td>0.80</td><td>3.56</td><td>0.43</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>733.3</td><td>1.12</td><td>16.25</td><td>1.97</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>554.7</td><td>0.85</td><td>9.58</td><td>1.16</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>537.0</td><td>0.82</td><td>2.9</td><td>0.35</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>542.0</td><td>0.83</td><td>9.14</td><td>1.11</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>555.9</td><td>0.85</td><td>9.76</td><td>1.18</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>521.0</td><td>0.79</td><td>8.29</td><td>1.00</td></tr></tbody></table></div><div class="tab-pane fade" id="round3100records-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>634.3</td><td>1.00</td><td>8.26</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>517.6</td><td>0.82</td><td>3.56</td><td>0.43</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>731.3</td><td>1.15</td><td>16.24</td><td>1.96</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>569.9</td><td>0.90</td><td>9.58</td><td>1.16</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>544.7</td><td>0.86</td><td>2.9</td><td>0.35</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>530.4</td><td>0.84</td><td>9.15</td><td>1.11</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>549.6</td><td>0.87</td><td>9.76</td><td>1.18</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>535.1</td><td>0.84</td><td>8.29</td><td>1.00</td></tr></tbody></table></div><div class="tab-pane fade" id="round31krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>5,697.9</td><td>1.00</td><td>740.82</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>5,212.0</td><td>0.92</td><td>295.62</td><td>0.40</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>6,200.3</td><td>1.09</td><td>493.18</td><td>0.67</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,883.7</td><td>1.04</td><td>594.95</td><td>0.80</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,846.5</td><td>1.03</td><td>209.1</td><td>0.28</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,719.6</td><td>1.01</td><td>764.6</td><td>1.03</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>6,241.5</td><td>1.10</td><td>695.51</td><td>0.94</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,391.8</td><td>0.95</td><td>686.52</td><td>0.93</td></tr></tbody></table></div><div class="tab-pane fade" id="round310krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>59,447.5</td><td>1.00</td><td>7521.16</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>38,727.8</td><td>0.66</td><td>2970.95</td><td>0.40</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>49,114.7</td><td>0.83</td><td>4853.49</td><td>0.65</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>45,102.2</td><td>0.76</td><td>5940.4</td><td>0.79</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>46,517.7</td><td>0.78</td><td>2111.59</td><td>0.28</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>45,105.4</td><td>0.76</td><td>7655.52</td><td>1.02</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>48,528.6</td><td>0.82</td><td>6955.49</td><td>0.92</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>40,575.9</td><td>0.68</td><td>6877.66</td><td>0.91</td></tr></tbody></table></div><div class="tab-pane fade show active" id="round3100krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>565,696.9</td><td>1.00</td><td>75438.92</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>361,561.3</td><td>0.64</td><td>30411.51</td><td>0.40</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>462,485.9</td><td>0.83</td><td>49149.66</td><td>0.65</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>403,805.5</td><td>0.71</td><td>60099</td><td>0.80</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>420,217.3</td><td>0.75</td><td>21804.71</td><td>0.29</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>400,954.0</td><td>0.71</td><td>77267.93</td><td>1.02</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>411,138.9</td><td>0.73</td><td>70237.3</td><td>0.93</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>381,007.9</td><td>0.67</td><td>69453.71</td><td>0.92</td></tr></tbody></table></div></div><div class="text-center fs-smaller"><a href="https://github.com/vb-consulting/Norm.net/blob/master/Benchmarks/round3.md" class="rl-arrow"><i class="bi-github"></i> Round 3 perfomance test details <i class="bi bi-arrow-right-circle"></i></a></div></div><div class="tab-pane fade" id="round4-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><ul class="nav nav-tabs justify-content-center border-bottom border-bottom mb-3" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round410records-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">10 Records</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round41krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">1K Records</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round410krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">10K Records</button></li><li class="nav-item" role="presentation"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#round4100krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">100K Records</button></li></ul><div class="tab-content"><div class="tab-pane fade" id="round410records-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>643.3</td><td>1.00</td><td>8.23</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>512.8</td><td>0.80</td><td>3.56</td><td>0.43</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>725.3</td><td>1.14</td><td>16.24</td><td>1.97</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>570.7</td><td>0.89</td><td>9.58</td><td>1.16</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>525.4</td><td>0.82</td><td>2.9</td><td>0.35</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>527.3</td><td>0.82</td><td>9.15</td><td>1.11</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>541.7</td><td>0.84</td><td>9.77</td><td>1.19</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>519.1</td><td>0.81</td><td>8.29</td><td>1.01</td></tr></tbody></table></div><div class="tab-pane fade" id="round4100records-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>634.3</td><td>1.00</td><td>8.26</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>517.6</td><td>0.82</td><td>3.56</td><td>0.43</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>731.3</td><td>1.15</td><td>16.24</td><td>1.96</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>569.9</td><td>0.90</td><td>9.58</td><td>1.16</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>544.7</td><td>0.86</td><td>2.9</td><td>0.35</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>530.4</td><td>0.84</td><td>9.15</td><td>1.11</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>549.6</td><td>0.87</td><td>9.76</td><td>1.18</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>535.1</td><td>0.84</td><td>8.29</td><td>1.00</td></tr></tbody></table></div><div class="tab-pane fade" id="round41krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>6,180.0</td><td>1.00</td><td>741.02</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>5,681.0</td><td>0.92</td><td>295.28</td><td>0.40</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>6,608.4</td><td>1.07</td><td>493.34</td><td>0.67</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,821.9</td><td>0.95</td><td>594.84</td><td>0.80</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,829.5</td><td>0.95</td><td>209.06</td><td>0.28</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>6,090.3</td><td>0.99</td><td>764.54</td><td>1.03</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>6,594.0</td><td>1.07</td><td>695.54</td><td>0.94</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,339.5</td><td>0.87</td><td>686.78</td><td>0.93</td></tr></tbody></table></div><div class="tab-pane fade" id="round410krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>58,674.0</td><td>1.00</td><td>7521.1</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>38,436.2</td><td>0.66</td><td>2970.36</td><td>0.39</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>47,979.2</td><td>0.82</td><td>4854.78</td><td>0.65</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>44,340.5</td><td>0.76</td><td>5940.01</td><td>0.79</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>48,177.7</td><td>0.82</td><td>2108.04</td><td>0.28</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>45,144.3</td><td>0.78</td><td>7657.48</td><td>1.02</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>48,940.2</td><td>0.84</td><td>6957.48</td><td>0.93</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>41,034.2</td><td>0.70</td><td>6876</td><td>0.91</td></tr></tbody></table></div><div class="tab-pane fade show active" id="round4100krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>578,149.0</td><td>1.00</td><td>75409.66</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>359,674.2</td><td>0.64</td><td>30395.05</td><td>0.40</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>404,648.0</td><td>0.70</td><td>49150.92</td><td>0.65</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>411,144.2</td><td>0.72</td><td>60081.19</td><td>0.80</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>399,769.8</td><td>0.69</td><td>21797.02</td><td>0.29</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>396,422.1</td><td>0.69</td><td>77266.66</td><td>1.02</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>432,315.6</td><td>0.75</td><td>70240.87</td><td>0.93</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>384,060.6</td><td>0.66</td><td>69457.09</td><td>0.92</td></tr></tbody></table></div></div><div class="text-center fs-smaller"><a href="https://github.com/vb-consulting/Norm.net/blob/master/Benchmarks/round4.md" class="rl-arrow"><i class="bi-github"></i> Round 4 perfomance test details <i class="bi bi-arrow-right-circle"></i></a></div></div><div class="tab-pane fade" id="round5-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><ul class="nav nav-tabs justify-content-center border-bottom border-bottom mb-3" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round510records-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">10 Records</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round51krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">1K Records</button></li><li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#round510krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">10K Records</button></li><li class="nav-item" role="presentation"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#round5100krecords-tab-pane" type="button" role="tab" aria-controls="netcli-tab-pane" aria-selected="true">100K Records</button></li></ul><div class="tab-content"><div class="tab-pane fade" id="round510records-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>629.5</td><td>1.00</td><td>8.27</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>526.3</td><td>0.84</td><td>3.56</td><td>0.43</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>730.2</td><td>1.16</td><td>16.25</td><td>1.97</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>557.3</td><td>0.89</td><td>9.58</td><td>1.16</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>531.9</td><td>0.85</td><td>2.9</td><td>0.35</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>533.5</td><td>0.85</td><td>9.15</td><td>1.11</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>540.2</td><td>0.86</td><td>9.77</td><td>1.18</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>530.6</td><td>0.84</td><td>8.29</td><td>1.00</td></tr></tbody></table></div><div class="tab-pane fade" id="round5100records-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>634.3</td><td>1.00</td><td>8.26</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>517.6</td><td>0.82</td><td>3.56</td><td>0.43</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>731.3</td><td>1.15</td><td>16.24</td><td>1.96</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>569.9</td><td>0.90</td><td>9.58</td><td>1.16</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>544.7</td><td>0.86</td><td>2.9</td><td>0.35</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>530.4</td><td>0.84</td><td>9.15</td><td>1.11</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>549.6</td><td>0.87</td><td>9.76</td><td>1.18</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>535.1</td><td>0.84</td><td>8.29</td><td>1.00</td></tr></tbody></table></div><div class="tab-pane fade" id="round51krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>5,584.5</td><td>1.00</td><td>740.9</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>5,034.8</td><td>0.91</td><td>295.65</td><td>0.40</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>6,108.4</td><td>1.10</td><td>493.03</td><td>0.67</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,841.8</td><td>1.05</td><td>594.81</td><td>0.80</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>6,590.3</td><td>1.19</td><td>209.03</td><td>0.28</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,564.5</td><td>1.00</td><td>764.63</td><td>1.03</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>6,194.7</td><td>1.12</td><td>695.46</td><td>0.94</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>5,309.5</td><td>0.96</td><td>686.9</td><td>0.93</td></tr></tbody></table></div><div class="tab-pane fade" id="round510krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>61,134.9</td><td>1.00</td><td>7520.6</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>42,847.0</td><td>0.70</td><td>2969.96</td><td>0.39</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>51,986.0</td><td>0.85</td><td>4855.92</td><td>0.65</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>48,545.4</td><td>0.80</td><td>5940.02</td><td>0.79</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>51,634.4</td><td>0.85</td><td>2108.18</td><td>0.28</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>47,648.4</td><td>0.78</td><td>7655.76</td><td>1.02</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>51,557.8</td><td>0.85</td><td>6954.64</td><td>0.92</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>42,906.1</td><td>0.70</td><td>6876.75</td><td>0.91</td></tr></tbody></table></div><div class="tab-pane fade show active" id="round5100krecords-tab-pane" role="tabpanel" aria-labelledby="netcli-tab" tabindex="0"><table class="table table-sm table-responsive table-hover"><thead><tr><th scope="col">Library (method)</th><th scope="col" class="text-end">Mean Œºs</th><th scope="col" class="text-end" style="width: 70px;">Ratio</th><th scope="col" class="text-end">Allocated KB</th><th scope="col" class="text-end">Allocated Ratio</th></tr></thead><tbody class="table-group-divider"><tr class="fw-bolder"><th scope="row">Dapper (instances)<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Dapper instances mapping (baseline for benchmarks)"></i></th><td>601,452.6</td><td>1.00</td><td>75412.97</td><td>1.00</td></tr><tr class=""><th scope="row">ADO.NET Raw<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="ADO.NET Raw Command Reader"></i></th><td>367,371.1</td><td>0.61</td><td>30389.8</td><td>0.40</td></tr><tr class=""><th scope="row">EF Core 8<i class="tbl-info bi-info-circle" data-bs-toggle="tooltip" data-bs-title="Microsoft EntityFrameworkCore 8.0 Unmapped Type"></i></th><td>426,235.9</td><td>0.71</td><td>49150.92</td><td>0.65</td></tr><tr class=""><th scope="row">Norm (instances) <a href="#instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>447,736.0</td><td>0.75</td><td>60087.19</td><td>0.80</td></tr><tr class=""><th scope="row">Norm (tuple values) <a href="#values" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>442,534.9</td><td>0.74</td><td>21800.21</td><td>0.29</td></tr><tr class=""><th scope="row">Norm (named tuples) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>426,983.9</td><td>0.71</td><td>77275.1</td><td>1.02</td></tr><tr class=""><th scope="row">Norm (anonymous inst.) <a href="#prototype-instances" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>419,724.8</td><td>0.70</td><td>70237.87</td><td>0.93</td></tr><tr class=""><th scope="row">Norm (tuple array) <a href="#tuples" class="rl-arrow" data-bs-toggle="tooltip" data-bs-title="See examples"><i class="bi bi-arrow-right-circle"></i></a></th><td>396,666.1</td><td>0.66</td><td>69492.31</td><td>0.92</td></tr></tbody></table></div></div><div class="text-center fs-smaller"><a href="https://github.com/vb-consulting/Norm.net/blob/master/Benchmarks/round5.md" class="rl-arrow"><i class="bi-github"></i> Round 5 perfomance test details <i class="bi bi-arrow-right-circle"></i></a></div></div></div><a class="btn btn-link btn-sm lr-arrow" href="/norm.net/benchmarks/"><i class="bi bi-arrow-right-circle me-1"></i> see more details on perfomance page</a></div><div class="tuples mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="tuples"><div class="lead text-center svelte-1jwx2u3"><a href="#tuples" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Build database tuples iterator</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 552px;">You can read an array of name and value tuples <code>(string name, value object)</code> - for each record, where the <u>name is the field name</u>, and the <u>value is, well, the value</u> of that record.<br><br>Use LINQ expressions to build appropriate data structures such as dictionaries directly from your database and with minimum iterations.</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Creates enumerable of name and value tuples array.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Database is NOT read until resulting enumeration is iterated.</span></span>
<span class="line"><span style="color: #6A9955">// name is the column name, and value is the column value.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #4EC9B0">IEnumerable</span><span style="color: #E6E6E6">&lt;(</span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">name</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">value</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">object</span><span style="color: #E6E6E6">)[]> </span><span style="color: #9CDCFE">enumeration</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">"select id, name from table"</span><span style="color: #E6E6E6">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Creates list of name and value tuples array.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Database is read on `ToList` iteration.</span></span>
<span class="line"><span style="color: #6A9955">// name is the column name, and value is the column value.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #4EC9B0">List</span><span style="color: #E6E6E6">&lt;(</span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">name</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">object</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">value</span><span style="color: #E6E6E6">)[]> </span><span style="color: #9CDCFE">tuples</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">"select id, name from table"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">ToList</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Creates list of name and value dictionaries.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Database is read on `ToList` iteration.</span></span>
<span class="line"><span style="color: #6A9955">// Dictionary keys are column names, values are column values.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #4EC9B0">List</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Dictionary</span><span style="color: #E6E6E6">&lt;</span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">object</span><span style="color: #E6E6E6">>> </span><span style="color: #9CDCFE">list1</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">"select id, name from table"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Select</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">tuples</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">tuples</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">ToDictionary</span><span style="color: #E6E6E6">(</span></span>
<span class="line"><span style="color: #E6E6E6">                </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">name</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">                </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">value</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">ToList</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Creates dictionary where: </span></span>
<span class="line"><span style="color: #6A9955">// - The key is the first column value.</span></span>
<span class="line"><span style="color: #6A9955">// - The value is the last column value.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Database is read on `ToDictionary` iteration.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #4EC9B0">Dictionary</span><span style="color: #E6E6E6">&lt;</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">> </span><span style="color: #9CDCFE">dict1</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">"select id, name from table"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">ToDictionary</span><span style="color: #E6E6E6">(</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">tuples</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> (</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">)</span><span style="color: #9CDCFE">tuples</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">First</span><span style="color: #E6E6E6">().</span><span style="color: #9CDCFE">value</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">tuples</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">tuples</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Last</span><span style="color: #E6E6E6">().</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">?</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">ToString</span><span style="color: #E6E6E6">());</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Creates enumerable of name and value tuples array.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Database is NOT read until resulting enumeration is iterated.</span></span>
<span class="line"><span style="color: #008000">// name is the column name, and value is the column value.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #267F99">IEnumerable</span><span style="color: #000000">&lt;(</span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">name</span><span style="color: #000000">, </span><span style="color: #267F99">value</span><span style="color: #000000"> </span><span style="color: #001080">object</span><span style="color: #000000">)[]> </span><span style="color: #001080">enumeration</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">(</span><span style="color: #A31515">"select id, name from table"</span><span style="color: #000000">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Creates list of name and value tuples array.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Database is read on `ToList` iteration.</span></span>
<span class="line"><span style="color: #008000">// name is the column name, and value is the column value.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #267F99">List</span><span style="color: #000000">&lt;(</span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">name</span><span style="color: #000000">, </span><span style="color: #0000FF">object</span><span style="color: #000000"> </span><span style="color: #001080">value</span><span style="color: #000000">)[]> </span><span style="color: #001080">tuples</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">(</span><span style="color: #A31515">"select id, name from table"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">ToList</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Creates list of name and value dictionaries.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Database is read on `ToList` iteration.</span></span>
<span class="line"><span style="color: #008000">// Dictionary keys are column names, values are column values.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #267F99">List</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Dictionary</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">object</span><span style="color: #000000">>> </span><span style="color: #001080">list1</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">(</span><span style="color: #A31515">"select id, name from table"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Select</span><span style="color: #000000">(</span><span style="color: #001080">tuples</span><span style="color: #000000"> => </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">tuples</span><span style="color: #000000">.</span><span style="color: #795E26">ToDictionary</span><span style="color: #000000">(</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #001080">tuple</span><span style="color: #000000"> => </span><span style="color: #001080">tuple</span><span style="color: #000000">.</span><span style="color: #001080">name</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #001080">tuple</span><span style="color: #000000"> => </span><span style="color: #001080">tuple</span><span style="color: #000000">.</span><span style="color: #001080">value</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">ToList</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Creates dictionary where: </span></span>
<span class="line"><span style="color: #008000">// - The key is the first column value.</span></span>
<span class="line"><span style="color: #008000">// - The value is the last column value.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Database is read on `ToDictionary` iteration.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #267F99">Dictionary</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">int</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">> </span><span style="color: #001080">dict1</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">(</span><span style="color: #A31515">"select id, name from table"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">ToDictionary</span><span style="color: #000000">(</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">tuples</span><span style="color: #000000"> => (</span><span style="color: #0000FF">int</span><span style="color: #000000">)</span><span style="color: #001080">tuples</span><span style="color: #000000">.</span><span style="color: #795E26">First</span><span style="color: #000000">().</span><span style="color: #001080">value</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">tuples</span><span style="color: #000000"> => </span><span style="color: #001080">tuples</span><span style="color: #000000">.</span><span style="color: #795E26">Last</span><span style="color: #000000">().</span><span style="color: #001080">value</span><span style="color: #000000">?.</span><span style="color: #795E26">ToString</span><span style="color: #000000">());</span></span></code></pre></div><a class="btn btn-sm lr-arrow docs svelte-1jwx2u3" href="/norm.net/docs/reference/read/#non-generic-version"><i class="bi bi-file-earmark-text me-1"></i> documentation</a></div><div class="instances mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="instances"><div class="lead text-center svelte-1jwx2u3"><a href="#instances" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Up to 12 class/record instances from the same command</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 592px;">You can map a maximum of 12 <u>classes, records, or dynamic instances</u> from the same query result.<br><br>Mapping is done <u>by the field name</u> (<u>snake case</u> is the default name mapping method) - and from left to right for multiple instance mappings.</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Single instance mapping by name.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result1</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Class1</span><span style="color: #E6E6E6">>(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Two instances mapping by name.</span></span>
<span class="line"><span style="color: #6A9955">// Read method yields a tuple that can be deconstructed.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">result1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">result2</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Class1</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">Class2</span><span style="color: #E6E6E6">>(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Two class instances and one dynamic instance mapping by name.</span></span>
<span class="line"><span style="color: #6A9955">// Read method yields a tuple that can be deconstructed.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">result1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">result2</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">result3</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Class1</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">Class2</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">dynamic</span><span style="color: #E6E6E6">>(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Six instances mapping by name.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">result1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">result2</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">result3</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">result4</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">result5</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">result6</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Class1</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">Class2</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">Class3</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">Class4</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">Class5</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">Class6</span><span style="color: #E6E6E6">>(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// ... up to twelve (12) instances max.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Single instance mapping by name.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">result1</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Class1</span><span style="color: #000000">>(</span><span style="color: #001080">query</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Two instances mapping by name.</span></span>
<span class="line"><span style="color: #008000">// Read method yields a tuple that can be deconstructed.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">result1</span><span style="color: #000000">, </span><span style="color: #001080">result2</span><span style="color: #000000">) = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Class1</span><span style="color: #000000">, </span><span style="color: #267F99">Class2</span><span style="color: #000000">>(</span><span style="color: #001080">query</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Two class instances and one dynamic instance mapping by name.</span></span>
<span class="line"><span style="color: #008000">// Read method yields a tuple that can be deconstructed.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">result1</span><span style="color: #000000">, </span><span style="color: #001080">result2</span><span style="color: #000000">, </span><span style="color: #001080">result3</span><span style="color: #000000">) = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Class1</span><span style="color: #000000">, </span><span style="color: #267F99">Class2</span><span style="color: #000000">, </span><span style="color: #0000FF">dynamic</span><span style="color: #000000">>(</span><span style="color: #001080">query</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Six instances mapping by name.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">result1</span><span style="color: #000000">, </span><span style="color: #001080">result2</span><span style="color: #000000">, </span><span style="color: #001080">result3</span><span style="color: #000000">, </span><span style="color: #001080">result4</span><span style="color: #000000">, </span><span style="color: #001080">result5</span><span style="color: #000000">, </span><span style="color: #001080">result6</span><span style="color: #000000">) = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Class1</span><span style="color: #000000">, </span><span style="color: #267F99">Class2</span><span style="color: #000000">, </span><span style="color: #267F99">Class3</span><span style="color: #000000">, </span><span style="color: #267F99">Class4</span><span style="color: #000000">, </span><span style="color: #267F99">Class5</span><span style="color: #000000">, </span><span style="color: #267F99">Class6</span><span style="color: #000000">>(</span><span style="color: #001080">query</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// ... up to twelve (12) instances max.</span></span>
<span class="line"><span style="color: #008000">//</span></span></code></pre></div><a class="btn btn-sm lr-arrow docs svelte-1jwx2u3" href="/norm.net/docs/reference/read/#3-complex-instance-types-1"><i class="bi bi-file-earmark-text me-1"></i> documentation</a></div><div class="values mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="values"><div class="lead text-center svelte-1jwx2u3"><a href="#values" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Map to deconstructed tuple values</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 574px;">Instead of classes or records, you can map to multiple, simple single-value value types (such as <u>integers, strings, dates, GUIDs, booleans, etc</u>). In this case, mapping is done by position.<br><br>The resulting structure will be an unnamed tuple that can be deconstructed to the same simple value variable values. See examples bellow:</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Single value.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">>(</span><span style="color: #CE9178">"select id from table"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Two values mapping by position.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">value</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">>(</span><span style="color: #CE9178">"select id, value from table"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Iterating over three values mapped by position.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #C586C0">foreach</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">foo</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">bar</span><span style="color: #E6E6E6">) </span><span style="color: #C586C0">in</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">>(</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #CE9178">"select id, foo, bar from table"</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #6A9955">    //...</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Six value mapping by position.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">value1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">value2</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">value3</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">value4</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">value5</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">value6</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">>(</span><span style="color: #CE9178">@"</span></span>
<span class="line"><span style="color: #CE9178">        select value1, value2, value3, value4, value5, value6</span></span>
<span class="line"><span style="color: #CE9178">        from table</span></span>
<span class="line"><span style="color: #CE9178">    "</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// ... up to twelve (12) values max.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Single value.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">id</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">int</span><span style="color: #000000">>(</span><span style="color: #A31515">"select id from table"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Two values mapping by position.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">id</span><span style="color: #000000">, </span><span style="color: #001080">value</span><span style="color: #000000">) = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">int</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">>(</span><span style="color: #A31515">"select id, value from table"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Iterating over three values mapped by position.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #AF00DB">foreach</span><span style="color: #000000">(</span><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">id</span><span style="color: #000000">, </span><span style="color: #001080">foo</span><span style="color: #000000">, </span><span style="color: #001080">bar</span><span style="color: #000000">) </span><span style="color: #AF00DB">in</span><span style="color: #000000"> </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">int</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">>(</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"select id, foo, bar from table"</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #008000">    //...</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Six value mapping by position.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">value1</span><span style="color: #000000">, </span><span style="color: #001080">value2</span><span style="color: #000000">, </span><span style="color: #001080">value3</span><span style="color: #000000">, </span><span style="color: #001080">value4</span><span style="color: #000000">, </span><span style="color: #001080">value5</span><span style="color: #000000">, </span><span style="color: #001080">value6</span><span style="color: #000000">) = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">>(</span><span style="color: #A31515">@"</span></span>
<span class="line"><span style="color: #A31515">        select value1, value2, value3, value4, value5, value6</span></span>
<span class="line"><span style="color: #A31515">        from table</span></span>
<span class="line"><span style="color: #A31515">    "</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// ... up to twelve (12) values max.</span></span>
<span class="line"><span style="color: #008000">//</span></span></code></pre></div><a class="btn btn-sm lr-arrow docs svelte-1jwx2u3" href="/norm.net/docs/reference/read/#1-simple-types-1"><i class="bi bi-file-earmark-text me-1"></i> documentation</a></div><div class="named-tuples mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="named-tuples"><div class="lead text-center svelte-1jwx2u3"><a href="#named-tuples" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Map to named tuples or multiple named tuples</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 570px;">You can also give meaningful names to your unnamed tuples by using <u>named tuples</u>. Just provide a <u>named tuple type</u> as a generic parameter and map your database values by position.<br><br>You can also map to multiple named tuple types in a single command, up to 12 named tuples maximum.</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// You can also map to named tuples and give names to the columns.</span></span>
<span class="line"><span style="color: #6A9955">// Two value mapping by position.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;(</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">name</span><span style="color: #E6E6E6">)>(</span><span style="color: #CE9178">"select id, value from table"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">name</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">name</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Iterating over named tuples mapped by position.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">"select id, foo, bar from table"</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #C586C0">foreach</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">item</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">in</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;(</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">foo</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">bar</span><span style="color: #E6E6E6">)>(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #DCDCAA">WriteLine</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">$"id: {</span><span style="color: #9CDCFE">item</span><span style="color: #CE9178">.</span><span style="color: #9CDCFE">id</span><span style="color: #CE9178">}, foo: {</span><span style="color: #9CDCFE">item</span><span style="color: #CE9178">.</span><span style="color: #9CDCFE">foo</span><span style="color: #CE9178">}, bar: {</span><span style="color: #9CDCFE">item</span><span style="color: #CE9178">.</span><span style="color: #9CDCFE">bar</span><span style="color: #CE9178">}"</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Mapping two named tuples by position.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">"select t1.*, t2.* from t1 join t2 using (id)"</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #C586C0">foreach</span><span style="color: #E6E6E6"> (</span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">t1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">t2</span><span style="color: #E6E6E6">) </span><span style="color: #C586C0">in</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Read</span><span style="color: #D4D4D4">&lt;</span></span>
<span class="line"><span style="color: #E6E6E6">    (</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">name</span><span style="color: #E6E6E6">), </span></span>
<span class="line"><span style="color: #E6E6E6">    (</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">name</span><span style="color: #E6E6E6">)</span><span style="color: #D4D4D4">></span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #DCDCAA">WriteLine</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">$"t1 - id: {</span><span style="color: #9CDCFE">t1</span><span style="color: #CE9178">.</span><span style="color: #9CDCFE">id</span><span style="color: #CE9178">}, name: {</span><span style="color: #9CDCFE">t1</span><span style="color: #CE9178">.</span><span style="color: #9CDCFE">name</span><span style="color: #CE9178">})</span><span style="color: #F44747">;</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #DCDCAA">WriteLine</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">$"t2 - id: {</span><span style="color: #9CDCFE">t1</span><span style="color: #CE9178">.</span><span style="color: #9CDCFE">id</span><span style="color: #CE9178">}, name: {</span><span style="color: #9CDCFE">t1</span><span style="color: #CE9178">.</span><span style="color: #9CDCFE">name</span><span style="color: #CE9178">})</span><span style="color: #F44747">;</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// ... up to twelve (12) named tuples max.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// You can also map to named tuples and give names to the columns.</span></span>
<span class="line"><span style="color: #008000">// Two value mapping by position.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">result</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">id</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">name</span><span style="color: #000000">)>(</span><span style="color: #A31515">"select id, value from table"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">id</span><span style="color: #000000"> = </span><span style="color: #001080">result</span><span style="color: #000000">.</span><span style="color: #001080">id</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">name</span><span style="color: #000000"> = </span><span style="color: #001080">result</span><span style="color: #000000">.</span><span style="color: #001080">name</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Iterating over named tuples mapped by position.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">query</span><span style="color: #000000"> = </span><span style="color: #A31515">"select id, foo, bar from table"</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">foreach</span><span style="color: #000000">(</span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">item</span><span style="color: #000000"> </span><span style="color: #AF00DB">in</span><span style="color: #000000"> </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">id</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">foo</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">bar</span><span style="color: #000000">)>(</span><span style="color: #001080">query</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #795E26">WriteLine</span><span style="color: #000000">(</span><span style="color: #A31515">$"id: {</span><span style="color: #001080">item</span><span style="color: #A31515">.</span><span style="color: #001080">id</span><span style="color: #A31515">}, foo: {</span><span style="color: #001080">item</span><span style="color: #A31515">.</span><span style="color: #001080">foo</span><span style="color: #A31515">}, bar: {</span><span style="color: #001080">item</span><span style="color: #A31515">.</span><span style="color: #001080">bar</span><span style="color: #A31515">}"</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Mapping two named tuples by position.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">query</span><span style="color: #000000"> = </span><span style="color: #A31515">"select t1.*, t2.* from t1 join t2 using (id)"</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">foreach</span><span style="color: #000000"> (</span><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">t1</span><span style="color: #000000">, </span><span style="color: #001080">t2</span><span style="color: #000000">) </span><span style="color: #AF00DB">in</span><span style="color: #000000"> </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #001080">Read</span><span style="color: #000000">&lt;</span></span>
<span class="line"><span style="color: #000000">    (</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">id</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">name</span><span style="color: #000000">), </span></span>
<span class="line"><span style="color: #000000">    (</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">id</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">name</span><span style="color: #000000">)>(</span><span style="color: #001080">query</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #795E26">WriteLine</span><span style="color: #000000">(</span><span style="color: #A31515">$"t1 - id: {</span><span style="color: #001080">t1</span><span style="color: #A31515">.</span><span style="color: #001080">id</span><span style="color: #A31515">}, name: {</span><span style="color: #001080">t1</span><span style="color: #A31515">.</span><span style="color: #001080">name</span><span style="color: #A31515">})</span><span style="color: #CD3131">;</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #795E26">WriteLine</span><span style="color: #000000">(</span><span style="color: #A31515">$"t2 - id: {</span><span style="color: #001080">t1</span><span style="color: #A31515">.</span><span style="color: #001080">id</span><span style="color: #A31515">}, name: {</span><span style="color: #001080">t1</span><span style="color: #A31515">.</span><span style="color: #001080">name</span><span style="color: #A31515">})</span><span style="color: #CD3131">;</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// ... up to twelve (12) named tuples max.</span></span>
<span class="line"><span style="color: #008000">//</span></span></code></pre></div><a class="btn btn-sm lr-arrow docs svelte-1jwx2u3" href="/norm.net/docs/reference/read/#2-tuple-types-1"><i class="bi bi-file-earmark-text me-1"></i> documentation</a></div><div class="global-tuples mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="global-tuples"><div class="lead text-center svelte-1jwx2u3"><a href="#global-tuples" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Declare tuple type aliases (C# 12 only)</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 570px;">Declare <b>type aliases</b> for your named tuples and us them in your <b>entire project.</b>.</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// C#12</span></span>
<span class="line"><span style="color: #6A9955">// Global usings for entire project</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">global</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">TitleDescriptionYear</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> (</span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">title</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">description</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">year</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #569CD6">global</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">IdName</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> (</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">name</span><span style="color: #E6E6E6">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Later in your code, you can use the types, intelisense will work</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Iterate over tuples, intelisense enabled</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #C586C0">foreach</span><span style="color: #E6E6E6"> (</span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">in</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">TitleDescriptionYear</span><span style="color: #E6E6E6">>(</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #CE9178">"select title, description, release_year from film limit 3"</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #DCDCAA">WriteLine</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">"Title: {0}, Description: {1}, Year: {2}"</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">title</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">description</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">year</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C586C0">foreach</span><span style="color: #E6E6E6"> (</span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">in</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">IdName</span><span style="color: #E6E6E6">>(</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #CE9178">"select film_id, title from film limit 3"</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #DCDCAA">WriteLine</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">"Film Id: {0}, Name: {1}"</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">name</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Build a dictionary from tuples, intelisense enabled</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">dict</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">IdName</span><span style="color: #E6E6E6">>(</span><span style="color: #CE9178">"select film_id, title from film limit 3"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">ToDictionary</span><span style="color: #E6E6E6">(</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">,</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">tuple</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">name</span><span style="color: #E6E6E6">);</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// C#12</span></span>
<span class="line"><span style="color: #008000">// Global usings for entire project</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">global</span><span style="color: #000000"> </span><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">TitleDescriptionYear</span><span style="color: #000000"> = (</span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">title</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">description</span><span style="color: #000000">, </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">year</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #0000FF">global</span><span style="color: #000000"> </span><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">IdName</span><span style="color: #000000"> = (</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">id</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">name</span><span style="color: #000000">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Later in your code, you can use the types, intelisense will work</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Iterate over tuples, intelisense enabled</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #AF00DB">foreach</span><span style="color: #000000"> (</span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">tuple</span><span style="color: #000000"> </span><span style="color: #AF00DB">in</span><span style="color: #000000"> </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">TitleDescriptionYear</span><span style="color: #000000">>(</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"select title, description, release_year from film limit 3"</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #795E26">WriteLine</span><span style="color: #000000">(</span><span style="color: #A31515">"Title: {0}, Description: {1}, Year: {2}"</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">tuple</span><span style="color: #000000">.</span><span style="color: #001080">title</span><span style="color: #000000">, </span><span style="color: #001080">tuple</span><span style="color: #000000">.</span><span style="color: #001080">description</span><span style="color: #000000">, </span><span style="color: #001080">tuple</span><span style="color: #000000">.</span><span style="color: #001080">year</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #AF00DB">foreach</span><span style="color: #000000"> (</span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">tuple</span><span style="color: #000000"> </span><span style="color: #AF00DB">in</span><span style="color: #000000"> </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">IdName</span><span style="color: #000000">>(</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"select film_id, title from film limit 3"</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #795E26">WriteLine</span><span style="color: #000000">(</span><span style="color: #A31515">"Film Id: {0}, Name: {1}"</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">tuple</span><span style="color: #000000">.</span><span style="color: #001080">id</span><span style="color: #000000">, </span><span style="color: #001080">tuple</span><span style="color: #000000">.</span><span style="color: #001080">name</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Build a dictionary from tuples, intelisense enabled</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">dict</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">IdName</span><span style="color: #000000">>(</span><span style="color: #A31515">"select film_id, title from film limit 3"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">ToDictionary</span><span style="color: #000000">(</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">tuple</span><span style="color: #000000"> => </span><span style="color: #001080">tuple</span><span style="color: #000000">.</span><span style="color: #001080">id</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">tuple</span><span style="color: #000000"> => </span><span style="color: #001080">tuple</span><span style="color: #000000">.</span><span style="color: #001080">name</span><span style="color: #000000">);</span></span></code></pre></div><a class="btn btn-sm lr-arrow docs svelte-1jwx2u3" href="/norm.net/docs/reference/read/#2-tuple-types-1"><i class="bi bi-file-earmark-text me-1"></i> documentation</a></div><div class="prototype-instances mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="prototype-instances"><div class="lead text-center svelte-1jwx2u3"><a href="#prototype-instances" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Map to prototypes and anonymous instances</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 516px;">If you use a non-generic version of the <code>Read</code> method, you can provide a <u>prototype instance as a first parameter</u>.<br><br>In that case, Norm will use that prototype to construct resulting instances.<br><br>That prototype could also be an <u>anonymous type</u> - initilaized with default values as in examples bellow:</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// You can use existing instances as a bluprint for mapping.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">class</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Class1</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Id</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Name</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// </span></span>
<span class="line"><span style="color: #6A9955">// Maps existing instances of Class1 to </span></span>
<span class="line"><span style="color: #6A9955">// new instances of the same type by name.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">instance1</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">new</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Class1</span><span style="color: #E6E6E6">();</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result1</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">instance1</span><span style="color: #E6E6E6">, </span><span style="color: #CE9178">"select 1 as id, 'foo' as name"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #9CDCFE">Assert</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Equal</span><span style="color: #E6E6E6">(</span><span style="color: #B5CEA8">1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">result1</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Id</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #9CDCFE">Assert</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Equal</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">"foo"</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">result1</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Name</span><span style="color: #E6E6E6">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// You can use anonymous instances prototype </span></span>
<span class="line"><span style="color: #6A9955">// to map to anonymous instances.</span></span>
<span class="line"><span style="color: #6A9955">// Also by name.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result1</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">(</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">new</span><span style="color: #E6E6E6"> {</span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">default</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">), </span><span style="color: #9CDCFE">name</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">default</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">)}, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #CE9178">"select 1 as id, 'foo' as name"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #9CDCFE">Assert</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Equal</span><span style="color: #E6E6E6">(</span><span style="color: #B5CEA8">1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">result1</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Id</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #9CDCFE">Assert</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Equal</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">"foo"</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">result1</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Name</span><span style="color: #E6E6E6">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Iterate anonymous instances mapped by name.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #C586C0">foreach</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">item</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">in</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">new</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">first</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">default</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">),</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">bar</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">default</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">),</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">day</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">default</span><span style="color: #E6E6E6">(</span><span style="color: #4EC9B0">DateTime</span><span style="color: #E6E6E6">?),</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">@bool</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">default</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">bool</span><span style="color: #E6E6E6">?),</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">myString</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">default</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">),</span></span>
<span class="line"><span style="color: #E6E6E6">}, </span><span style="color: #CE9178">@"</span></span>
<span class="line"><span style="color: #CE9178">    select * from (</span></span>
<span class="line"><span style="color: #CE9178">        values </span></span>
<span class="line"><span style="color: #CE9178">        (1, 'foo1', '1977-05-19'::date, true, null),</span></span>
<span class="line"><span style="color: #CE9178">        (2, 'foo2', '1978-05-19'::date, false, 'bar2'),</span></span>
<span class="line"><span style="color: #CE9178">        (3, 'foo3', null::date, null, 'bar3')</span></span>
<span class="line"><span style="color: #CE9178">    ) t(first, bar, day, bool, my_string)</span></span>
<span class="line"><span style="color: #CE9178">"</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #DCDCAA">WriteLine</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">"{0}, {1}, {2}, {3}, {4}"</span><span style="color: #E6E6E6">,</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">item</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">first</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">item</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">bar</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">item</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">day</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">item</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">@bool</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">item</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">myString</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// You can use existing instances as a bluprint for mapping.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Class1</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">Id</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Name</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">// </span></span>
<span class="line"><span style="color: #008000">// Maps existing instances of Class1 to </span></span>
<span class="line"><span style="color: #008000">// new instances of the same type by name.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">instance1</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Class1</span><span style="color: #000000">();</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">result1</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">(</span><span style="color: #001080">instance1</span><span style="color: #000000">, </span><span style="color: #A31515">"select 1 as id, 'foo' as name"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #001080">Assert</span><span style="color: #000000">.</span><span style="color: #795E26">Equal</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #001080">result1</span><span style="color: #000000">.</span><span style="color: #001080">Id</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #001080">Assert</span><span style="color: #000000">.</span><span style="color: #795E26">Equal</span><span style="color: #000000">(</span><span style="color: #A31515">"foo"</span><span style="color: #000000">, </span><span style="color: #001080">result1</span><span style="color: #000000">.</span><span style="color: #001080">Name</span><span style="color: #000000">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// You can use anonymous instances prototype </span></span>
<span class="line"><span style="color: #008000">// to map to anonymous instances.</span></span>
<span class="line"><span style="color: #008000">// Also by name.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">result1</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">(</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">new</span><span style="color: #000000"> {</span><span style="color: #001080">id</span><span style="color: #000000"> = </span><span style="color: #0000FF">default</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000">), </span><span style="color: #001080">name</span><span style="color: #000000"> = </span><span style="color: #0000FF">default</span><span style="color: #000000">(</span><span style="color: #0000FF">string</span><span style="color: #000000">)}, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #A31515">"select 1 as id, 'foo' as name"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #001080">Assert</span><span style="color: #000000">.</span><span style="color: #795E26">Equal</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #001080">result1</span><span style="color: #000000">.</span><span style="color: #001080">Id</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #001080">Assert</span><span style="color: #000000">.</span><span style="color: #795E26">Equal</span><span style="color: #000000">(</span><span style="color: #A31515">"foo"</span><span style="color: #000000">, </span><span style="color: #001080">result1</span><span style="color: #000000">.</span><span style="color: #001080">Name</span><span style="color: #000000">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Iterate anonymous instances mapped by name.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #AF00DB">foreach</span><span style="color: #000000">(</span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">item</span><span style="color: #000000"> </span><span style="color: #AF00DB">in</span><span style="color: #000000"> </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">Read</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">first</span><span style="color: #000000"> = </span><span style="color: #0000FF">default</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000">),</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">bar</span><span style="color: #000000"> = </span><span style="color: #0000FF">default</span><span style="color: #000000">(</span><span style="color: #0000FF">string</span><span style="color: #000000">),</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">day</span><span style="color: #000000"> = </span><span style="color: #0000FF">default</span><span style="color: #000000">(</span><span style="color: #267F99">DateTime</span><span style="color: #000000">?),</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">@bool</span><span style="color: #000000"> = </span><span style="color: #0000FF">default</span><span style="color: #000000">(</span><span style="color: #0000FF">bool</span><span style="color: #000000">?),</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">myString</span><span style="color: #000000"> = </span><span style="color: #0000FF">default</span><span style="color: #000000">(</span><span style="color: #0000FF">string</span><span style="color: #000000">),</span></span>
<span class="line"><span style="color: #000000">}, </span><span style="color: #A31515">@"</span></span>
<span class="line"><span style="color: #A31515">    select * from (</span></span>
<span class="line"><span style="color: #A31515">        values </span></span>
<span class="line"><span style="color: #A31515">        (1, 'foo1', '1977-05-19'::date, true, null),</span></span>
<span class="line"><span style="color: #A31515">        (2, 'foo2', '1978-05-19'::date, false, 'bar2'),</span></span>
<span class="line"><span style="color: #A31515">        (3, 'foo3', null::date, null, 'bar3')</span></span>
<span class="line"><span style="color: #A31515">    ) t(first, bar, day, bool, my_string)</span></span>
<span class="line"><span style="color: #A31515">"</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #795E26">WriteLine</span><span style="color: #000000">(</span><span style="color: #A31515">"{0}, {1}, {2}, {3}, {4}"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">item</span><span style="color: #000000">.</span><span style="color: #001080">first</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">item</span><span style="color: #000000">.</span><span style="color: #001080">bar</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">item</span><span style="color: #000000">.</span><span style="color: #001080">day</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">item</span><span style="color: #000000">.</span><span style="color: #001080">@bool</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">item</span><span style="color: #000000">.</span><span style="color: #001080">myString</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #000000">}</span></span></code></pre></div><a class="btn btn-sm lr-arrow docs svelte-1jwx2u3" href="/norm.net/docs/reference/read/#anonymous-type-instances-mapping"><i class="bi bi-file-earmark-text me-1"></i> documentation</a></div><div class="async-streaming mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="async-streaming"><div class="lead text-center svelte-1jwx2u3"><a href="#async-streaming" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Asynchronous streaming directly from the database</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 551px;">Take advantage of the new <code>IAsyncEnumerable</code> type and asynchronous streaming directly from your database.<br><br>All asynchronous methods in Norm will return the <code>IAsyncEnumerable</code> type, so you can take async code to the next level by leveraging <code>System.Linq.Async</code>.</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">const</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #CE9178">"select id, name, foo, bar from my_streaming_table"</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Asynchronously stream values directly from database</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">await</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">foreach</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">name</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">foo</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">bar</span><span style="color: #E6E6E6">) </span><span style="color: #C586C0">in</span><span style="color: #E6E6E6"> </span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">ReadAsync</span><span style="color: #E6E6E6">&lt;</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">>(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #6A9955">    //...</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Asynchronously stream named tuples directly from database</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">await</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">foreach</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">item</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">in</span><span style="color: #E6E6E6"> </span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">ReadAsync</span><span style="color: #D4D4D4">&lt;</span><span style="color: #E6E6E6">(</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">name</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">foo</span><span style="color: #E6E6E6">, </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">bar</span><span style="color: #E6E6E6">)</span><span style="color: #D4D4D4">></span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #6A9955">    //...</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Asynchronously stream to one or more </span></span>
<span class="line"><span style="color: #6A9955">// class instances directly from database</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">class</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Class1</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Id</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Name</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">class</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Class2</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Foo</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Bar</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// Single class (id and name)</span></span>
<span class="line"><span style="color: #569CD6">await</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">foreach</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">item</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">in</span><span style="color: #E6E6E6"> </span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">ReadAsync</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Class1</span><span style="color: #E6E6E6">>(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #6A9955">    //...</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// Two classes </span></span>
<span class="line"><span style="color: #6A9955">// class1: id and name</span></span>
<span class="line"><span style="color: #6A9955">// class2: foo and bar (up to 12 max)</span></span>
<span class="line"><span style="color: #569CD6">await</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">foreach</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">r1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">r2</span><span style="color: #E6E6E6">) </span><span style="color: #C586C0">in</span><span style="color: #E6E6E6"> </span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">ReadAsync</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Class1</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">Class2</span><span style="color: #E6E6E6">>(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #6A9955">    //...</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// One normal class (id and name) and one dynamic (up to 12 max)</span></span>
<span class="line"><span style="color: #569CD6">await</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">foreach</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">x</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">y</span><span style="color: #E6E6E6">) </span><span style="color: #C586C0">in</span><span style="color: #E6E6E6"> </span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">ReadAsync</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Class1</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">dynamic</span><span style="color: #E6E6E6">>(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #6A9955">    //...</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">query</span><span style="color: #000000"> = </span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"select id, name, foo, bar from my_streaming_table"</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Asynchronously stream values directly from database</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">await</span><span style="color: #000000"> </span><span style="color: #AF00DB">foreach</span><span style="color: #000000">(</span><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">id</span><span style="color: #000000">, </span><span style="color: #001080">name</span><span style="color: #000000">, </span><span style="color: #001080">foo</span><span style="color: #000000">, </span><span style="color: #001080">bar</span><span style="color: #000000">) </span><span style="color: #AF00DB">in</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">ReadAsync</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">int</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">>(</span><span style="color: #001080">query</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #008000">    //...</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Asynchronously stream named tuples directly from database</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">await</span><span style="color: #000000"> </span><span style="color: #AF00DB">foreach</span><span style="color: #000000">(</span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">item</span><span style="color: #000000"> </span><span style="color: #AF00DB">in</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #001080">ReadAsync</span><span style="color: #000000">&lt;(</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">id</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">name</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">foo</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">bar</span><span style="color: #000000">)>(</span><span style="color: #001080">query</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #008000">    //...</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Asynchronously stream to one or more </span></span>
<span class="line"><span style="color: #008000">// class instances directly from database</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Class1</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">Id</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Name</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Class2</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">Foo</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Bar</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">// Single class (id and name)</span></span>
<span class="line"><span style="color: #0000FF">await</span><span style="color: #000000"> </span><span style="color: #AF00DB">foreach</span><span style="color: #000000">(</span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">item</span><span style="color: #000000"> </span><span style="color: #AF00DB">in</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">ReadAsync</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Class1</span><span style="color: #000000">>(</span><span style="color: #001080">query</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #008000">    //...</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">// Two classes </span></span>
<span class="line"><span style="color: #008000">// class1: id and name</span></span>
<span class="line"><span style="color: #008000">// class2: foo and bar (up to 12 max)</span></span>
<span class="line"><span style="color: #0000FF">await</span><span style="color: #000000"> </span><span style="color: #AF00DB">foreach</span><span style="color: #000000">(</span><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">r1</span><span style="color: #000000">, </span><span style="color: #001080">r2</span><span style="color: #000000">) </span><span style="color: #AF00DB">in</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">ReadAsync</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Class1</span><span style="color: #000000">, </span><span style="color: #267F99">Class2</span><span style="color: #000000">>(</span><span style="color: #001080">query</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #008000">    //...</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">// One normal class (id and name) and one dynamic (up to 12 max)</span></span>
<span class="line"><span style="color: #0000FF">await</span><span style="color: #000000"> </span><span style="color: #AF00DB">foreach</span><span style="color: #000000">(</span><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">x</span><span style="color: #000000">, </span><span style="color: #001080">y</span><span style="color: #000000">) </span><span style="color: #AF00DB">in</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">ReadAsync</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Class1</span><span style="color: #000000">, </span><span style="color: #0000FF">dynamic</span><span style="color: #000000">>(</span><span style="color: #001080">query</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #008000">    //...</span></span>
<span class="line"><span style="color: #000000">}</span></span></code></pre></div><a class="btn btn-sm lr-arrow docs svelte-1jwx2u3" href="/norm.net/docs/getting-started/basic-concepts/#async-read-iterators"><i class="bi bi-file-earmark-text me-1"></i> documentation</a></div><div class="multiple mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="multiple"><div class="lead text-center svelte-1jwx2u3"><a href="#multiple" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Map from multiple queries</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 556px;">You can map from multiple queries by using the <code>Multiple</code> method.<br><br>When mapping from multiple queries, all the same rules apply as when mapping from a single query.</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">const</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Queires</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">@"</span></span>
<span class="line"><span style="color: #CE9178">select 1 as id1, 'foo1' as foo1, 'bar1' as bar1;    // query 1</span></span>
<span class="line"><span style="color: #CE9178">select 2 as id2, 'foo2' as foo2, 'bar2' as bar2;    // query 2"</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// declare two record types - Record1 and Record2</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">record</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Record1</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Id1</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Foo1</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Bar1</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">record</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Record2</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Id2</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Foo2</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Bar2</span><span style="color: #E6E6E6">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Use Multiple method to create a disposable mutiple read object.</span></span>
<span class="line"><span style="color: #6A9955">// Move to next result set with Next method.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #C586C0">using</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">multiple</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Multiple</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">Queires</span><span style="color: #E6E6E6">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result1</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">multiple</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Record1</span><span style="color: #E6E6E6">>()</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #9CDCFE">multiple</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Next</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result2</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">multiple</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Record2</span><span style="color: #E6E6E6">>()</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Same mapping rules apply as in regular Read methods.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #C586C0">using</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">multiple</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Multiple</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">Queires</span><span style="color: #E6E6E6">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result1</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">multiple</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;(</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Id1</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Foo1</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Bar1</span><span style="color: #E6E6E6">)>()</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #9CDCFE">multiple</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Next</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result2</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">multiple</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;(</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Id2</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Foo2</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Bar2</span><span style="color: #E6E6E6">)>()</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Queires</span><span style="color: #000000"> = </span><span style="color: #A31515">@"</span></span>
<span class="line"><span style="color: #A31515">select 1 as id1, 'foo1' as foo1, 'bar1' as bar1;    // query 1</span></span>
<span class="line"><span style="color: #A31515">select 2 as id2, 'foo2' as foo2, 'bar2' as bar2;    // query 2"</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// declare two record types - Record1 and Record2</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">record</span><span style="color: #000000"> </span><span style="color: #267F99">Record1</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">Id1</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Foo1</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Bar1</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">record</span><span style="color: #000000"> </span><span style="color: #267F99">Record2</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">Id2</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Foo2</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Bar2</span><span style="color: #000000">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Use Multiple method to create a disposable mutiple read object.</span></span>
<span class="line"><span style="color: #008000">// Move to next result set with Next method.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">multiple</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">Multiple</span><span style="color: #000000">(</span><span style="color: #001080">Queires</span><span style="color: #000000">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">result1</span><span style="color: #000000"> = </span><span style="color: #001080">multiple</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Record1</span><span style="color: #000000">>()</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #001080">multiple</span><span style="color: #000000">.</span><span style="color: #795E26">Next</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">result2</span><span style="color: #000000"> = </span><span style="color: #001080">multiple</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Record2</span><span style="color: #000000">>()</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Same mapping rules apply as in regular Read methods.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">multiple</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">Multiple</span><span style="color: #000000">(</span><span style="color: #001080">Queires</span><span style="color: #000000">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">result1</span><span style="color: #000000"> = </span><span style="color: #001080">multiple</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">Id1</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Foo1</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Bar1</span><span style="color: #000000">)>()</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #001080">multiple</span><span style="color: #000000">.</span><span style="color: #795E26">Next</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">result2</span><span style="color: #000000"> = </span><span style="color: #001080">multiple</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">Id2</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Foo2</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Bar2</span><span style="color: #000000">)>()</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span></code></pre></div><a class="btn btn-sm lr-arrow docs svelte-1jwx2u3" href="/norm.net/docs/reference/multiple/"><i class="bi bi-file-earmark-text me-1"></i> documentation</a></div><div class="nested-mapping mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="nested-mapping"><div class="lead text-center svelte-1jwx2u3"><a href="#nested-mapping" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Use nested mapping to build complex object map</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 558px;">With Norm, building nested object maps is easy.<br><br>You can use the combination of <u>tuple destructions and LINQ expressions</u> to build complex object maps with nested objects from your database. See example bellow:</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">const</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">@"</span></span>
<span class="line"><span style="color: #CE9178">    select shop.*, account.*</span></span>
<span class="line"><span style="color: #CE9178">    from shop </span></span>
<span class="line"><span style="color: #CE9178">    join account on shop.id = account.shop_id"</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #6A9955">/*</span></span>
<span class="line"><span style="color: #6A9955">"id"    "name"  "id"    "name"      "address"   "shop_id"</span></span>
<span class="line"><span style="color: #6A9955">---------------------------------------------------------</span></span>
<span class="line"><span style="color: #6A9955">1       "shop1" 3       "account3"  "addr3"     1</span></span>
<span class="line"><span style="color: #6A9955">1       "shop1" 2       "account2"  "addr2"     1</span></span>
<span class="line"><span style="color: #6A9955">1       "shop1" 1       "account1"  "addr1"     1</span></span>
<span class="line"><span style="color: #6A9955">2       "shop2" 5       "account5"  "addr5"     2</span></span>
<span class="line"><span style="color: #6A9955">2       "shop2" 4       "account4"  "addr4"     2</span></span>
<span class="line"><span style="color: #6A9955">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Each Shop instance will have a list of related Accounts.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">class</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Shop</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Id</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Name</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">IList</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Account</span><span style="color: #E6E6E6">> </span><span style="color: #9CDCFE">Accounts</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Each Account instance will have a reference to its parent Shop.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">class</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Account</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Id</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Name</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Address</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">ShopId</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Shop</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Shop</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Build a list of Shops with list of related Accounts where </span></span>
<span class="line"><span style="color: #6A9955">// each Account has a reference to its parent Shop</span></span>
<span class="line"><span style="color: #6A9955">// using GroupBy and Select LINQ methods for nested mappings.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">shops</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Shop</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">Account</span><span style="color: #E6E6E6">>(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">GroupBy</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">item</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">item</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Item1</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Id</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Select</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">group</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span></span>
<span class="line"><span style="color: #E6E6E6">    {</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">shop</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">group</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">First</span><span style="color: #E6E6E6">().</span><span style="color: #9CDCFE">Item1</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">shop</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Accounts</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">group</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Select</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">item</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span></span>
<span class="line"><span style="color: #E6E6E6">        {</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">account</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">item</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Item2</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #9CDCFE">account</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Shop</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">shop</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #E6E6E6">            </span><span style="color: #C586C0">return</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">account</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #E6E6E6">        }).</span><span style="color: #DCDCAA">ToList</span><span style="color: #E6E6E6">();</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #C586C0">return</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">shop</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #E6E6E6">    })</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">ToList</span><span style="color: #E6E6E6">();</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">query</span><span style="color: #000000"> = </span><span style="color: #A31515">@"</span></span>
<span class="line"><span style="color: #A31515">    select shop.*, account.*</span></span>
<span class="line"><span style="color: #A31515">    from shop </span></span>
<span class="line"><span style="color: #A31515">    join account on shop.id = account.shop_id"</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #008000">/*</span></span>
<span class="line"><span style="color: #008000">"id"    "name"  "id"    "name"      "address"   "shop_id"</span></span>
<span class="line"><span style="color: #008000">---------------------------------------------------------</span></span>
<span class="line"><span style="color: #008000">1       "shop1" 3       "account3"  "addr3"     1</span></span>
<span class="line"><span style="color: #008000">1       "shop1" 2       "account2"  "addr2"     1</span></span>
<span class="line"><span style="color: #008000">1       "shop1" 1       "account1"  "addr1"     1</span></span>
<span class="line"><span style="color: #008000">2       "shop2" 5       "account5"  "addr5"     2</span></span>
<span class="line"><span style="color: #008000">2       "shop2" 4       "account4"  "addr4"     2</span></span>
<span class="line"><span style="color: #008000">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Each Shop instance will have a list of related Accounts.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Shop</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">Id</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Name</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #267F99">IList</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Account</span><span style="color: #000000">> </span><span style="color: #001080">Accounts</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Each Account instance will have a reference to its parent Shop.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">Account</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">Id</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Name</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Address</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">ShopId</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #267F99">Shop</span><span style="color: #000000"> </span><span style="color: #001080">Shop</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Build a list of Shops with list of related Accounts where </span></span>
<span class="line"><span style="color: #008000">// each Account has a reference to its parent Shop</span></span>
<span class="line"><span style="color: #008000">// using GroupBy and Select LINQ methods for nested mappings.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">shops</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Shop</span><span style="color: #000000">, </span><span style="color: #267F99">Account</span><span style="color: #000000">>(</span><span style="color: #001080">query</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">GroupBy</span><span style="color: #000000">(</span><span style="color: #001080">item</span><span style="color: #000000"> => </span><span style="color: #001080">item</span><span style="color: #000000">.</span><span style="color: #001080">Item1</span><span style="color: #000000">.</span><span style="color: #001080">Id</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Select</span><span style="color: #000000">(</span><span style="color: #001080">group</span><span style="color: #000000"> =></span></span>
<span class="line"><span style="color: #000000">    {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">shop</span><span style="color: #000000"> = </span><span style="color: #001080">group</span><span style="color: #000000">.</span><span style="color: #795E26">First</span><span style="color: #000000">().</span><span style="color: #001080">Item1</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">shop</span><span style="color: #000000">.</span><span style="color: #001080">Accounts</span><span style="color: #000000"> = </span><span style="color: #001080">group</span><span style="color: #000000">.</span><span style="color: #795E26">Select</span><span style="color: #000000">(</span><span style="color: #001080">item</span><span style="color: #000000"> =></span></span>
<span class="line"><span style="color: #000000">        {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">account</span><span style="color: #000000"> = </span><span style="color: #001080">item</span><span style="color: #000000">.</span><span style="color: #001080">Item2</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #001080">account</span><span style="color: #000000">.</span><span style="color: #001080">Shop</span><span style="color: #000000"> = </span><span style="color: #001080">shop</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #001080">account</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #000000">        }).</span><span style="color: #795E26">ToList</span><span style="color: #000000">();</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #001080">shop</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #000000">    })</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">ToList</span><span style="color: #000000">();</span></span></code></pre></div></div><div class="nullable-instances mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="nullable-instances"><div class="lead text-center svelte-1jwx2u3"><a href="#nullable-instances" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Nullable instances behavior</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 522px;">You can configure Norm to return <code>NULL</code> values for instances that have all mapped properties <code>NULL</code>.<br><br>This is useful when mapping the result of left outer joins, where you want to get <code>NULL</code> values when joins doesn't match.</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Set mapping behavior to nullable instances in your startup.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// If instance has all properties or fields null, </span></span>
<span class="line"><span style="color: #6A9955">// that instance will be null by default.</span></span>
<span class="line"><span style="color: #6A9955">// </span></span>
<span class="line"><span style="color: #9CDCFE">NormOptions</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Configure</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">options</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">options</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">NullableInstances</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">true</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #E6E6E6">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Get the shop and account instance by shop id = 1</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">shop</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">account</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">Shop</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">Account</span><span style="color: #E6E6E6">>(</span><span style="color: #CE9178">@"</span></span>
<span class="line"><span style="color: #CE9178">        select </span></span>
<span class="line"><span style="color: #CE9178">            shop.*, account.*</span></span>
<span class="line"><span style="color: #CE9178">        from shop </span></span>
<span class="line"><span style="color: #CE9178">        left outer join account </span></span>
<span class="line"><span style="color: #CE9178">            on shop.id = account.shop_id</span></span>
<span class="line"><span style="color: #CE9178">        where </span></span>
<span class="line"><span style="color: #CE9178">            shop.id = @id"</span><span style="color: #E6E6E6">, </span><span style="color: #B5CEA8">1</span><span style="color: #E6E6E6">) </span><span style="color: #6A9955">// id = 1</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"><span style="color: #E6E6E6">    </span></span>
<span class="line"><span style="color: #6A9955">// For @id = 1, this is the result:</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">/*</span></span>
<span class="line"><span style="color: #6A9955">"id"    "name"  "id"    "name"  "address"   "shop_id"</span></span>
<span class="line"><span style="color: #6A9955">-----------------------------------------------------</span></span>
<span class="line"><span style="color: #6A9955">1       "shop1" NULL    NULL    NULL        NULL</span></span>
<span class="line"><span style="color: #6A9955">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #9CDCFE">Assert</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">NotNull</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">shop</span><span style="color: #E6E6E6">); </span><span style="color: #6A9955">// shop is not null</span></span>
<span class="line"><span style="color: #9CDCFE">Assert</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Null</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">account</span><span style="color: #E6E6E6">); </span><span style="color: #6A9955">// account is null</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Set mapping behavior to nullable instances in your startup.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// If instance has all properties or fields null, </span></span>
<span class="line"><span style="color: #008000">// that instance will be null by default.</span></span>
<span class="line"><span style="color: #008000">// </span></span>
<span class="line"><span style="color: #001080">NormOptions</span><span style="color: #000000">.</span><span style="color: #795E26">Configure</span><span style="color: #000000">(</span><span style="color: #001080">options</span><span style="color: #000000"> =></span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">options</span><span style="color: #000000">.</span><span style="color: #001080">NullableInstances</span><span style="color: #000000"> = </span><span style="color: #0000FF">true</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #000000">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Get the shop and account instance by shop id = 1</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">shop</span><span style="color: #000000">, </span><span style="color: #001080">account</span><span style="color: #000000">) = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Shop</span><span style="color: #000000">, </span><span style="color: #267F99">Account</span><span style="color: #000000">>(</span><span style="color: #A31515">@"</span></span>
<span class="line"><span style="color: #A31515">        select </span></span>
<span class="line"><span style="color: #A31515">            shop.*, account.*</span></span>
<span class="line"><span style="color: #A31515">        from shop </span></span>
<span class="line"><span style="color: #A31515">        left outer join account </span></span>
<span class="line"><span style="color: #A31515">            on shop.id = account.shop_id</span></span>
<span class="line"><span style="color: #A31515">        where </span></span>
<span class="line"><span style="color: #A31515">            shop.id = @id"</span><span style="color: #000000">, </span><span style="color: #098658">1</span><span style="color: #000000">) </span><span style="color: #008000">// id = 1</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"><span style="color: #000000">    </span></span>
<span class="line"><span style="color: #008000">// For @id = 1, this is the result:</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">/*</span></span>
<span class="line"><span style="color: #008000">"id"    "name"  "id"    "name"  "address"   "shop_id"</span></span>
<span class="line"><span style="color: #008000">-----------------------------------------------------</span></span>
<span class="line"><span style="color: #008000">1       "shop1" NULL    NULL    NULL        NULL</span></span>
<span class="line"><span style="color: #008000">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #001080">Assert</span><span style="color: #000000">.</span><span style="color: #795E26">NotNull</span><span style="color: #000000">(</span><span style="color: #001080">shop</span><span style="color: #000000">); </span><span style="color: #008000">// shop is not null</span></span>
<span class="line"><span style="color: #001080">Assert</span><span style="color: #000000">.</span><span style="color: #795E26">Null</span><span style="color: #000000">(</span><span style="color: #001080">account</span><span style="color: #000000">); </span><span style="color: #008000">// account is null</span></span></code></pre></div><a class="btn btn-sm lr-arrow docs svelte-1jwx2u3" href="/norm.net/docs/reference/options/#nullableinstances"><i class="bi bi-file-earmark-text me-1"></i> documentation</a></div><div class="enums-and-arrays mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="enums-and-arrays"><div class="lead text-center svelte-1jwx2u3"><a href="#enums-and-arrays" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Map to complex types like enums or arrays</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 565px;">You can map to complicated types like enums or arrays. Nullable or non-nullable enums are supported.<br><br>Enums can be mapped from either string or integer values.</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">enum</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">TestEnum</span><span style="color: #E6E6E6"> { </span><span style="color: #9CDCFE">Value1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">Value2</span><span style="color: #E6E6E6"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">class</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">TestEnumClass</span><span style="color: #E6E6E6"> </span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">TestEnum</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">FromText</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">TestEnum</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">FromInt</span><span style="color: #E6E6E6">{ </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #6A9955">    // PostgerSQL only</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">TestEnum</span><span style="color: #E6E6E6">[] </span><span style="color: #9CDCFE">ArrayFromText</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #6A9955">    // PostgerSQL only</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">TestEnum</span><span style="color: #E6E6E6">[] </span><span style="color: #9CDCFE">ArrayFromInt</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Map Enum types from text or from integer columns in the database.</span></span>
<span class="line"><span style="color: #6A9955">// Null values are also supported.</span></span>
<span class="line"><span style="color: #6A9955">// You can also map arrays of enums (PostgreSQL only).</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">instances</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">TestEnumClass</span><span style="color: #E6E6E6">>(</span><span style="color: #CE9178">@"</span></span>
<span class="line"><span style="color: #CE9178">    select </span></span>
<span class="line"><span style="color: #CE9178">        from_text, </span></span>
<span class="line"><span style="color: #CE9178">        from_int,</span></span>
<span class="line"><span style="color: #CE9178">        ARRAY['Value1', 'Value2'] as array_from_text,</span></span>
<span class="line"><span style="color: #CE9178">        ARRAY[0, 1] as array_from_int</span></span>
<span class="line"><span style="color: #CE9178">    from (</span></span>
<span class="line"><span style="color: #CE9178">    values </span></span>
<span class="line"><span style="color: #CE9178">        ('Value1', 0),</span></span>
<span class="line"><span style="color: #CE9178">        ('Value2', 1)</span></span>
<span class="line"><span style="color: #CE9178">    ) t(from_text, from_int,)"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">ToArray</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// first row</span></span>
<span class="line"><span style="color: #9CDCFE">Assert</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Equal</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">TestEnum</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Value1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">instances</span><span style="color: #E6E6E6">[</span><span style="color: #B5CEA8">0</span><span style="color: #E6E6E6">].</span><span style="color: #9CDCFE">FromText</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #9CDCFE">Assert</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Equal</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">TestEnum</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Value1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">instances</span><span style="color: #E6E6E6">[</span><span style="color: #B5CEA8">0</span><span style="color: #E6E6E6">].</span><span style="color: #9CDCFE">FromInt</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #6A9955">// second row</span></span>
<span class="line"><span style="color: #9CDCFE">Assert</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Equal</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">TestEnum</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Value2</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">instances</span><span style="color: #E6E6E6">[</span><span style="color: #B5CEA8">1</span><span style="color: #E6E6E6">].</span><span style="color: #9CDCFE">FromText</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #9CDCFE">Assert</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Equal</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">TestEnum</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Value2</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">instances</span><span style="color: #E6E6E6">[</span><span style="color: #B5CEA8">1</span><span style="color: #E6E6E6">].</span><span style="color: #9CDCFE">FromInt</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #6A9955">// arrays (PostgreSQL only)</span></span>
<span class="line"><span style="color: #9CDCFE">Assert</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Equal</span><span style="color: #E6E6E6">(</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">new</span><span style="color: #E6E6E6">[] { </span><span style="color: #9CDCFE">TestEnum</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Value1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">TestEnum</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Value2</span><span style="color: #E6E6E6"> }, </span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">instances</span><span style="color: #E6E6E6">[</span><span style="color: #B5CEA8">0</span><span style="color: #E6E6E6">].</span><span style="color: #9CDCFE">ArrayFromText</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #9CDCFE">Assert</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Equal</span><span style="color: #E6E6E6">(</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">new</span><span style="color: #E6E6E6">[] { </span><span style="color: #9CDCFE">TestEnum</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Value1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">TestEnum</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Value2</span><span style="color: #E6E6E6"> }, </span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">instances</span><span style="color: #E6E6E6">[</span><span style="color: #B5CEA8">0</span><span style="color: #E6E6E6">].</span><span style="color: #9CDCFE">ArrayFromInt</span><span style="color: #E6E6E6">);</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">enum</span><span style="color: #000000"> </span><span style="color: #267F99">TestEnum</span><span style="color: #000000"> { </span><span style="color: #001080">Value1</span><span style="color: #000000">, </span><span style="color: #001080">Value2</span><span style="color: #000000"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">TestEnumClass</span><span style="color: #000000"> </span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #267F99">TestEnum</span><span style="color: #000000"> </span><span style="color: #001080">FromText</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #267F99">TestEnum</span><span style="color: #000000"> </span><span style="color: #001080">FromInt</span><span style="color: #000000">{ </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #008000">    // PostgerSQL only</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #267F99">TestEnum</span><span style="color: #000000">[] </span><span style="color: #001080">ArrayFromText</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #008000">    // PostgerSQL only</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #267F99">TestEnum</span><span style="color: #000000">[] </span><span style="color: #001080">ArrayFromInt</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Map Enum types from text or from integer columns in the database.</span></span>
<span class="line"><span style="color: #008000">// Null values are also supported.</span></span>
<span class="line"><span style="color: #008000">// You can also map arrays of enums (PostgreSQL only).</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">instances</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span><span style="color: #000000">.</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">TestEnumClass</span><span style="color: #000000">>(</span><span style="color: #A31515">@"</span></span>
<span class="line"><span style="color: #A31515">    select </span></span>
<span class="line"><span style="color: #A31515">        from_text, </span></span>
<span class="line"><span style="color: #A31515">        from_int,</span></span>
<span class="line"><span style="color: #A31515">        ARRAY['Value1', 'Value2'] as array_from_text,</span></span>
<span class="line"><span style="color: #A31515">        ARRAY[0, 1] as array_from_int</span></span>
<span class="line"><span style="color: #A31515">    from (</span></span>
<span class="line"><span style="color: #A31515">    values </span></span>
<span class="line"><span style="color: #A31515">        ('Value1', 0),</span></span>
<span class="line"><span style="color: #A31515">        ('Value2', 1)</span></span>
<span class="line"><span style="color: #A31515">    ) t(from_text, from_int,)"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">ToArray</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">// first row</span></span>
<span class="line"><span style="color: #001080">Assert</span><span style="color: #000000">.</span><span style="color: #795E26">Equal</span><span style="color: #000000">(</span><span style="color: #001080">TestEnum</span><span style="color: #000000">.</span><span style="color: #001080">Value1</span><span style="color: #000000">, </span><span style="color: #001080">instances</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">].</span><span style="color: #001080">FromText</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #001080">Assert</span><span style="color: #000000">.</span><span style="color: #795E26">Equal</span><span style="color: #000000">(</span><span style="color: #001080">TestEnum</span><span style="color: #000000">.</span><span style="color: #001080">Value1</span><span style="color: #000000">, </span><span style="color: #001080">instances</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">].</span><span style="color: #001080">FromInt</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #008000">// second row</span></span>
<span class="line"><span style="color: #001080">Assert</span><span style="color: #000000">.</span><span style="color: #795E26">Equal</span><span style="color: #000000">(</span><span style="color: #001080">TestEnum</span><span style="color: #000000">.</span><span style="color: #001080">Value2</span><span style="color: #000000">, </span><span style="color: #001080">instances</span><span style="color: #000000">[</span><span style="color: #098658">1</span><span style="color: #000000">].</span><span style="color: #001080">FromText</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #001080">Assert</span><span style="color: #000000">.</span><span style="color: #795E26">Equal</span><span style="color: #000000">(</span><span style="color: #001080">TestEnum</span><span style="color: #000000">.</span><span style="color: #001080">Value2</span><span style="color: #000000">, </span><span style="color: #001080">instances</span><span style="color: #000000">[</span><span style="color: #098658">1</span><span style="color: #000000">].</span><span style="color: #001080">FromInt</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #008000">// arrays (PostgreSQL only)</span></span>
<span class="line"><span style="color: #001080">Assert</span><span style="color: #000000">.</span><span style="color: #795E26">Equal</span><span style="color: #000000">(</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">new</span><span style="color: #000000">[] { </span><span style="color: #001080">TestEnum</span><span style="color: #000000">.</span><span style="color: #001080">Value1</span><span style="color: #000000">, </span><span style="color: #001080">TestEnum</span><span style="color: #000000">.</span><span style="color: #001080">Value2</span><span style="color: #000000"> }, </span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">instances</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">].</span><span style="color: #001080">ArrayFromText</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #001080">Assert</span><span style="color: #000000">.</span><span style="color: #795E26">Equal</span><span style="color: #000000">(</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">new</span><span style="color: #000000">[] { </span><span style="color: #001080">TestEnum</span><span style="color: #000000">.</span><span style="color: #001080">Value1</span><span style="color: #000000">, </span><span style="color: #001080">TestEnum</span><span style="color: #000000">.</span><span style="color: #001080">Value2</span><span style="color: #000000"> }, </span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">instances</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">].</span><span style="color: #001080">ArrayFromInt</span><span style="color: #000000">);</span></span></code></pre></div><a class="btn btn-sm lr-arrow docs svelte-1jwx2u3" href="/norm.net/docs/reference/read/#arrays-and-enums"><i class="bi bi-file-earmark-text me-1"></i> documentation</a></div><div class="prepared mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="prepared"><div class="lead text-center svelte-1jwx2u3"><a href="#prepared" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Run your statement in a prepared mode</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 522px;">If you need to run some or all commands in a prepared mode, you can do that by using the <code>Prepared</code> method.<br><br>Prepared mode is useful for PostgreSQL databases because explicit command preparation is <a href="https://www.npgsql.org/doc/prepare.html#automatic-preparation">recommended for better performance.</a></div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Following query will be executed in prepared mode.</span></span>
<span class="line"><span style="color: #6A9955">// Any Read, ReadAsync, Execute or ExecuteAsync method </span></span>
<span class="line"><span style="color: #6A9955">// after Prepared() will be executed in prepared mode.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">p1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">p2</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">p3</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Prepared</span><span style="color: #E6E6E6">()</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">WithParameters</span><span style="color: #E6E6E6">(</span><span style="color: #B5CEA8">1</span><span style="color: #E6E6E6">, </span><span style="color: #B5CEA8">2</span><span style="color: #E6E6E6">, </span><span style="color: #B5CEA8">3</span><span style="color: #E6E6E6">) </span><span style="color: #6A9955">// parameters are positional</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">>(</span><span style="color: #CE9178">"select @p1, @p2, @p3"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Set global options in your startup </span></span>
<span class="line"><span style="color: #6A9955">// to always execute in prepared mode (default is false).</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #9CDCFE">NormOptions</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Configure</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">options</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">options</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Prepared</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">true</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #E6E6E6">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// No need to call Prepared() anymore, every call is prepared.</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">p1</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">p2</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">p3</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">WithParameters</span><span style="color: #E6E6E6">(</span><span style="color: #B5CEA8">1</span><span style="color: #E6E6E6">, </span><span style="color: #B5CEA8">2</span><span style="color: #E6E6E6">, </span><span style="color: #B5CEA8">3</span><span style="color: #E6E6E6">) </span><span style="color: #6A9955">// parameters are positional</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">>(</span><span style="color: #CE9178">"select @p1, @p2, @p3"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Following query will be executed in prepared mode.</span></span>
<span class="line"><span style="color: #008000">// Any Read, ReadAsync, Execute or ExecuteAsync method </span></span>
<span class="line"><span style="color: #008000">// after Prepared() will be executed in prepared mode.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">p1</span><span style="color: #000000">, </span><span style="color: #001080">p2</span><span style="color: #000000">, </span><span style="color: #001080">p3</span><span style="color: #000000">) = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Prepared</span><span style="color: #000000">()</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">WithParameters</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #098658">2</span><span style="color: #000000">, </span><span style="color: #098658">3</span><span style="color: #000000">) </span><span style="color: #008000">// parameters are positional</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">int</span><span style="color: #000000">, </span><span style="color: #0000FF">int</span><span style="color: #000000">, </span><span style="color: #0000FF">int</span><span style="color: #000000">>(</span><span style="color: #A31515">"select @p1, @p2, @p3"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Set global options in your startup </span></span>
<span class="line"><span style="color: #008000">// to always execute in prepared mode (default is false).</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #001080">NormOptions</span><span style="color: #000000">.</span><span style="color: #795E26">Configure</span><span style="color: #000000">(</span><span style="color: #001080">options</span><span style="color: #000000"> =></span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">options</span><span style="color: #000000">.</span><span style="color: #001080">Prepared</span><span style="color: #000000"> = </span><span style="color: #0000FF">true</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #000000">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">// No need to call Prepared() anymore, every call is prepared.</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">p1</span><span style="color: #000000">, </span><span style="color: #001080">p2</span><span style="color: #000000">, </span><span style="color: #001080">p3</span><span style="color: #000000">) = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">WithParameters</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #098658">2</span><span style="color: #000000">, </span><span style="color: #098658">3</span><span style="color: #000000">) </span><span style="color: #008000">// parameters are positional</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">int</span><span style="color: #000000">, </span><span style="color: #0000FF">int</span><span style="color: #000000">, </span><span style="color: #0000FF">int</span><span style="color: #000000">>(</span><span style="color: #A31515">"select @p1, @p2, @p3"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span></code></pre></div><a class="btn btn-sm lr-arrow docs svelte-1jwx2u3" href="/norm.net/docs/reference/options/#prepared"><i class="bi bi-file-earmark-text me-1"></i> documentation</a></div><div class="postgres-optimizations mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="postgres-optimizations"><div class="lead text-center svelte-1jwx2u3"><a href="#postgres-optimizations" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Take advantage of specific PostgreSQL optimizations</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 641px;">Norm has several built-in support for PostgreSQL-specific optimizations. You can even say it was made for PostgreSQL (although it works with other databases as well).<br><br>For example, you can use specific PostgreSQL paremeters format and disable Npgsql query rewriting. See <a href="https://www.roji.org/parameters-batching-and-sql-rewriting#parameters">this article.</a><br><br>You can also skip Npgsql parsing type parsing and use <a href="https://www.npgsql.org/doc/api/Npgsql.NpgsqlCommand.html#Npgsql_NpgsqlCommand_AllResultTypesAreUnknown">direct PostgreSQL text format</a> instead.</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// When using PostgreSQL, you can use PostgreSQL paremeter format.</span></span>
<span class="line"><span style="color: #6A9955">// This will allow Npgsql to skip query rewriting.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">s</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">i</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">b</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">d</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #6A9955">    // parameters are positional</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">WithParameters</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">"str"</span><span style="color: #E6E6E6">, </span><span style="color: #B5CEA8">999</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">true</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">new</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">DateTime</span><span style="color: #E6E6E6">(</span><span style="color: #B5CEA8">1977</span><span style="color: #E6E6E6">, </span><span style="color: #B5CEA8">5</span><span style="color: #E6E6E6">, </span><span style="color: #B5CEA8">19</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">bool</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">DateTime</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">>(</span><span style="color: #CE9178">"select $1, $2, $3, $4"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// You can globally disable query rewriting by setting </span></span>
<span class="line"><span style="color: #6A9955">// NpgsqlEnableSqlRewriting to false in your startup.</span></span>
<span class="line"><span style="color: #6A9955">// This will ensure that all queries are intact by underlying Npgsql driver </span></span>
<span class="line"><span style="color: #6A9955">// (skips query rewriting). </span></span>
<span class="line"><span style="color: #6A9955">// In that case, PostgreSQL paremeter format is required always.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #9CDCFE">NormOptions</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Configure</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">options</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">options</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">NpgsqlEnableSqlRewriting</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">false</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #E6E6E6">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Marks all of the query result columns as unknown.</span></span>
<span class="line"><span style="color: #6A9955">// Unknown result columns are requested from PostgreSQL in text format, </span></span>
<span class="line"><span style="color: #6A9955">// and Npgsql makes no attempt to parse them (accessible as strings).</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// This is useful when you want to avoid the overhead of parsing </span></span>
<span class="line"><span style="color: #6A9955">// or you want to fetch some exotic type from PostgreSQL.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Note: you can write your own parser with `WithReaderCallback` method.</span></span>
<span class="line"><span style="color: #6A9955">// </span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">s</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">i</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">b</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">d</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">WithUnknownResultType</span><span style="color: #E6E6E6">()</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">WithParameters</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">"str"</span><span style="color: #E6E6E6">, </span><span style="color: #B5CEA8">999</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">true</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">new</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">DateTime</span><span style="color: #E6E6E6">(</span><span style="color: #B5CEA8">1977</span><span style="color: #E6E6E6">, </span><span style="color: #B5CEA8">5</span><span style="color: #E6E6E6">, </span><span style="color: #B5CEA8">19</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">>(</span><span style="color: #CE9178">"select $1, $2, $3, $4"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Marks all of the query result columns as unknown, except first one.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> (</span><span style="color: #9CDCFE">s</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">i</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">b</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">d</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">WithUnknownResultType</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">false</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">true</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">true</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">true</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">WithParameters</span><span style="color: #E6E6E6">(</span><span style="color: #CE9178">"str"</span><span style="color: #E6E6E6">, </span><span style="color: #B5CEA8">999</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">true</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">new</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">DateTime</span><span style="color: #E6E6E6">(</span><span style="color: #B5CEA8">1977</span><span style="color: #E6E6E6">, </span><span style="color: #B5CEA8">5</span><span style="color: #E6E6E6">, </span><span style="color: #B5CEA8">19</span><span style="color: #E6E6E6">))</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6">>(</span><span style="color: #CE9178">"select $1, $2, $3, $4"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// When using PostgreSQL, you can use PostgreSQL paremeter format.</span></span>
<span class="line"><span style="color: #008000">// This will allow Npgsql to skip query rewriting.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">s</span><span style="color: #000000">, </span><span style="color: #001080">i</span><span style="color: #000000">, </span><span style="color: #001080">b</span><span style="color: #000000">, </span><span style="color: #001080">d</span><span style="color: #000000">) = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #008000">    // parameters are positional</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">WithParameters</span><span style="color: #000000">(</span><span style="color: #A31515">"str"</span><span style="color: #000000">, </span><span style="color: #098658">999</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">, </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">DateTime</span><span style="color: #000000">(</span><span style="color: #098658">1977</span><span style="color: #000000">, </span><span style="color: #098658">5</span><span style="color: #000000">, </span><span style="color: #098658">19</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">int</span><span style="color: #000000">, </span><span style="color: #0000FF">bool</span><span style="color: #000000">, </span><span style="color: #267F99">DateTime</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">>(</span><span style="color: #A31515">"select $1, $2, $3, $4"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// You can globally disable query rewriting by setting </span></span>
<span class="line"><span style="color: #008000">// NpgsqlEnableSqlRewriting to false in your startup.</span></span>
<span class="line"><span style="color: #008000">// This will ensure that all queries are intact by underlying Npgsql driver </span></span>
<span class="line"><span style="color: #008000">// (skips query rewriting). </span></span>
<span class="line"><span style="color: #008000">// In that case, PostgreSQL paremeter format is required always.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #001080">NormOptions</span><span style="color: #000000">.</span><span style="color: #795E26">Configure</span><span style="color: #000000">(</span><span style="color: #001080">options</span><span style="color: #000000"> =></span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">options</span><span style="color: #000000">.</span><span style="color: #001080">NpgsqlEnableSqlRewriting</span><span style="color: #000000"> = </span><span style="color: #0000FF">false</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #000000">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Marks all of the query result columns as unknown.</span></span>
<span class="line"><span style="color: #008000">// Unknown result columns are requested from PostgreSQL in text format, </span></span>
<span class="line"><span style="color: #008000">// and Npgsql makes no attempt to parse them (accessible as strings).</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// This is useful when you want to avoid the overhead of parsing </span></span>
<span class="line"><span style="color: #008000">// or you want to fetch some exotic type from PostgreSQL.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Note: you can write your own parser with `WithReaderCallback` method.</span></span>
<span class="line"><span style="color: #008000">// </span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">s</span><span style="color: #000000">, </span><span style="color: #001080">i</span><span style="color: #000000">, </span><span style="color: #001080">b</span><span style="color: #000000">, </span><span style="color: #001080">d</span><span style="color: #000000">) = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">WithUnknownResultType</span><span style="color: #000000">()</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">WithParameters</span><span style="color: #000000">(</span><span style="color: #A31515">"str"</span><span style="color: #000000">, </span><span style="color: #098658">999</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">, </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">DateTime</span><span style="color: #000000">(</span><span style="color: #098658">1977</span><span style="color: #000000">, </span><span style="color: #098658">5</span><span style="color: #000000">, </span><span style="color: #098658">19</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">>(</span><span style="color: #A31515">"select $1, $2, $3, $4"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Marks all of the query result columns as unknown, except first one.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> (</span><span style="color: #001080">s</span><span style="color: #000000">, </span><span style="color: #001080">i</span><span style="color: #000000">, </span><span style="color: #001080">b</span><span style="color: #000000">, </span><span style="color: #001080">d</span><span style="color: #000000">) = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">WithUnknownResultType</span><span style="color: #000000">(</span><span style="color: #0000FF">false</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">WithParameters</span><span style="color: #000000">(</span><span style="color: #A31515">"str"</span><span style="color: #000000">, </span><span style="color: #098658">999</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">, </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">DateTime</span><span style="color: #000000">(</span><span style="color: #098658">1977</span><span style="color: #000000">, </span><span style="color: #098658">5</span><span style="color: #000000">, </span><span style="color: #098658">19</span><span style="color: #000000">))</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">, </span><span style="color: #0000FF">string</span><span style="color: #000000">>(</span><span style="color: #A31515">"select $1, $2, $3, $4"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span></code></pre></div></div><div class="reader-callback mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="reader-callback"><div class="lead text-center svelte-1jwx2u3"><a href="#reader-callback" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Access to low-level data reader</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 688px;">You can gain access to the low-level data reader object (type <code>DbDataReader</code>) - created for every query command. Reader callback accepts returning values and passes them down to the default mapper.<br>This provides the ability to do some interesting stuff, like:<br>- Do some custom mapping.<br>- Return alternative values.<br>- Create complex objects with different reader values, etc.<br><br>The following example shows how to return a value incremented by 1 a) for all columns at the first position and b) for all columns with the name "i".</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">const</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">@"</span></span>
<span class="line"><span style="color: #CE9178">        select * from (values </span></span>
<span class="line"><span style="color: #CE9178">            (1, 1),</span></span>
<span class="line"><span style="color: #CE9178">            (2, 2),</span></span>
<span class="line"><span style="color: #CE9178">            (3, 3)</span></span>
<span class="line"><span style="color: #CE9178">        ) t(i, j)"</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// You can gain access to the underlying DbDataReader by </span></span>
<span class="line"><span style="color: #6A9955">// using the WithReaderCallback method.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// This method allows you to perform any custom processing on the DbDataReader.</span></span>
<span class="line"><span style="color: #6A9955">// Return null to indicate that the default value should be used.</span></span>
<span class="line"><span style="color: #6A9955">// If you need to return a literal null value, return `DBNull.Value`.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// This example will i and j tuple, where i value is incremented by 1.</span></span>
<span class="line"><span style="color: #6A9955">// </span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">WithReaderCallback</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">r</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">r</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Ordinal</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">switch</span></span>
<span class="line"><span style="color: #E6E6E6">    {</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #B5CEA8">0</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">r</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Reader</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">GetInt32</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">r</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Ordinal</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">+</span><span style="color: #E6E6E6"> </span><span style="color: #B5CEA8">1</span><span style="color: #E6E6E6">,</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">_</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">null</span><span style="color: #E6E6E6"> </span><span style="color: #6A9955">// default value</span></span>
<span class="line"><span style="color: #E6E6E6">    })</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;(</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">i</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">j</span><span style="color: #E6E6E6">)>(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">ToArray</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// You can also use the column name instead of the ordinal position.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">WithReaderCallback</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">arg</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">arg</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Name</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">switch</span></span>
<span class="line"><span style="color: #E6E6E6">    {</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #CE9178">"i"</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">arg</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Reader</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">GetInt32</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">arg</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Ordinal</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">+</span><span style="color: #E6E6E6"> </span><span style="color: #B5CEA8">1</span><span style="color: #E6E6E6">,</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">_</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">null</span><span style="color: #E6E6E6"> </span><span style="color: #6A9955">// default value</span></span>
<span class="line"><span style="color: #E6E6E6">    })</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;(</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">i</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">j</span><span style="color: #E6E6E6">)>(</span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">ToArray</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// You can also declare a method that implements the reader callback</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #569CD6">private</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">object</span><span style="color: #E6E6E6">? </span><span style="color: #DCDCAA">ReaderCallback</span><span style="color: #E6E6E6">((</span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Name</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Ordinal</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">DbDataReader</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Reader</span><span style="color: #E6E6E6">) </span><span style="color: #9CDCFE">arg</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #C586C0">return</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">arg</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">arg</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Name</span><span style="color: #E6E6E6"> </span><span style="color: #C586C0">switch</span></span>
<span class="line"><span style="color: #E6E6E6">    {</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #CE9178">"i"</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">arg</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Reader</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">GetInt32</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">arg</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Ordinal</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">+</span><span style="color: #E6E6E6"> </span><span style="color: #B5CEA8">1</span><span style="color: #E6E6E6">,</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #569CD6">_</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">null</span><span style="color: #E6E6E6"> </span><span style="color: #6A9955">// default value</span></span>
<span class="line"><span style="color: #E6E6E6">    }</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// map reader callback to method</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">WithReaderCallback</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">ReaderCallback</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #6A9955">    // map to anonymous type by name</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">new</span><span style="color: #E6E6E6"> { </span><span style="color: #9CDCFE">i</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">default</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">), </span><span style="color: #9CDCFE">j</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">default</span><span style="color: #E6E6E6">(</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">) }, </span><span style="color: #9CDCFE">query</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">ToArray</span><span style="color: #E6E6E6">();</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">query</span><span style="color: #000000"> = </span><span style="color: #A31515">@"</span></span>
<span class="line"><span style="color: #A31515">        select * from (values </span></span>
<span class="line"><span style="color: #A31515">            (1, 1),</span></span>
<span class="line"><span style="color: #A31515">            (2, 2),</span></span>
<span class="line"><span style="color: #A31515">            (3, 3)</span></span>
<span class="line"><span style="color: #A31515">        ) t(i, j)"</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// You can gain access to the underlying DbDataReader by </span></span>
<span class="line"><span style="color: #008000">// using the WithReaderCallback method.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// This method allows you to perform any custom processing on the DbDataReader.</span></span>
<span class="line"><span style="color: #008000">// Return null to indicate that the default value should be used.</span></span>
<span class="line"><span style="color: #008000">// If you need to return a literal null value, return `DBNull.Value`.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// This example will i and j tuple, where i value is incremented by 1.</span></span>
<span class="line"><span style="color: #008000">// </span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">result</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">WithReaderCallback</span><span style="color: #000000">(</span><span style="color: #001080">r</span><span style="color: #000000"> => </span><span style="color: #001080">r</span><span style="color: #000000">.</span><span style="color: #001080">Ordinal</span><span style="color: #000000"> </span><span style="color: #AF00DB">switch</span></span>
<span class="line"><span style="color: #000000">    {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #098658">0</span><span style="color: #000000"> => </span><span style="color: #001080">r</span><span style="color: #000000">.</span><span style="color: #001080">Reader</span><span style="color: #000000">.</span><span style="color: #795E26">GetInt32</span><span style="color: #000000">(</span><span style="color: #001080">r</span><span style="color: #000000">.</span><span style="color: #001080">Ordinal</span><span style="color: #000000">) + </span><span style="color: #098658">1</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">_</span><span style="color: #000000"> => </span><span style="color: #0000FF">null</span><span style="color: #000000"> </span><span style="color: #008000">// default value</span></span>
<span class="line"><span style="color: #000000">    })</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">i</span><span style="color: #000000">, </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">j</span><span style="color: #000000">)>(</span><span style="color: #001080">query</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">ToArray</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// You can also use the column name instead of the ordinal position.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">result</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">WithReaderCallback</span><span style="color: #000000">(</span><span style="color: #001080">arg</span><span style="color: #000000"> => </span><span style="color: #001080">arg</span><span style="color: #000000">.</span><span style="color: #001080">Name</span><span style="color: #000000"> </span><span style="color: #AF00DB">switch</span></span>
<span class="line"><span style="color: #000000">    {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #A31515">"i"</span><span style="color: #000000"> => </span><span style="color: #001080">arg</span><span style="color: #000000">.</span><span style="color: #001080">Reader</span><span style="color: #000000">.</span><span style="color: #795E26">GetInt32</span><span style="color: #000000">(</span><span style="color: #001080">arg</span><span style="color: #000000">.</span><span style="color: #001080">Ordinal</span><span style="color: #000000">) + </span><span style="color: #098658">1</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">_</span><span style="color: #000000"> => </span><span style="color: #0000FF">null</span><span style="color: #000000"> </span><span style="color: #008000">// default value</span></span>
<span class="line"><span style="color: #000000">    })</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;(</span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">i</span><span style="color: #000000">, </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">j</span><span style="color: #000000">)>(</span><span style="color: #001080">query</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">ToArray</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// You can also declare a method that implements the reader callback</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #0000FF">private</span><span style="color: #000000"> </span><span style="color: #0000FF">object</span><span style="color: #000000">? </span><span style="color: #795E26">ReaderCallback</span><span style="color: #000000">((</span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Name</span><span style="color: #000000">, </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">Ordinal</span><span style="color: #000000">, </span><span style="color: #267F99">DbDataReader</span><span style="color: #000000"> </span><span style="color: #001080">Reader</span><span style="color: #000000">) </span><span style="color: #001080">arg</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #001080">arg</span><span style="color: #000000"> => </span><span style="color: #001080">arg</span><span style="color: #000000">.</span><span style="color: #001080">Name</span><span style="color: #000000"> </span><span style="color: #AF00DB">switch</span></span>
<span class="line"><span style="color: #000000">    {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #A31515">"i"</span><span style="color: #000000"> => </span><span style="color: #001080">arg</span><span style="color: #000000">.</span><span style="color: #001080">Reader</span><span style="color: #000000">.</span><span style="color: #795E26">GetInt32</span><span style="color: #000000">(</span><span style="color: #001080">arg</span><span style="color: #000000">.</span><span style="color: #001080">Ordinal</span><span style="color: #000000">) + </span><span style="color: #098658">1</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0000FF">_</span><span style="color: #000000"> => </span><span style="color: #0000FF">null</span><span style="color: #000000"> </span><span style="color: #008000">// default value</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">// map reader callback to method</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">result</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">WithReaderCallback</span><span style="color: #000000">(</span><span style="color: #001080">ReaderCallback</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #008000">    // map to anonymous type by name</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> { </span><span style="color: #001080">i</span><span style="color: #000000"> = </span><span style="color: #0000FF">default</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000">), </span><span style="color: #001080">j</span><span style="color: #000000"> = </span><span style="color: #0000FF">default</span><span style="color: #000000">(</span><span style="color: #0000FF">int</span><span style="color: #000000">) }, </span><span style="color: #001080">query</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">ToArray</span><span style="color: #000000">();</span></span></code></pre></div><a class="btn btn-sm lr-arrow docs svelte-1jwx2u3" href="/norm.net/docs/reference/read/#dbreader-callback"><i class="bi bi-file-earmark-text me-1"></i> documentation</a></div><div class="custom-mapping mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="custom-mapping"><div class="lead text-center svelte-1jwx2u3"><a href="#custom-mapping" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Implement your own custom mapping for entire application</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 717px;">You can configure a global reader callback that will be used for all queries in your application.<br><br>This is useful when you want to implement your custom mapping for the entire application.<br>For example, I want all database type <code>json</code> to be mapped to <code>JsonObject</code> type always.<br><br>Here is how to do that:</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Text</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Json</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Nodes</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// You can also set a global reader callback</span></span>
<span class="line"><span style="color: #6A9955">// that will be executed for every query in the application.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// This is a great way to implement custom type mapping.</span></span>
<span class="line"><span style="color: #6A9955">// Here is an example of how to map all database `json` types to `JsonObject`</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// Reader callback can be in a expression method instead of a lambda function</span></span>
<span class="line"><span style="color: #569CD6">private</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">object</span><span style="color: #E6E6E6">? </span><span style="color: #DCDCAA">ReaderCallback</span><span style="color: #E6E6E6">((</span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Name</span><span style="color: #E6E6E6">, </span><span style="color: #569CD6">int</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Ordinal</span><span style="color: #E6E6E6">, </span><span style="color: #4EC9B0">DbDataReader</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">Reader</span><span style="color: #E6E6E6">) </span><span style="color: #9CDCFE">arg</span><span style="color: #E6E6E6">) </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span></span>
<span class="line"><span style="color: #6A9955">    // switch over the column type</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">arg</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Reader</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">GetDataTypeName</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">arg</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Ordinal</span><span style="color: #E6E6E6">) </span><span style="color: #C586C0">switch</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #6A9955">    // if the column type is json, then convert it to JsonObject</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #CE9178">"json"</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">JsonNode</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Parse</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">arg</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Reader</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">GetString</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">arg</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Ordinal</span><span style="color: #E6E6E6">))</span><span style="color: #D4D4D4">?</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">AsObject</span><span style="color: #E6E6E6">(),</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">_</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">null</span><span style="color: #E6E6E6"> </span><span style="color: #6A9955">// default value</span></span>
<span class="line"><span style="color: #E6E6E6">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// Set the option in the your startup code...</span></span>
<span class="line"><span style="color: #9CDCFE">NormOptions</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Configure</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">options</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">options</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">DbReaderCallback</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">ReaderCallback</span><span style="color: #E6E6E6">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// example class (I is string and J is JsonObject)</span></span>
<span class="line"><span style="color: #569CD6">private</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">class</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">JsonTest</span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">string</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">I</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #569CD6">public</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">JsonObject</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">J</span><span style="color: #E6E6E6"> { </span><span style="color: #569CD6">get</span><span style="color: #E6E6E6">; </span><span style="color: #569CD6">set</span><span style="color: #E6E6E6">; }</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// example query</span></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">JsonTest</span><span style="color: #E6E6E6">>(</span></span>
<span class="line"><span style="color: #6A9955">        // column i is a text and column j is a json</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #CE9178">"select '{</span><span style="color: #D7BA7D">\"</span><span style="color: #CE9178">a</span><span style="color: #D7BA7D">\"</span><span style="color: #CE9178">: 1}'::text as i, '{</span><span style="color: #D7BA7D">\"</span><span style="color: #CE9178">a</span><span style="color: #D7BA7D">\"</span><span style="color: #CE9178">: 1}'::json as j"</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Single</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// assertion</span></span>
<span class="line"><span style="color: #9CDCFE">Assert</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">IsType</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">JsonObject</span><span style="color: #E6E6E6">>(</span><span style="color: #9CDCFE">result</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">J</span><span style="color: #E6E6E6">); </span><span style="color: #6A9955">// property J is JsonObject</span></span>
<span class="line"><span style="color: #9CDCFE">Assert</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Equal</span><span style="color: #E6E6E6">(</span><span style="color: #B5CEA8">1</span><span style="color: #E6E6E6">, (</span><span style="color: #569CD6">int</span><span style="color: #E6E6E6">)</span><span style="color: #9CDCFE">result</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">J</span><span style="color: #E6E6E6">[</span><span style="color: #CE9178">"a"</span><span style="color: #E6E6E6">]); </span><span style="color: #6A9955">// property J has a property "a" with value 1</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Text</span><span style="color: #000000">.</span><span style="color: #267F99">Json</span><span style="color: #000000">.</span><span style="color: #267F99">Nodes</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// You can also set a global reader callback</span></span>
<span class="line"><span style="color: #008000">// that will be executed for every query in the application.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// This is a great way to implement custom type mapping.</span></span>
<span class="line"><span style="color: #008000">// Here is an example of how to map all database `json` types to `JsonObject`</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">// Reader callback can be in a expression method instead of a lambda function</span></span>
<span class="line"><span style="color: #0000FF">private</span><span style="color: #000000"> </span><span style="color: #0000FF">object</span><span style="color: #000000">? </span><span style="color: #795E26">ReaderCallback</span><span style="color: #000000">((</span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">Name</span><span style="color: #000000">, </span><span style="color: #0000FF">int</span><span style="color: #000000"> </span><span style="color: #001080">Ordinal</span><span style="color: #000000">, </span><span style="color: #267F99">DbDataReader</span><span style="color: #000000"> </span><span style="color: #001080">Reader</span><span style="color: #000000">) </span><span style="color: #001080">arg</span><span style="color: #000000">) => </span></span>
<span class="line"><span style="color: #008000">    // switch over the column type</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">arg</span><span style="color: #000000">.</span><span style="color: #001080">Reader</span><span style="color: #000000">.</span><span style="color: #795E26">GetDataTypeName</span><span style="color: #000000">(</span><span style="color: #001080">arg</span><span style="color: #000000">.</span><span style="color: #001080">Ordinal</span><span style="color: #000000">) </span><span style="color: #AF00DB">switch</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #008000">    // if the column type is json, then convert it to JsonObject</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"json"</span><span style="color: #000000"> => </span><span style="color: #001080">JsonNode</span><span style="color: #000000">.</span><span style="color: #795E26">Parse</span><span style="color: #000000">(</span><span style="color: #001080">arg</span><span style="color: #000000">.</span><span style="color: #001080">Reader</span><span style="color: #000000">.</span><span style="color: #795E26">GetString</span><span style="color: #000000">(</span><span style="color: #001080">arg</span><span style="color: #000000">.</span><span style="color: #001080">Ordinal</span><span style="color: #000000">))?.</span><span style="color: #795E26">AsObject</span><span style="color: #000000">(),</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">_</span><span style="color: #000000"> => </span><span style="color: #0000FF">null</span><span style="color: #000000"> </span><span style="color: #008000">// default value</span></span>
<span class="line"><span style="color: #000000">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">// Set the option in the your startup code...</span></span>
<span class="line"><span style="color: #001080">NormOptions</span><span style="color: #000000">.</span><span style="color: #795E26">Configure</span><span style="color: #000000">(</span><span style="color: #001080">options</span><span style="color: #000000"> => </span><span style="color: #001080">options</span><span style="color: #000000">.</span><span style="color: #001080">DbReaderCallback</span><span style="color: #000000"> = </span><span style="color: #001080">ReaderCallback</span><span style="color: #000000">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">// example class (I is string and J is JsonObject)</span></span>
<span class="line"><span style="color: #0000FF">private</span><span style="color: #000000"> </span><span style="color: #0000FF">class</span><span style="color: #000000"> </span><span style="color: #267F99">JsonTest</span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #0000FF">string</span><span style="color: #000000"> </span><span style="color: #001080">I</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0000FF">public</span><span style="color: #000000"> </span><span style="color: #267F99">JsonObject</span><span style="color: #000000"> </span><span style="color: #001080">J</span><span style="color: #000000"> { </span><span style="color: #0000FF">get</span><span style="color: #000000">; </span><span style="color: #0000FF">set</span><span style="color: #000000">; }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">// example query</span></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">result</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">JsonTest</span><span style="color: #000000">>(</span></span>
<span class="line"><span style="color: #008000">        // column i is a text and column j is a json</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #A31515">"select '{</span><span style="color: #EE0000">\"</span><span style="color: #A31515">a</span><span style="color: #EE0000">\"</span><span style="color: #A31515">: 1}'::text as i, '{</span><span style="color: #EE0000">\"</span><span style="color: #A31515">a</span><span style="color: #EE0000">\"</span><span style="color: #A31515">: 1}'::json as j"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Single</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">// assertion</span></span>
<span class="line"><span style="color: #001080">Assert</span><span style="color: #000000">.</span><span style="color: #795E26">IsType</span><span style="color: #000000">&lt;</span><span style="color: #267F99">JsonObject</span><span style="color: #000000">>(</span><span style="color: #001080">result</span><span style="color: #000000">.</span><span style="color: #001080">J</span><span style="color: #000000">); </span><span style="color: #008000">// property J is JsonObject</span></span>
<span class="line"><span style="color: #001080">Assert</span><span style="color: #000000">.</span><span style="color: #795E26">Equal</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, (</span><span style="color: #0000FF">int</span><span style="color: #000000">)</span><span style="color: #001080">result</span><span style="color: #000000">.</span><span style="color: #001080">J</span><span style="color: #000000">[</span><span style="color: #A31515">"a"</span><span style="color: #000000">]); </span><span style="color: #008000">// property J has a property "a" with value 1</span></span></code></pre></div><a class="btn btn-sm lr-arrow docs svelte-1jwx2u3" href="/norm.net/docs/reference/read/#dbreader-callback"><i class="bi bi-file-earmark-text me-1"></i> documentation</a></div><div class="logging mb-4 container d-flex flex-column align-items-center svelte-1jwx2u3" id="logging"><div class="lead text-center svelte-1jwx2u3"><a href="#logging" class="bookmark-target svelte-1jwx2u3"><i class="bi bi-link-45deg"></i></a> Logging and analytics</div><div class="subtitle mb-3 mt-1 mx-auto" style="max-width: 644px;">Besides access to the data reader, you can gain access to the <code>DbCommand</code> object also, for all commands created by Norm.<br><br>By using global command callback, you can implement logging and analytics for all queries in your application, see the example below.<br><br>To improve application analytics, you can configure Norm to automatically add a comment header to every command text that can contain the following information:<br>- Command type and timeout.<br>- Exact source file name and line number (from compiler metadata).<br>- Parameter names and values.<br><br>This information will not only be visible when you log commands, but it will also be visible in your database administration tools such as Activity Monitor for SQL Server or pg_stat_activity on PostgreSQL which can be very useful for database administrators.</div><div class="code csharp mx-auto"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">System</span><span style="color: #E6E6E6">.</span><span style="color: #4EC9B0">Linq</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #569CD6">using</span><span style="color: #E6E6E6"> </span><span style="color: #4EC9B0">Norm</span><span style="color: #E6E6E6">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Set global handler in your startup </span></span>
<span class="line"><span style="color: #6A9955">// for each DbCommand.created by Norm.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// You can use this to log every query executed with Norm in your application.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #9CDCFE">NormOptions</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Configure</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">options</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">options</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">DbCommandCallback</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">command</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">logger</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">LogInformation</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">command</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">CommandText</span><span style="color: #E6E6E6">));</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// ... later in your application</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">FooBar</span><span style="color: #E6E6E6">>(</span><span style="color: #CE9178">@"select foo, bar from foo_bar where id = @id"</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">ToArray</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Console output:</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// info: Application.Logger[0]</span></span>
<span class="line"><span style="color: #6A9955">//       select foo, bar from foo_bar where id = @id</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Configure Norm to include comment header in each query </span></span>
<span class="line"><span style="color: #6A9955">// that will include one or more entries like:</span></span>
<span class="line"><span style="color: #6A9955">// - Comand type (Text, StoredProcedure, TableDirect) and timeout.</span></span>
<span class="line"><span style="color: #6A9955">// - Method name and source file path from compiler metadata.</span></span>
<span class="line"><span style="color: #6A9955">// - Parameter values.</span></span>
<span class="line"><span style="color: #6A9955">// - Custom comments.</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Example:</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #9CDCFE">NormOptions</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">Configure</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">options</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6"> </span></span>
<span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">options</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">CommandCommentHeader</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">Enabled</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #569CD6">true</span><span style="color: #E6E6E6">;</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">options</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">DbCommandCallback</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">command</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=></span><span style="color: #E6E6E6">  </span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #9CDCFE">logger</span><span style="color: #E6E6E6">.</span><span style="color: #DCDCAA">LogInformation</span><span style="color: #E6E6E6">(</span><span style="color: #9CDCFE">command</span><span style="color: #E6E6E6">.</span><span style="color: #9CDCFE">CommandText</span><span style="color: #E6E6E6">);</span></span>
<span class="line"><span style="color: #E6E6E6">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// ... later in your application</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">var</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">result</span><span style="color: #E6E6E6"> </span><span style="color: #D4D4D4">=</span><span style="color: #E6E6E6"> </span><span style="color: #9CDCFE">connection</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">Read</span><span style="color: #E6E6E6">&lt;</span><span style="color: #4EC9B0">FooBar</span><span style="color: #E6E6E6">>(</span><span style="color: #CE9178">@"select foo, bar from foo_bar where id = @id"</span><span style="color: #E6E6E6">, </span><span style="color: #9CDCFE">id</span><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">    .</span><span style="color: #DCDCAA">ToArray</span><span style="color: #E6E6E6">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// Console output:</span></span>
<span class="line"><span style="color: #6A9955">//</span></span>
<span class="line"><span style="color: #6A9955">// info: Application.Logger[0]</span></span>
<span class="line"><span style="color: #6A9955">//       /*</span></span>
<span class="line"><span style="color: #6A9955">// Sql Text Command. Timeout: 30 seconds.</span></span>
<span class="line"><span style="color: #6A9955">// at GetData in /home/user/project/MyModule.cs#10</span></span>
<span class="line"><span style="color: #6A9955">// @id = 1</span></span>
<span class="line"><span style="color: #6A9955">// */</span></span>
<span class="line"><span style="color: #6A9955">// select foo, bar from foo_bar where id = @id</span></span>
<span class="line"><span style="color: #6A9955">//</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">System</span><span style="color: #000000">.</span><span style="color: #267F99">Linq</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #AF00DB">using</span><span style="color: #000000"> </span><span style="color: #267F99">Norm</span><span style="color: #000000">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Set global handler in your startup </span></span>
<span class="line"><span style="color: #008000">// for each DbCommand.created by Norm.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// You can use this to log every query executed with Norm in your application.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #001080">NormOptions</span><span style="color: #000000">.</span><span style="color: #795E26">Configure</span><span style="color: #000000">(</span><span style="color: #001080">options</span><span style="color: #000000"> => </span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">options</span><span style="color: #000000">.</span><span style="color: #001080">DbCommandCallback</span><span style="color: #000000"> = </span><span style="color: #001080">command</span><span style="color: #000000"> => </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">logger</span><span style="color: #000000">.</span><span style="color: #795E26">LogInformation</span><span style="color: #000000">(</span><span style="color: #001080">command</span><span style="color: #000000">.</span><span style="color: #001080">CommandText</span><span style="color: #000000">));</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">// ... later in your application</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">result</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">FooBar</span><span style="color: #000000">>(</span><span style="color: #A31515">@"select foo, bar from foo_bar where id = @id"</span><span style="color: #000000">, </span><span style="color: #001080">id</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">ToArray</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Console output:</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// info: Application.Logger[0]</span></span>
<span class="line"><span style="color: #008000">//       select foo, bar from foo_bar where id = @id</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Configure Norm to include comment header in each query </span></span>
<span class="line"><span style="color: #008000">// that will include one or more entries like:</span></span>
<span class="line"><span style="color: #008000">// - Comand type (Text, StoredProcedure, TableDirect) and timeout.</span></span>
<span class="line"><span style="color: #008000">// - Method name and source file path from compiler metadata.</span></span>
<span class="line"><span style="color: #008000">// - Parameter values.</span></span>
<span class="line"><span style="color: #008000">// - Custom comments.</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Example:</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #001080">NormOptions</span><span style="color: #000000">.</span><span style="color: #795E26">Configure</span><span style="color: #000000">(</span><span style="color: #001080">options</span><span style="color: #000000"> => </span></span>
<span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">options</span><span style="color: #000000">.</span><span style="color: #001080">CommandCommentHeader</span><span style="color: #000000">.</span><span style="color: #001080">Enabled</span><span style="color: #000000"> = </span><span style="color: #0000FF">true</span><span style="color: #000000">;</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">options</span><span style="color: #000000">.</span><span style="color: #001080">DbCommandCallback</span><span style="color: #000000"> = </span><span style="color: #001080">command</span><span style="color: #000000"> =>  </span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">logger</span><span style="color: #000000">.</span><span style="color: #795E26">LogInformation</span><span style="color: #000000">(</span><span style="color: #001080">command</span><span style="color: #000000">.</span><span style="color: #001080">CommandText</span><span style="color: #000000">);</span></span>
<span class="line"><span style="color: #000000">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">// ... later in your application</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">result</span><span style="color: #000000"> = </span><span style="color: #001080">connection</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">Read</span><span style="color: #000000">&lt;</span><span style="color: #267F99">FooBar</span><span style="color: #000000">>(</span><span style="color: #A31515">@"select foo, bar from foo_bar where id = @id"</span><span style="color: #000000">, </span><span style="color: #001080">id</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    .</span><span style="color: #795E26">ToArray</span><span style="color: #000000">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// Console output:</span></span>
<span class="line"><span style="color: #008000">//</span></span>
<span class="line"><span style="color: #008000">// info: Application.Logger[0]</span></span>
<span class="line"><span style="color: #008000">//       /*</span></span>
<span class="line"><span style="color: #008000">// Sql Text Command. Timeout: 30 seconds.</span></span>
<span class="line"><span style="color: #008000">// at GetData in /home/user/project/MyModule.cs#10</span></span>
<span class="line"><span style="color: #008000">// @id = 1</span></span>
<span class="line"><span style="color: #008000">// */</span></span>
<span class="line"><span style="color: #008000">// select foo, bar from foo_bar where id = @id</span></span>
<span class="line"><span style="color: #008000">//</span></span></code></pre></div><a class="btn btn-sm lr-arrow docs svelte-1jwx2u3" href="/norm.net/docs/reference/options/#dbcommandcallback"><i class="bi bi-file-earmark-text me-1"></i> documentation</a></div><div class="mb-1"></div><div class="pt-5 border-top"><div id="comments-section" class="h5">Comments</div><script defer src="https://cdn.commento.io/js/commento.js" data-no-fonts="true" data-css-override="https://vb-consulting.github.io/style.css"></script><div id="commento"></div></div><footer class="mt-3 py-5"><div class="w-fit mx-auto mb-3 border-top border-bottom"><div class="alert text-center fs-smaller text-muted"><div class="alert text-center fs-smaller text-muted mb-1">If you like my content, use my software, or otherwise benefit from my work, consider supporting me by buying me a coffee. The software runs on coffee after all.</div><a class="btn rl-arrow" target="_blank" data-bs-toggle="tooltip" data-bs-html="true" title="Click Here to Buy Me a Coffee Or Scan the Code" href="https://www.buymeacoffee.com/vbilopavu" style="display: inline-grid;">Buy me a Coffee <img class="m-auto svelte-byttq0" alt="Scan Here To Buy Me a Cofee" src="/bmc_qr.png"></a></div></div><div class="d-flex justify-content-center"><a class="btn rl-arrow me-1" target="_blank" data-bs-toggle="tooltip" data-bs-html="true" title="norm.net on GitHub" href="https://github.com/vb-consulting/norm.net/" style="display: inline-grid;">norm.net on GitHub <i class="bi bi-github"></i></a> <a class="btn rl-arrow" target="_blank" data-bs-toggle="tooltip" data-bs-html="true" title="I Post Software Development Content Daily" href="https://www.linkedin.com/in/vb-software/" style="display: inline-grid;">Follow me on LinkedIn <i class="bi bi-linkedin"></i></a></div><div class="text-center"><div class="mt-5 mb-5 background-floki svelte-byttq0" data-bs-toggle="tooltip" data-bs-html="true" title="Floki is a developer dog."></div></div></footer></div><div class="mb-5"></div></div><div class="rightside svelte-9zwk14"><div class="svelte-9zwk14"><ul class="navbar-nav sidenav svelte-9zwk14"><li class="nav-txt-divider text-muted svelte-9zwk14"><hr class="svelte-9zwk14"><span class="svelte-9zwk14">on this page</span><hr class="svelte-9zwk14"></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="installation" title="installation"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#installation">installation</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="compatibility" title="compatibility"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#compatibility">compatibility</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="perfomances" title="perfomances"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#perfomances">perfomances</a></li><li class="nav-txt-divider text-muted svelte-9zwk14"><hr class="svelte-9zwk14"><span class="svelte-9zwk14">examples</span><hr class="svelte-9zwk14"></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="tuples" title="Name and value tuples"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#tuples">Name and value tuples</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="instances" title="Instances"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#instances">Instances</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="values" title="Tuple values"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#values">Tuple values</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="named-tuples" title="Named tuples"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#named-tuples">Named tuples</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="prototype-instances" title="prototype instances"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#prototype-instances">prototype instances</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="async-streaming" title="Asynchronous streaming"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#async-streaming">Asynchronous streaming</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="multiple" title="Multiple queries"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#multiple">Multiple queries</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="nested-mapping" title="Nested mapping"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#nested-mapping">Nested mapping</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="nullable-instances" title="Nullable instances"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#nullable-instances">Nullable instances</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="enums-and-arrays" title="Complex types"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#enums-and-arrays">Complex types</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="prepared" title="Prepared mode"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#prepared">Prepared mode</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="postgres-optimizations" title="PostgreSQL optimizations"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#postgres-optimizations">PostgreSQL optimizations</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="reader-callback" title="Low-level data reader"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#reader-callback">Low-level data reader</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="custom-mapping" title="Custom mapping"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#custom-mapping">Custom mapping</a></li><li class="nav-item right svelte-9zwk14 bookmark-nav" data-id="logging" title="Logging and analytics"><a class="nav-link auto-close svelte-9zwk14 text-uppercase bookmark-link" href="#logging">Logging and analytics</a></li></ul></div></div></main><script>!function(){var i=document.querySelector("nav.navbar"),f=document.getElementsByTagName("main")[0],L=f.getElementsByClassName("sidebar")[0],w=f.getElementsByClassName("content")[0],o=document.querySelectorAll("div.code"),k=i.querySelector(".home");function E(e,t){for(var n=1;n<arguments.length;n++)e.classList.remove(arguments[n])}function T(e,t){for(var n=1;n<arguments.length;n++)e.classList.remove(arguments[n]);E(e,t),e.classList.add(t)}function t(e,t){var n=e.currentTarget;if(!n.classList.contains("bi-check")){for(var i="",o=0;o<n.classList.length;o++)if(n.classList[o].startsWith("bi-")){i=n.classList[o];break}n.classList.remove(i),n.classList.add("spinner-border-sm"),n.classList.add("spinner-border");e=bootstrap.Tooltip.getInstance(n);e&&(e.setContent({".tooltip-inner":"Copying..."}),e.show()),t(n,function(){var e;n.classList.remove(i),n.classList.remove("spinner-border-sm"),n.classList.remove("spinner-border"),n.classList.add("bi-check"),bootstrap&&(e=bootstrap.Tooltip.getInstance(n))&&(e.setContent({".tooltip-inner":"Copied!"}),e.show()),setTimeout(function(){var e;n.classList.add(i),n.classList.remove("bi-check"),bootstrap&&(e=bootstrap.Tooltip.getInstance(n))&&e.setContent({".tooltip-inner":n.dataset.bsTitle})},2e3)})}}"/"==document.location.pathname&&T(k,"d-none");var e=document.querySelector(".post-share > .copy-url"),n=(e&&e.addEventListener("click",function(e){t(e,function(e,t){navigator.clipboard.writeText(document.location.origin+document.location.pathname),t()})}),document.getElementsByTagName("html")[0]),a=i.querySelector("#theme-btn"),s="theme";function l(e){var t=a.getElementsByTagName("svg");"dark"===e?(t[0].style.display="",t[1].style.display="none",a.getElementsByClassName("check")[0].classList.add("checked")):(t[0].style.display="none",t[1].style.display="",a.getElementsByClassName("check")[0].classList.remove("checked"));for(var n=0;n<o.length;n++){var i=o[n];"dark"===e?(i.children[1].style.display="inherit",i.children[2].style.display="none"):"light"===e&&(i.children[1].style.display="none",i.children[2].style.display="inherit")}window._theme&&window._theme(e)}function r(e){t(e,function(e,t){navigator.clipboard.writeText(e.parentElement.nextSibling.innerText),t()})}function c(e){t(e,function(e,t){var n=localStorage.getItem(s);e="dark"===n?e.parentElement.parentElement.children[1]:e.parentElement.parentElement.children[2],setTimeout(function(){html2canvas(e).then(e=>{e.toBlob(e=>navigator.clipboard.write([new ClipboardItem({"image/png":e})])),t()})},0)})}a.addEventListener("click",()=>{var e="dark"===localStorage.getItem(s)?"light":"dark";localStorage.setItem(s,e),l(n.dataset.bsTheme=e)}),l(localStorage.getItem(s)),a.children[0].classList.remove("hidden");for(var d=0;d<o.length;d++){o[d].getElementsByClassName("copy-code")[0].addEventListener("click",r);var m=o[d].getElementsByClassName("photo-code");m.length&&m[0].addEventListener("click",c)}for(var S=function(){var a,o,s;if(f.children[2]&&"none"!=f.children[2].style.display)return a=f.querySelector(".main-content").querySelectorAll("[id]"),o=void 0,this.initNavs=function(e){s=e.querySelectorAll("li.bookmark-nav");for(var t=0;t<a.length;t++){for(var n=a[t].id,i=null,o=0;o<s.length;o++)if(s[o].dataset.id==n){i=s[o];break}a[t].nav=i}setTimeout(function(){for(var e=0;e<a.length;e++){var t=a[e];if(l(t).visible&&t.nav)return void t.nav.classList.add("active")}},1e3),r()},f.children[1].addEventListener("scroll",r),this;function l(e){var e=e.getBoundingClientRect(),t=Math.max(document.documentElement.clientHeight,window.innerHeight),n=0<e.top&&!(e.bottom<0||0<=e.top-t)||e.top<0&&e.bottom>t,i=!1;return{visible:n,above:i=n?i:e.bottom<t}}function r(){if(s&&s.length){for(var e=0;e<s.length;e++)s[e].classList.remove("active");for(var t=void 0,e=0;e<a.length;e++){const i=a[e];var n=l(i);if(!n.visible&&n.above&&(t=i.nav),n.visible&&i.nav&&!i.nav.classList.contains("active"))return i.nav.classList.add("active"),o&&clearTimeout(o),void(o=setTimeout(function(){i.nav.scrollIntoView({behavior:"smooth"}),o=void 0},250))}t&&!t.classList.contains("active")&&(t.classList.add("active"),o&&clearTimeout(o),o=setTimeout(function(){t.scrollIntoView({behavior:"smooth"}),o=void 0},250))}}}(),h=function(){var l,r=i.querySelector("#nav-btn"),c=480,d="200px",m="0.25fr",h=730,v=535,u=f.children[0].children[0].children[0],g=f.children[2]&&f.children[2].children[0].children[0],t="sidebar-pinned",p=null==localStorage.getItem(t)||"true"==localStorage.getItem(t),y=!1,b=!1;function n(){window._onresize&&window._onresize();var e=window.outerWidth||window.innerWidth,t=e<c,n=t?y?"100%":"0":p?""+d:"0",i=`grid-template-columns: ${n} 1fr`,o=t&&y?"width: 100%":"0"!=n?"":"display: none",a=t&&y?"display: none":"",s=t?y?"sidebar-show":"sidebar-hide":p?"sidebar-show":"sidebar-hide",n="0"==n;f.children[2]&&(m&&h&&v&&(n&&e<v||!n&&e<h?b||(u.innerHTML=l+g.innerHTML,S.initNavs(u),b=!0):b&&(u.innerHTML=l,S.initNavs(g),b=!1)),!m||t||b?(i+=";",f.children[2].style.display="none"):(i+=` ${m};`,f.children[2].style.display="")),T(r,!t&&p||t&&y?"rotate":"rotate-back","rotate","rotate-back"),p?(r.classList.add("text-shadow"),null==document.querySelector("main .sidebar .accordion > [title='VB-Consulting'] > .collapsed")&&T(k,"d-none")):("/"!=document.location.pathname&&E(k,"d-none"),r.classList.remove("text-shadow")),f.style=L?i:"display: grid;",L&&T(L,s,"sidebar-show","sidebar-hide"),L&&(L.firstChild.style=o),w.style=a,t&&!y&&"/"!=document.location.pathname&&E(k,"d-none"),t&&y&&T(k,"d-none")}function e(){var e=window.outerWidth<c;e?y=!y:p=!p,localStorage.setItem(t,p.toString()),n(),p?(r.classList.add("text-shadow"),null==document.querySelector("main .sidebar .accordion > [title='VB-Consulting'] > .collapsed")&&T(k,"d-none")):("/"!=document.location.pathname&&E(k,"d-none"),r.classList.remove("text-shadow")),e&&!y&&"/"!=document.location.pathname&&E(k,"d-none"),e&&y&&T(k,"d-none")}return m&&h&&v&&g&&(l=u.innerHTML,S.initNavs(g)),r.addEventListener("click",e),(window.onresize=n)(),this.closeSidebar=function(){window.outerWidth<c&&y&&e()},this}(),v=document.getElementsByClassName("auto-close"),u=0;u<v.length;u++)v[u].addEventListener("click",function(e){h.closeSidebar()});location.hash&&(e=document.getElementById(location.hash.replace("#","")))&&e.scrollIntoView()}();</script><script src="/bootstrap.bundle.min.js"></script><script>!function(){for(var e=document.querySelectorAll('[data-bs-toggle="tooltip"]'),t=0;t<e.length;t++)new bootstrap.Tooltip(e[t]);var n=document.getElementsByClassName("accordion-item");if(n.length){for(t=0;t<n.length;t++){var o=n[t];o.querySelectorAll("[href='"+document.location.pathname+"']").length&&o.firstChild.click()}var l=document.querySelector("nav.navbar").querySelector(".home"),a=document.getElementsByClassName("accordion");"/"==document.location.pathname&&l.classList.add("d-none");for(t=0;t<n.length;t++){var s=a[t];s&&s.firstChild&&"VB-Consulting"==s.firstChild.title&&(null!=s.firstChild.querySelector(".collapse")&&l.classList.contains("d-none")&&"/"!=document.location.pathname&&l.classList.remove("d-none"),s.addEventListener("show.bs.collapse",function(){"/"!=document.location.pathname&&l.classList.remove("d-none"),l.classList.add("d-none")}),s.addEventListener("hide.bs.collapse",function(){"/"!=document.location.pathname&&l.classList.remove("d-none")}))}}}();</script><script src="/html2canvas.min.js"></script><script async defer src="https://buttons.github.io/buttons.js"></script></body><script async data-id="101435862" src="//static.getclicky.com/js"></script></html>