<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>PgRoutiner</title><meta name="description" content="PgRoutiner - Database-First Development with .NET and PostgreSQL."><meta name="keywords" content="net, dotnet, c#, csharp, tool, netcore, postgresql, database, sql"><link href="https://vb-consulting.github.io//pgroutiner/" rel="canonical"><link rel="stylesheet" href="/_elderjs/assets/svelte-b16830b0.css" media="all"><style></style><link href="/style.css?1707717432993" rel="stylesheet"><script>!function(){var e="theme",t=localStorage.getItem(e);t||(t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",localStorage.setItem(e,t)),document.getElementsByTagName("html")[0].dataset.bsTheme=t}();</script></head><body class="d-flex flex-column h-100"><header id="header"><nav class="navbar navbar-expand-md navbar-dark fixed-top py-0 py-md-0 svelte-30jr7w"><div class="container-fluid flex-nowrap svelte-30jr7w"><div class="d-flex svelte-30jr7w"><button id="nav-btn" type="button" class="d-flex btn btn-sm logo animate-rotate svelte-30jr7w"><i class="material-icons-outlined">menu</i></button> <a class="nav-link my-auto ms-2 fw-semibold home svelte-30jr7w" href="/"><i class="bi-chevron-double-left"></i> VB Home</a></div><div class="d-flex right svelte-30jr7w"><a class="nav-link my-auto svelte-30jr7w" data-bs-toggle="tooltip" data-bs-html="true" title="Buy Me a Coffee" href="https://www.buymeacoffee.com/vbilopavu" target="_blank"><div class="bmc"></div></a><div class="vr1 text-muted my-auto svelte-30jr7w"></div><a class="nav-link my-auto me-2 svelte-30jr7w" data-bs-toggle="tooltip" data-bs-html="true" title="PgRoutiner on GitHub" href="https://github.com/vb-consulting/PgRoutiner"><i class="bi-github"></i></a> <a class="github-button svelte-30jr7w" href="https://github.com/vb-consulting/PgRoutiner" data-bs-toggle="tooltip" data-bs-html="true" title="Star PgRoutiner on GitHub" data-color-scheme="no-preference: light_high_contrast; light: light_high_contrast; dark: light_high_contrast;" data-icon="octicon-star" data-show-count="true" aria-label="Star PgRoutiner on GitHub"></a><div class="vr1 text-muted my-auto svelte-30jr7w"></div><button id="theme-btn" type="button" aria-pressed="true" aria-label="theme" class="svelte-30jr7w"><span class="check hidden svelte-30jr7w"><span class="icon svelte-30jr7w"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="svelte-30jr7w"><path fill="currentColor" d="M12 21q-3.775 0-6.388-2.613T3 12q0-3.45 2.25-5.988T11 3.05q.625-.075.975.45t-.025 1.1q-.425.65-.638 1.375T11.1 7.5q0 2.25 1.575 3.825T16.5 12.9q.775 0 1.538-.225t1.362-.625q.525-.35 1.075-.037t.475.987q-.35 3.45-2.937 5.725T12 21Zm0-2q2.2 0 3.95-1.213t2.55-3.162q-.5.125-1 .2t-1 .075q-3.075 0-5.238-2.163T9.1 7.5q0-.5.075-1t.2-1q-1.95.8-3.163 2.55T5 12q0 2.9 2.05 4.95T12 19Zm-.25-6.75Z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="svelte-30jr7w"><g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M0 0h24v24H0z"></path><path fill="currentColor" d="M12 19a1 1 0 0 1 .993.883L13 20v1a1 1 0 0 1-1.993.117L11 21v-1a1 1 0 0 1 1-1zm6.313-2.09l.094.083l.7.7a1 1 0 0 1-1.32 1.497l-.094-.083l-.7-.7a1 1 0 0 1 1.218-1.567l.102.07zm-11.306.083a1 1 0 0 1 .083 1.32l-.083.094l-.7.7a1 1 0 0 1-1.497-1.32l.083-.094l.7-.7a1 1 0 0 1 1.414 0zM4 11a1 1 0 0 1 .117 1.993L4 13H3a1 1 0 0 1-.117-1.993L3 11h1zm17 0a1 1 0 0 1 .117 1.993L21 13h-1a1 1 0 0 1-.117-1.993L20 11h1zM6.213 4.81l.094.083l.7.7a1 1 0 0 1-1.32 1.497l-.094-.083l-.7-.7A1 1 0 0 1 6.11 4.74l.102.07zm12.894.083a1 1 0 0 1 .083 1.32l-.083.094l-.7.7a1 1 0 0 1-1.497-1.32l.083-.094l.7-.7a1 1 0 0 1 1.414 0zM12 2a1 1 0 0 1 .993.883L13 3v1a1 1 0 0 1-1.993.117L11 4V3a1 1 0 0 1 1-1zm0 5a5 5 0 1 1-4.995 5.217L7 12l.005-.217A5 5 0 0 1 12 7z"></path></g></svg></span></span></button></div></div></nav></header><main class="svelte-9zwk14"><div class="sidebar sidebar-hide svelte-9zwk14"><div class="svelte-9zwk14"><ul class="navbar-nav sidenav accordion svelte-9zwk14"><li class="accordion-item svelte-9zwk14" title="VB-Consulting"><button class="accordion-header accordion-button collapsed svelte-9zwk14 text-uppercase" href="/" type="button" data-bs-toggle="collapse" data-bs-target="#accordion-vb-consulting" aria-expanded="false" aria-controls="accordion-vb-consulting">VB-Consulting</button><div id="accordion-vb-consulting" class="accordion-collapse collapse"><div class="accordion-body svelte-9zwk14"><ul class="navbar-nav"><li class="nav-item svelte-9zwk14" data-id="" title="Home"><a class="nav-link svelte-9zwk14 text-uppercase" href="/">Home</a></li><li class="nav-divider svelte-9zwk14"><hr class="svelte-9zwk14"></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="NpgsqlRest"><a class="nav-link svelte-9zwk14 text-uppercase" href="/npgsqlrest/">NpgsqlRest</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="Norm.Net"><a class="nav-link svelte-9zwk14 text-uppercase" href="/norm.net/">Norm.Net</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="RazorSvelte"><a class="nav-link svelte-9zwk14 text-uppercase" href="/razorsvelte/">RazorSvelte</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="XUnit.Npgsql"><a class="nav-link svelte-9zwk14 text-uppercase" href="/xunit.npgsql/">XUnit.Npgsql</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="PostrgeSQL Schema Tools"><a class="nav-link svelte-9zwk14 text-uppercase" href="/pg_schema_tools/">PostrgeSQL Schema Tools</a></li><li class="nav-txt-divider text-muted svelte-9zwk14"><hr class="svelte-9zwk14"><span class="svelte-9zwk14">blogs</span><hr class="svelte-9zwk14"></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="<span class='btn-link'>ALL BLOGS</span>"><a class="nav-link btn btn-sm w-fit px-3 mx-auto svelte-9zwk14 lr-arrow text-uppercase" href="/blogs/"><i class="bi bi-arrow-right-circle svelte-9zwk14"></i> <span class="btn-link">ALL BLOGS</span></a></li><li class="nav-item svelte-9zwk14" data-id="" title="NpgsqlRest Update 1.6.2"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/npgsqlrest-update1.6.2/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>NpgsqlRest Update 1.6.2</a></li><li class="nav-item svelte-9zwk14" data-id="" title="NpgsqlRest NuGet Library"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/npgsqlrest/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>NpgsqlRest NuGet Library</a></li><li class="nav-item svelte-9zwk14" data-id="" title="What is Micro ORM?"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/micro-orm/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>What is Micro ORM?</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PgRoutiner Blog"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/pgroutiner/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>PgRoutiner Blog</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PgRoutiner Code-Gen"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/pgroutiner/code-gen/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>PgRoutiner Code-Gen</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PgRoutiner Concept"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/pgroutiner/concept/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>PgRoutiner Concept</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PgRoutiner Database Management"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/pgroutiner/database/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>PgRoutiner Database Management</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Piko ORM"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/piko-orm/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>Piko ORM</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Execute Custom Function For Each Record"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/postgresql-record-type/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>Execute Custom Function For Each Record</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Custom Temporal Tables in PostgreSQL"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/postgresql-temporal-tables/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>Custom Temporal Tables in PostgreSQL</a></li></ul></div></div></li><li class="nav-txt-divider text-muted svelte-9zwk14"><hr class="svelte-9zwk14"><span class="svelte-9zwk14">PgRoutiner</span><hr class="svelte-9zwk14"></li><li class="nav-item toc2 svelte-9zwk14 active" data-id="" title="PgRoutiner"><a class="nav-link svelte-9zwk14 text-uppercase" href="/pgroutiner/">PgRoutiner</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="Default Config"><a class="nav-link svelte-9zwk14 text-uppercase" href="/pgroutiner-default-config/">Default Config</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PgRoutiner Blog"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/pgroutiner/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>PgRoutiner Blog</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PgRoutiner Concept"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/pgroutiner/concept/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>PgRoutiner Concept</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PgRoutiner Database Management"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/pgroutiner/database/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>PgRoutiner Database Management</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PgRoutiner Code-Gen"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/pgroutiner/code-gen/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>PgRoutiner Code-Gen</a></li></ul></div></div><div class="content svelte-9zwk14"><div class="container-sm main-content gh-content"><h1 id="pgroutiner---database-first-for-net-and-postgresql">PgRoutiner - Database-First For .NET and PostgreSQL<a class="anchor bookmark-target" href="#pgroutiner---database-first-for-net-and-postgresql"><i class="bi bi-link-45deg"></i></a></h1><a href="https://github.com/vb-consulting/PgRoutiner" class="github-edit"><i class="bi bi-github"></i>Edit this page on GitHub</a><p><strong><code>PgRoutiner</code></strong> is a set of command-line tools for PostgreSQL databases and PostgreSQL .NET projects.</p><p>Using your .NET configuration project connection string (or custom-defined connection) - you can:</p><ul><li><p>Navigate and search the database with ease.</p></li><li><p>Generate C# and TS models and code.</p></li><li><p>Generate database scripts and run tools.</p></li><li><p>Generate markdown documentation.</p></li><li><p>Generate CRUD command functions.</p></li><li><p><strong>See the <a href="https://docs.google.com/presentation/d/1ZXGAqIyyjDc1O2YqzV94uoJ_7stg3IxpOdeCLnr6XIo/edit?usp=sharing">presentation slides</a></strong></p></li><li><p>Note: all examples in this readme, as well as in the presentation above use <a href="https://www.postgresqltutorial.com/postgresql-getting-started/postgresql-sample-database/">PostgreSQL Sample Database</a> from [PostgreSQL Tutorial]</p></li><li><p>Quick start:</p></li></ul><blockquote><ol><li>Download native executable files (not dependent on any framework) for the latest version from the <a href="https://github.com/vb-consulting/PgRoutiner/releases/">releases page</a>.</li><li>Set the appropriate path to the downloaded executable file.</li><li>Type <code>pgroutiner --info</code></li><li>Note: working with native executables is many times faster, they very short startup time and they offer many times better user experience.</li></ol></blockquote><p>Table of Contents:</p><ul><li><a href="#pgroutiner---database-first-for-net-and-postgresql">PgRoutiner - Database-First For .NET and PostgreSQL</a><ul><li><a href="#installation">Installation</a><ul><li><a href="#download-binaries">Download Binaries</a></li><li><a href="#net-tool">.NET Tool</a><ul><li><a href="#requirements">Requirements</a></li><li><a href="#global-net-tool">Global .NET tool</a></li><li><a href="#local-net-tool">Local .NET tool</a></li></ul></li></ul></li><li><a href="#quick-start">Quick Start</a></li><li><a href="#connection-management">Connection Management</a></li><li><a href="#configuration-management">Configuration Management</a></li><li><a href="#working-with-database">Working With Database</a><ul><li><a href="#list-database-objects">List database objects</a></li><li><a href="#view-object-definitions">View object definitions</a></li><li><a href="#search-definitions-by-search-expression">Search definitions by search expression</a></li><li><a href="#dump-data-from-tables-or-queries-as-inserts">Dump data from tables or queries as inserts</a></li><li><a href="#backup-and-restore">Backup and restore</a></li><li><a href="#open-psql-tool">Open PSQL tool</a></li><li><a href="#execute-psql-commands-and-scripts">Execute PSQL commands and scripts</a></li></ul></li><li><a href="#generating-scripts">Generating Scripts</a></li><li><a href="#generating-documentation">Generating Documentation</a></li><li><a href="#generating-code">Generating Code</a></li><li><a href="#troubleshooting">Troubleshooting</a></li><li><a href="#support">Support</a></li><li><a href="#license">License</a></li></ul></li></ul><h2 id="installation">Installation<a class="anchor bookmark-target" href="#installation"><i class="bi bi-link-45deg"></i></a></h2><h3 id="download-binaries">Download Binaries<a class="anchor bookmark-target" href="#download-binaries"><i class="bi bi-link-45deg"></i></a></h3><p>This is the fastest and easiest way to get started with the PgRoutiner tool. The <a href="https://github.com/vb-consulting/PgRoutiner/releases/">releases page</a> contains downloadable executables that are not dependent on anything. No framework or docker is required, just plain old native executable.</p><p>This is actually, the preferable way of using the PgRoutiner tool. Native executables are very much optimized and have very short startup time and they offer many times better user experience.</p><p>Here are the steps:</p><ol><li>Download native executable files (not dependent on any framework) for the latest version from the <a href="https://github.com/vb-consulting/PgRoutiner/releases/">releases page</a>.</li><li>Set the appropriate path to the downloaded executable file.</li><li>Type <code>pgroutiner --info</code> to see f it works.</li></ol><p>That is it.</p><h3 id="net-tool">.NET Tool<a class="anchor bookmark-target" href="#net-tool"><i class="bi bi-link-45deg"></i></a></h3><h4 id="requirements">Requirements<a class="anchor bookmark-target" href="#requirements"><i class="bi bi-link-45deg"></i></a></h4><ul><li>To use as a .NET tool, .NET 8 SDK is required. See the <a href="#global-net-tool">global .NET tool</a> or the <a href="#local-net-tool">local .NET tool</a> for installation details.</li></ul><h4 id="global-net-tool">Global .NET tool<a class="anchor bookmark-target" href="#global-net-tool"><i class="bi bi-link-45deg"></i></a></h4><p>To install a global tool (recommended):</p><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">$ dotnet tool install --global dotnet-pgroutiner</span></span>
<span class="line"><span style="color: #E6E6E6">Tool 'dotnet-pgroutiner' (version '5.4.0') was successfully installed.</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">$ dotnet tool install --global dotnet-pgroutiner</span></span>
<span class="line"><span style="color: #000000">Tool 'dotnet-pgroutiner' (version '5.4.0') was successfully installed.</span></span></code></pre></div><p>To update a global tool:</p><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">$ dotnet tool update --global dotnet-pgroutiner</span></span>
<span class="line"><span style="color: #E6E6E6">Tool 'dotnet-pgroutiner' was successfully updated from version '5.0.7' to version '5.0.8'.</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">$ dotnet tool update --global dotnet-pgroutiner</span></span>
<span class="line"><span style="color: #000000">Tool 'dotnet-pgroutiner' was successfully updated from version '5.0.7' to version '5.0.8'.</span></span></code></pre></div><p>This will enable a global command line tool <code>pgroutiner</code>. Try typing <code>pgroutiner --help</code>.</p><h4 id="local-net-tool">Local .NET tool<a class="anchor bookmark-target" href="#local-net-tool"><i class="bi bi-link-45deg"></i></a></h4><p>To add a local tool to your project only you need to create a manifest file and add a tool without <code>--global</code> switch as described in this <a href="https://learn.microsoft.com/en-us/dotnet/core/tools/local-tools-how-to-use">tutorial</a>.</p><p>TL-DR:</p><ol><li><p>Add <strong><code>.config</code></strong> directory to your project or solution.</p></li><li><p>Add <strong><code>dotnet-tools.json</code></strong> file to this directory with the following content:</p></li></ol><div class="code json"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">  </span><span style="color: #9CDCFE">"version"</span><span style="color: #E6E6E6">: </span><span style="color: #B5CEA8">1</span><span style="color: #E6E6E6">,</span></span>
<span class="line"><span style="color: #E6E6E6">  </span><span style="color: #9CDCFE">"isRoot"</span><span style="color: #E6E6E6">: </span><span style="color: #569CD6">true</span><span style="color: #E6E6E6">,</span></span>
<span class="line"><span style="color: #E6E6E6">  </span><span style="color: #9CDCFE">"tools"</span><span style="color: #E6E6E6">: {</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">"dotnet-pgroutiner"</span><span style="color: #E6E6E6">: {</span></span>
<span class="line"><span style="color: #E6E6E6">      </span><span style="color: #9CDCFE">"version"</span><span style="color: #E6E6E6">: </span><span style="color: #CE9178">"5.0.6"</span><span style="color: #E6E6E6">,</span></span>
<span class="line"><span style="color: #E6E6E6">      </span><span style="color: #9CDCFE">"commands"</span><span style="color: #E6E6E6">: [</span></span>
<span class="line"><span style="color: #E6E6E6">        </span><span style="color: #CE9178">"pgroutiner"</span></span>
<span class="line"><span style="color: #E6E6E6">      ]</span></span>
<span class="line"><span style="color: #E6E6E6">    }</span></span>
<span class="line"><span style="color: #E6E6E6">  }</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">"version"</span><span style="color: #000000">: </span><span style="color: #098658">1</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">"isRoot"</span><span style="color: #000000">: </span><span style="color: #0000FF">true</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">"tools"</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">"dotnet-pgroutiner"</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">"version"</span><span style="color: #000000">: </span><span style="color: #A31515">"5.0.6"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">"commands"</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #A31515">"pgroutiner"</span></span>
<span class="line"><span style="color: #000000">      ]</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">}</span></span></code></pre></div><ul><li><p>From your command line type <strong><code>dotnet tool restore</code></strong></p></li><li><p>Run the tool with <strong><code>dotnet tool run pgroutiner [arguments]</code></strong>, for example, <strong><code>dotnet tool run pgroutiner --help</code></strong></p></li></ul><h2 id="quick-start">Quick Start<a class="anchor bookmark-target" href="#quick-start"><i class="bi bi-link-45deg"></i></a></h2><ol><li>Install <code>pgroutiner</code> (see the instructions above)</li><li>Open the terminal in your .NET project configured to use the PostgreSQL database.</li><li>Type <code>pgroutiner --help</code> to see available commands and switches (the list is long).</li><li>Type <code>pgroutiner</code> to define a new connection if you don't have one - and to create the default configuration file for this dir. See more on <a href="#connection-management">Connection management</a></li><li>Type <code>pgroutiner --info</code> to see if can you connect to the database and to see other environment info.</li><li>Type <code>pgroutiner --list</code> to see list of all objects.</li><li>Type <code>pgroutiner --ddl [object_name]</code> to see the data definition language for the object from the second parameter.</li><li>Type <code>pgroutiner --search [search expression]</code> to search data definitions with search expression.</li></ol><h2 id="connection-management">Connection Management<a class="anchor bookmark-target" href="#connection-management"><i class="bi bi-link-45deg"></i></a></h2><ul><li><p>The <code>pgroutiner</code> is designed to run from <strong>the .NET project root</strong> - and it will read <strong>any available connections</strong> from standard configuration JSON files (like <code>appsettings.Development.json</code> and <code>appsettings.json</code>, in that order).</p></li><li><p>It will use the <strong>first available connection string</strong> from the <code>ConnectionStrings</code> section:</p></li></ul><p>appsettings.json</p><div class="code json"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">  </span><span style="color: #9CDCFE">"ConnectionStrings"</span><span style="color: #E6E6E6">: {</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">"DvdRental"</span><span style="color: #E6E6E6">: </span><span style="color: #CE9178">"Server=localhost;Db=dvdrental;Port=5432;User Id=postgres;Password=postgres;"</span></span>
<span class="line"><span style="color: #E6E6E6">  }</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">"ConnectionStrings"</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">"DvdRental"</span><span style="color: #000000">: </span><span style="color: #A31515">"Server=localhost;Db=dvdrental;Port=5432;User Id=postgres;Password=postgres;"</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">}</span></span></code></pre></div><ul><li><p>Note: this is the <a href="https://www.npgsql.org/doc/connection-string-parameters.html">Npgsql connection string format</a>, but, it can also use standard PostgreSQL URL connection format <code>postgresql://{user}:{password}@{server}:{port}/{database}</code>.</p></li><li><p>Running simple info command to test the connection to see the environment:</p></li></ul><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">~$ pgroutiner --info</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">Version:</span></span>
<span class="line"><span style="color: #E6E6E6"> 5.0.3.0</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">Executable dir:</span></span>
<span class="line"><span style="color: #E6E6E6"> /home/vbilopav/.dotnet/tools</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">OS:</span></span>
<span class="line"><span style="color: #E6E6E6"> Unix 5.10.102.1</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">Using configuration files:</span></span>
<span class="line"><span style="color: #E6E6E6"> appsettings.Development.json</span></span>
<span class="line"><span style="color: #E6E6E6"> appsettings.json</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">Using dir:</span></span>
<span class="line"><span style="color: #E6E6E6"> /home/vbilopav/dev/dvdrental</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">Using settings:</span></span>
<span class="line"><span style="color: #E6E6E6"> --info</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">Using connection DvdRental:</span></span>
<span class="line"><span style="color: #E6E6E6"> Host=localhost;Database=dvdrental;Port=5432;Username=postgres  (PostgreSQL 13.8)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">Using project file:</span></span>
<span class="line"><span style="color: #E6E6E6"> dvdrental.csproj</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">pg_dump:</span></span>
<span class="line"><span style="color: #E6E6E6"> pg_dump</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">pg_restore:</span></span>
<span class="line"><span style="color: #E6E6E6"> /usr/lib/postgresql/13/bin/pg_restore</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">~$ pgroutiner --info</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">Version:</span></span>
<span class="line"><span style="color: #000000"> 5.0.3.0</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">Executable dir:</span></span>
<span class="line"><span style="color: #000000"> /home/vbilopav/.dotnet/tools</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">OS:</span></span>
<span class="line"><span style="color: #000000"> Unix 5.10.102.1</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">Using configuration files:</span></span>
<span class="line"><span style="color: #000000"> appsettings.Development.json</span></span>
<span class="line"><span style="color: #000000"> appsettings.json</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">Using dir:</span></span>
<span class="line"><span style="color: #000000"> /home/vbilopav/dev/dvdrental</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">Using settings:</span></span>
<span class="line"><span style="color: #000000"> --info</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">Using connection DvdRental:</span></span>
<span class="line"><span style="color: #000000"> Host=localhost;Database=dvdrental;Port=5432;Username=postgres  (PostgreSQL 13.8)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">Using project file:</span></span>
<span class="line"><span style="color: #000000"> dvdrental.csproj</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">pg_dump:</span></span>
<span class="line"><span style="color: #000000"> pg_dump</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">pg_restore:</span></span>
<span class="line"><span style="color: #000000"> /usr/lib/postgresql/13/bin/pg_restore</span></span></code></pre></div><ul><li>If the connection isn't available anywhere in the configuration files - the user is prompted to enter the connection parameters:</li></ul><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">~$ pgroutiner</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">Connection server [localhost]:</span></span>
<span class="line"><span style="color: #E6E6E6">Connection port [5432]: </span></span>
<span class="line"><span style="color: #E6E6E6">Connection database [postgres]: </span></span>
<span class="line"><span style="color: #E6E6E6">Connection user [postgres]:</span></span>
<span class="line"><span style="color: #E6E6E6">Connection password [environment var.]:</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">~$ pgroutiner</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">Connection server [localhost]:</span></span>
<span class="line"><span style="color: #000000">Connection port [5432]: </span></span>
<span class="line"><span style="color: #000000">Connection database [postgres]: </span></span>
<span class="line"><span style="color: #000000">Connection user [postgres]:</span></span>
<span class="line"><span style="color: #000000">Connection password [environment var.]:</span></span></code></pre></div><ul><li>To specify the specific connection name, use <code>-c</code> or <code>--connection</code> parameter:</li></ul><div class="one-liner"><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">~$ pgroutiner -c ConnectionString2 --info</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">~$ pgroutiner -c ConnectionString2 --info</span></span></code></pre></div></div><div class="one-liner"><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">~$ pgroutiner --connection ConnectionString2 --info</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">~$ pgroutiner --connection ConnectionString2 --info</span></span></code></pre></div></div><ul><li>If the connection name is not found, or the connection is not defined - the user will be prompted to enter valid connection parameters:</li></ul><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">Connection server [localhost]:</span></span>
<span class="line"><span style="color: #E6E6E6">Connection port [5432]:</span></span>
<span class="line"><span style="color: #E6E6E6">Connection database [postgres]:</span></span>
<span class="line"><span style="color: #E6E6E6">Connection user [postgres]:</span></span>
<span class="line"><span style="color: #E6E6E6">Connection password:</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">Connection server [localhost]:</span></span>
<span class="line"><span style="color: #000000">Connection port [5432]:</span></span>
<span class="line"><span style="color: #000000">Connection database [postgres]:</span></span>
<span class="line"><span style="color: #000000">Connection user [postgres]:</span></span>
<span class="line"><span style="color: #000000">Connection password:</span></span></code></pre></div><ul><li><p>Connection server, port, database, and user have predefined default values (<code>localhost</code>, <code>5432</code>, <code>postgres</code>, <code>postgres</code>) - hit Enter to skip and use the default.</p></li><li><p>The Command line can use the entire connection string with <code>-c</code> or <code>--connection</code> - instead of the connection name:</p></li></ul><div class="one-liner"><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">~$ pgroutiner --connection "Server=localhost;Db=test;Port=5432;User Id=postgres;Password=postgres;" --info</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">~$ pgroutiner --connection "Server=localhost;Db=test;Port=5432;User Id=postgres;Password=postgres;" --info</span></span></code></pre></div></div><ul><li>Both command-line and configuration files can take advantage of the PostgreSQL URL format <code>postgresql://{user}:{password}@{server}:{port}/{database}</code> - instead of <a href="https://www.npgsql.org/doc/connection-string-parameters.html">Npgsql connection string</a>:</li></ul><div class="code json"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">  </span><span style="color: #9CDCFE">"ConnectionStrings"</span><span style="color: #E6E6E6">: {</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">"TestConnection"</span><span style="color: #E6E6E6">: </span><span style="color: #CE9178">"postgresql://postgres:postgres@localhost:5432/test"</span></span>
<span class="line"><span style="color: #E6E6E6">  }</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">"ConnectionStrings"</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">"TestConnection"</span><span style="color: #000000">: </span><span style="color: #A31515">"postgresql://postgres:postgres@localhost:5432/test"</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">}</span></span></code></pre></div><ul><li>Or, from the command line:</li></ul><div class="one-liner"><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">~$ pgroutiner --connection "postgresql://postgres:postgres@localhost:5432/test" --info</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">~$ pgroutiner --connection "postgresql://postgres:postgres@localhost:5432/test" --info</span></span></code></pre></div></div><ul><li><p>Every part of the connection (server, port, database, user, and password) can be omitted from the connection string or connection URL and it will be replaced with the following environment variables:</p></li><li><p><code>PGHOST</code> or <code>PGSERVER</code> to replace the missing server parameter.</p></li><li><p><code>PGPORT</code> to replace the missing port parameter.</p></li><li><p><code>PGDATABASE</code> or <code>PGDB</code> to replace the missing database parameter.</p></li><li><p><code>PGHOST</code> or <code>PGSERVER</code> to replace the missing server parameter.</p></li><li><p><code>PGUSER</code> to replace the missing user parameter.</p></li><li><p><code>PGPASSWORD</code> or <code>PGPASS</code> to replace the missing password parameter.</p></li></ul><h2 id="configuration-management">Configuration Management<a class="anchor bookmark-target" href="#configuration-management"><i class="bi bi-link-45deg"></i></a></h2><ul><li><p>Every possible command-line option and switch can be configured in the configuration file.</p></li><li><p>Use the <code>PgRoutiner</code> configuration section in the JSON configuration (<code>appsettings.json</code> or <code>appsettings.Development.json</code>), example:</p></li></ul><div class="code json"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">{</span></span>
<span class="line"><span style="color: #E6E6E6">  </span><span style="color: #9CDCFE">"ConnectionStrings"</span><span style="color: #E6E6E6">: {</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #9CDCFE">"TestConnection"</span><span style="color: #E6E6E6">: </span><span style="color: #CE9178">"postgresql://postgres:postgres@localhost:5432/test"</span></span>
<span class="line"><span style="color: #E6E6E6">  },</span></span>
<span class="line"><span style="color: #E6E6E6">  </span><span style="color: #9CDCFE">"PgRoutiner"</span><span style="color: #E6E6E6">: {</span></span>
<span class="line"><span style="color: #E6E6E6">    </span><span style="color: #6A9955">// pgroutiner settings</span></span>
<span class="line"><span style="color: #E6E6E6">  }</span></span>
<span class="line"><span style="color: #E6E6E6">}</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">"ConnectionStrings"</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">"TestConnection"</span><span style="color: #000000">: </span><span style="color: #A31515">"postgresql://postgres:postgres@localhost:5432/test"</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">"PgRoutiner"</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #008000">// pgroutiner settings</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">}</span></span></code></pre></div><ul><li><p><code>pgroutiner</code> will read and apply configuration settings as the default value if the configuration section <code>PgRoutiner</code> exists.</p></li><li><p>Use the command line to override any configuration settings.</p></li><li><p>As a general rule, any configuration setting has its equivalent in the command line as the kebab-cased sitch starting with two dashes. Examples:</p><ul><li>Setting: <code>SkipConnectionPrompt</code>, command line: <code>--skip-connection-prompt</code></li><li>Setting: <code>SchemaSimilarTo</code>, command line: <code>--schema-similar-to</code></li><li>etc</li></ul></li><li><p>Many settings have also shortcut alias, for example, the <code>Connection</code> setting can be either: <code>-c</code> <code>-conn</code> <code>--conn</code> <code>-connection</code> <code>--connection</code>.</p></li><li><p>Boolean settings are switches, it is sufficient to include a switch without value to turn it on: <code>pgroutiner --skip-connection-prompt</code></p></li><li><p>Add <code>false</code> or <code>0</code> to turn it off: <code>pgroutiner --skip-connection-prompt false</code></p></li><li><p>You can inspect currently applied settings with <code>--settings</code> switch. <code>pgroutiner --settings</code> will force to skip any operation and it will only display all current settings. It will also display command-line alias in comment headers.</p></li><li><p>You can also run <code>pgroutiner --info</code> which will, among other things, display currently applied settings that differ from default values.</p></li><li><p>If there is no configuration section <code>PgRoutiner</code> is present anywhere, and if you run <code>pgroutiner</code> without any parameters, you will be offered to create the default configuration file <code>appsettings.PgRoutiner.json</code>:</p></li></ul><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">You don't seem to be using any available command-line commands and PgRoutiner configuration seems to be missing.</span></span>
<span class="line"><span style="color: #E6E6E6">Would you like to create a custom settings file "appsettings.PgRoutiner.json" with your current values?</span></span>
<span class="line"><span style="color: #E6E6E6">This settings configuration file can be used to change settings for this directory without using a command-line.</span></span>
<span class="line"><span style="color: #E6E6E6">Create "appsettings.PgRoutiner.json" in this dir [Y/N]?</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">You don't seem to be using any available command-line commands and PgRoutiner configuration seems to be missing.</span></span>
<span class="line"><span style="color: #000000">Would you like to create a custom settings file "appsettings.PgRoutiner.json" with your current values?</span></span>
<span class="line"><span style="color: #000000">This settings configuration file can be used to change settings for this directory without using a command-line.</span></span>
<span class="line"><span style="color: #000000">Create "appsettings.PgRoutiner.json" in this dir [Y/N]?</span></span></code></pre></div><ul><li><p><code>appsettings.PgRoutiner.json</code>, if exists, will always be loaded after the <code>appsettings.json</code> and <code>appsettings.Development.json</code> and override any possible setting values in those files.</p></li><li><p>If you need to load these configuration files from a different location, you can use <code>--config-path, for example,</code>pgroutiner -<code>-config-path ../../dir2/</code></p></li><li><p>You can also use any of these options to load custom configuration files: <code>-cf</code>, <code>--cf</code>, <code>-config</code>, <code>--config</code>, <code>-config-file</code>, <code>--config-file</code>, for example, <code>pgroutiner --config ../../dir2/my-config.json</code></p></li><li><p>You can also write current settings to a custom configuration by using any of these options <code>-wcf</code>, <code>--write-config-file</code>, for example, <code>pgroutiner --write-config-file ../../dir2/my-config.json</code></p></li><li><p><a href="https://github.com/vb-consulting/PgRoutiner/blob/master/readme-default-config.md">The full configuration file with all default values for this current version</a></p></li></ul><h2 id="working-with-database">Working With Database<a class="anchor bookmark-target" href="#working-with-database"><i class="bi bi-link-45deg"></i></a></h2><h3 id="list-database-objects">List database objects<a class="anchor bookmark-target" href="#list-database-objects"><i class="bi bi-link-45deg"></i></a></h3><ul><li><p>Description: <code>-l -ls --ls --list to dump or search object list to console. Use the switch to dump all objects or parameter values to search.</code></p></li><li><p>Examples:</p></li></ul><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner --list</span></span>
<span class="line"><span style="color: #E6E6E6">SCHEMA public</span></span>
<span class="line"><span style="color: #E6E6E6">EXTENSION plpgsql</span></span>
<span class="line"><span style="color: #E6E6E6">TYPE mpaa_rating</span></span>
<span class="line"><span style="color: #E6E6E6">DOMAIN public.year</span></span>
<span class="line"><span style="color: #E6E6E6">TABLE public.actor</span></span>
<span class="line"><span style="color: #E6E6E6">VIEW public.actor_info</span></span>
<span class="line"><span style="color: #E6E6E6">VIEW public.customer_list</span></span>
<span class="line"><span style="color: #E6E6E6">...</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner --list</span></span>
<span class="line"><span style="color: #000000">SCHEMA public</span></span>
<span class="line"><span style="color: #000000">EXTENSION plpgsql</span></span>
<span class="line"><span style="color: #000000">TYPE mpaa_rating</span></span>
<span class="line"><span style="color: #000000">DOMAIN public.year</span></span>
<span class="line"><span style="color: #000000">TABLE public.actor</span></span>
<span class="line"><span style="color: #000000">VIEW public.actor_info</span></span>
<span class="line"><span style="color: #000000">VIEW public.customer_list</span></span>
<span class="line"><span style="color: #000000">...</span></span></code></pre></div><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner -l</span></span>
<span class="line"><span style="color: #E6E6E6">SCHEMA public</span></span>
<span class="line"><span style="color: #E6E6E6">EXTENSION plpgsql</span></span>
<span class="line"><span style="color: #E6E6E6">TYPE mpaa_rating</span></span>
<span class="line"><span style="color: #E6E6E6">DOMAIN public.year</span></span>
<span class="line"><span style="color: #E6E6E6">TABLE public.actor</span></span>
<span class="line"><span style="color: #E6E6E6">VIEW public.actor_info</span></span>
<span class="line"><span style="color: #E6E6E6">VIEW public.customer_list</span></span>
<span class="line"><span style="color: #E6E6E6">...</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner -l</span></span>
<span class="line"><span style="color: #000000">SCHEMA public</span></span>
<span class="line"><span style="color: #000000">EXTENSION plpgsql</span></span>
<span class="line"><span style="color: #000000">TYPE mpaa_rating</span></span>
<span class="line"><span style="color: #000000">DOMAIN public.year</span></span>
<span class="line"><span style="color: #000000">TABLE public.actor</span></span>
<span class="line"><span style="color: #000000">VIEW public.actor_info</span></span>
<span class="line"><span style="color: #000000">VIEW public.customer_list</span></span>
<span class="line"><span style="color: #000000">...</span></span></code></pre></div><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner -ls</span></span>
<span class="line"><span style="color: #E6E6E6">SCHEMA public</span></span>
<span class="line"><span style="color: #E6E6E6">EXTENSION plpgsql</span></span>
<span class="line"><span style="color: #E6E6E6">TYPE mpaa_rating</span></span>
<span class="line"><span style="color: #E6E6E6">DOMAIN public.year</span></span>
<span class="line"><span style="color: #E6E6E6">TABLE public.actor</span></span>
<span class="line"><span style="color: #E6E6E6">VIEW public.actor_info</span></span>
<span class="line"><span style="color: #E6E6E6">VIEW public.customer_list</span></span>
<span class="line"><span style="color: #E6E6E6">...</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner -ls</span></span>
<span class="line"><span style="color: #000000">SCHEMA public</span></span>
<span class="line"><span style="color: #000000">EXTENSION plpgsql</span></span>
<span class="line"><span style="color: #000000">TYPE mpaa_rating</span></span>
<span class="line"><span style="color: #000000">DOMAIN public.year</span></span>
<span class="line"><span style="color: #000000">TABLE public.actor</span></span>
<span class="line"><span style="color: #000000">VIEW public.actor_info</span></span>
<span class="line"><span style="color: #000000">VIEW public.customer_list</span></span>
<span class="line"><span style="color: #000000">...</span></span></code></pre></div><ul><li>Note: when searching through the object list, the match is highlighted.</li></ul><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner --list film</span></span>
<span class="line"><span style="color: #E6E6E6">VIEW public.film_list</span></span>
<span class="line"><span style="color: #E6E6E6">VIEW public.nicer_but_slower_film_list</span></span>
<span class="line"><span style="color: #E6E6E6">VIEW public.sales_by_film_category</span></span>
<span class="line"><span style="color: #E6E6E6">TABLE public.film_actor</span></span>
<span class="line"><span style="color: #E6E6E6">TABLE public.film_category</span></span>
<span class="line"><span style="color: #E6E6E6">TABLE public.film</span></span>
<span class="line"><span style="color: #E6E6E6">SEQ public.film_film_id_seq</span></span>
<span class="line"><span style="color: #E6E6E6">FUNCTION public.film_in_stock(integer, integer)</span></span>
<span class="line"><span style="color: #E6E6E6">FUNCTION public.film_not_in_stock(integer, integer)</span></span>
<span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner --list film</span></span>
<span class="line"><span style="color: #000000">VIEW public.film_list</span></span>
<span class="line"><span style="color: #000000">VIEW public.nicer_but_slower_film_list</span></span>
<span class="line"><span style="color: #000000">VIEW public.sales_by_film_category</span></span>
<span class="line"><span style="color: #000000">TABLE public.film_actor</span></span>
<span class="line"><span style="color: #000000">TABLE public.film_category</span></span>
<span class="line"><span style="color: #000000">TABLE public.film</span></span>
<span class="line"><span style="color: #000000">SEQ public.film_film_id_seq</span></span>
<span class="line"><span style="color: #000000">FUNCTION public.film_in_stock(integer, integer)</span></span>
<span class="line"><span style="color: #000000">FUNCTION public.film_not_in_stock(integer, integer)</span></span>
<span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$</span></span></code></pre></div><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner --list actor</span></span>
<span class="line"><span style="color: #E6E6E6">TABLE public.actor</span></span>
<span class="line"><span style="color: #E6E6E6">VIEW public.actor_info</span></span>
<span class="line"><span style="color: #E6E6E6">TABLE public.film_actor</span></span>
<span class="line"><span style="color: #E6E6E6">SEQ public.actor_actor_id_seq</span></span>
<span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner --list actor</span></span>
<span class="line"><span style="color: #000000">TABLE public.actor</span></span>
<span class="line"><span style="color: #000000">VIEW public.actor_info</span></span>
<span class="line"><span style="color: #000000">TABLE public.film_actor</span></span>
<span class="line"><span style="color: #000000">SEQ public.actor_actor_id_seq</span></span>
<span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$</span></span></code></pre></div><h3 id="view-object-definitions">View object definitions<a class="anchor bookmark-target" href="#view-object-definitions"><i class="bi bi-link-45deg"></i></a></h3><ul><li><p>Description: <code>-def -ddl --ddl -definition --definition to dump object schema definition in console supplied as a value parameter.</code></p></li><li><p>Examples:</p></li></ul><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner -ddl actor</span></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">-- Table: public.actor</span></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE TABLE public.actor (</span></span>
<span class="line"><span style="color: #E6E6E6">    actor_id integer DEFAULT nextval('public.actor_actor_id_seq'::regclass) NOT NULL PRIMARY KEY,</span></span>
<span class="line"><span style="color: #E6E6E6">    first_name character varying(45) NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    last_name character varying(45) NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    last_update timestamp without time zone DEFAULT now() NOT NULL</span></span>
<span class="line"><span style="color: #E6E6E6">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">ALTER TABLE public.actor OWNER TO postgres;</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE INDEX idx_actor_last_name ON public.actor USING btree (last_name);</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE TRIGGER last_updated BEFORE UPDATE ON public.actor FOR EACH ROW EXECUTE FUNCTION public.last_updated();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner -ddl actor</span></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">-- Table: public.actor</span></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">CREATE TABLE public.actor (</span></span>
<span class="line"><span style="color: #000000">    actor_id integer DEFAULT nextval('public.actor_actor_id_seq'::regclass) NOT NULL PRIMARY KEY,</span></span>
<span class="line"><span style="color: #000000">    first_name character varying(45) NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    last_name character varying(45) NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    last_update timestamp without time zone DEFAULT now() NOT NULL</span></span>
<span class="line"><span style="color: #000000">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">ALTER TABLE public.actor OWNER TO postgres;</span></span>
<span class="line"><span style="color: #000000">CREATE INDEX idx_actor_last_name ON public.actor USING btree (last_name);</span></span>
<span class="line"><span style="color: #000000">CREATE TRIGGER last_updated BEFORE UPDATE ON public.actor FOR EACH ROW EXECUTE FUNCTION public.last_updated();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$</span></span></code></pre></div><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner -ddl film</span></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">-- Table: public.film</span></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE TABLE public.film (</span></span>
<span class="line"><span style="color: #E6E6E6">    film_id integer DEFAULT nextval('public.film_film_id_seq'::regclass) NOT NULL PRIMARY KEY,</span></span>
<span class="line"><span style="color: #E6E6E6">    title character varying(255) NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    description text,</span></span>
<span class="line"><span style="color: #E6E6E6">    release_year public.year,</span></span>
<span class="line"><span style="color: #E6E6E6">    language_id smallint NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    rental_duration smallint DEFAULT 3 NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    rental_rate numeric(4,2) DEFAULT 4.99 NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    length smallint,</span></span>
<span class="line"><span style="color: #E6E6E6">    replacement_cost numeric(5,2) DEFAULT 19.99 NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    rating public.mpaa_rating DEFAULT 'G'::public.mpaa_rating,</span></span>
<span class="line"><span style="color: #E6E6E6">    last_update timestamp without time zone DEFAULT now() NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    special_features text[],</span></span>
<span class="line"><span style="color: #E6E6E6">    fulltext tsvector NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    FOREIGN KEY (language_id) REFERENCES public.language(language_id) ON UPDATE CASCADE ON DELETE RESTRICT</span></span>
<span class="line"><span style="color: #E6E6E6">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">ALTER TABLE public.film OWNER TO postgres;</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE INDEX film_fulltext_idx ON public.film USING gist (fulltext);</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE INDEX idx_fk_language_id ON public.film USING btree (language_id);</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE INDEX idx_title ON public.film USING btree (title);</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE TRIGGER film_fulltext_trigger BEFORE INSERT OR UPDATE ON public.film FOR EACH ROW EXECUTE FUNCTION tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description');</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE TRIGGER last_updated BEFORE UPDATE ON public.film FOR EACH ROW EXECUTE FUNCTION public.last_updated();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner -ddl film</span></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">-- Table: public.film</span></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">CREATE TABLE public.film (</span></span>
<span class="line"><span style="color: #000000">    film_id integer DEFAULT nextval('public.film_film_id_seq'::regclass) NOT NULL PRIMARY KEY,</span></span>
<span class="line"><span style="color: #000000">    title character varying(255) NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    description text,</span></span>
<span class="line"><span style="color: #000000">    release_year public.year,</span></span>
<span class="line"><span style="color: #000000">    language_id smallint NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    rental_duration smallint DEFAULT 3 NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    rental_rate numeric(4,2) DEFAULT 4.99 NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    length smallint,</span></span>
<span class="line"><span style="color: #000000">    replacement_cost numeric(5,2) DEFAULT 19.99 NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    rating public.mpaa_rating DEFAULT 'G'::public.mpaa_rating,</span></span>
<span class="line"><span style="color: #000000">    last_update timestamp without time zone DEFAULT now() NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    special_features text[],</span></span>
<span class="line"><span style="color: #000000">    fulltext tsvector NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    FOREIGN KEY (language_id) REFERENCES public.language(language_id) ON UPDATE CASCADE ON DELETE RESTRICT</span></span>
<span class="line"><span style="color: #000000">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">ALTER TABLE public.film OWNER TO postgres;</span></span>
<span class="line"><span style="color: #000000">CREATE INDEX film_fulltext_idx ON public.film USING gist (fulltext);</span></span>
<span class="line"><span style="color: #000000">CREATE INDEX idx_fk_language_id ON public.film USING btree (language_id);</span></span>
<span class="line"><span style="color: #000000">CREATE INDEX idx_title ON public.film USING btree (title);</span></span>
<span class="line"><span style="color: #000000">CREATE TRIGGER film_fulltext_trigger BEFORE INSERT OR UPDATE ON public.film FOR EACH ROW EXECUTE FUNCTION tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description');</span></span>
<span class="line"><span style="color: #000000">CREATE TRIGGER last_updated BEFORE UPDATE ON public.film FOR EACH ROW EXECUTE FUNCTION public.last_updated();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$</span></span></code></pre></div><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner --ddl film_in_stock</span></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">-- Function: public.film_in_stock</span></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE FUNCTION public.film_in_stock(</span></span>
<span class="line"><span style="color: #E6E6E6">    p_film_id integer,</span></span>
<span class="line"><span style="color: #E6E6E6">    p_store_id integer,</span></span>
<span class="line"><span style="color: #E6E6E6">    OUT p_film_count integer</span></span>
<span class="line"><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">RETURNS SETOF integer</span></span>
<span class="line"><span style="color: #E6E6E6">LANGUAGE sql</span></span>
<span class="line"><span style="color: #E6E6E6">AS $_$</span></span>
<span class="line"><span style="color: #E6E6E6">     SELECT inventory_id</span></span>
<span class="line"><span style="color: #E6E6E6">     FROM inventory</span></span>
<span class="line"><span style="color: #E6E6E6">     WHERE film_id = $1</span></span>
<span class="line"><span style="color: #E6E6E6">     AND store_id = $2</span></span>
<span class="line"><span style="color: #E6E6E6">     AND inventory_in_stock(inventory_id);</span></span>
<span class="line"><span style="color: #E6E6E6">$_$;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">ALTER FUNCTION public.film_in_stock(p_film_id integer, p_store_id integer, OUT p_film_count integer) OWNER TO postgres;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner --ddl film_in_stock</span></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">-- Function: public.film_in_stock</span></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">CREATE FUNCTION public.film_in_stock(</span></span>
<span class="line"><span style="color: #000000">    p_film_id integer,</span></span>
<span class="line"><span style="color: #000000">    p_store_id integer,</span></span>
<span class="line"><span style="color: #000000">    OUT p_film_count integer</span></span>
<span class="line"><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">RETURNS SETOF integer</span></span>
<span class="line"><span style="color: #000000">LANGUAGE sql</span></span>
<span class="line"><span style="color: #000000">AS $_$</span></span>
<span class="line"><span style="color: #000000">     SELECT inventory_id</span></span>
<span class="line"><span style="color: #000000">     FROM inventory</span></span>
<span class="line"><span style="color: #000000">     WHERE film_id = $1</span></span>
<span class="line"><span style="color: #000000">     AND store_id = $2</span></span>
<span class="line"><span style="color: #000000">     AND inventory_in_stock(inventory_id);</span></span>
<span class="line"><span style="color: #000000">$_$;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">ALTER FUNCTION public.film_in_stock(p_film_id integer, p_store_id integer, OUT p_film_count integer) OWNER TO postgres;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$</span></span></code></pre></div><ul><li>Note: to dump multiple definitions use semicolon-separated values:</li></ul><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner --ddl </span><span style="color: #CE9178">"actor;film_in_stock"</span></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">-- Table: public.actor</span></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE TABLE public.actor (</span></span>
<span class="line"><span style="color: #E6E6E6">    actor_id integer DEFAULT nextval('public.actor_actor_id_seq'::regclass) NOT NULL PRIMARY KEY,</span></span>
<span class="line"><span style="color: #E6E6E6">    first_name character varying(45) NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    last_name character varying(45) NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    last_update timestamp without time zone DEFAULT now() NOT NULL</span></span>
<span class="line"><span style="color: #E6E6E6">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">ALTER TABLE public.actor OWNER TO postgres;</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE INDEX idx_actor_last_name ON public.actor USING btree (last_name);</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE TRIGGER last_updated BEFORE UPDATE ON public.actor FOR EACH ROW EXECUTE FUNCTION public.last_updated();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">-- Function: public.film_in_stock</span></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE FUNCTION public.film_in_stock(</span></span>
<span class="line"><span style="color: #E6E6E6">    p_film_id integer,</span></span>
<span class="line"><span style="color: #E6E6E6">    p_store_id integer,</span></span>
<span class="line"><span style="color: #E6E6E6">    OUT p_film_count integer</span></span>
<span class="line"><span style="color: #E6E6E6">)</span></span>
<span class="line"><span style="color: #E6E6E6">RETURNS SETOF integer</span></span>
<span class="line"><span style="color: #E6E6E6">LANGUAGE sql</span></span>
<span class="line"><span style="color: #E6E6E6">AS $_$</span></span>
<span class="line"><span style="color: #E6E6E6">     SELECT inventory_id</span></span>
<span class="line"><span style="color: #E6E6E6">     FROM inventory</span></span>
<span class="line"><span style="color: #E6E6E6">     WHERE film_id = $1</span></span>
<span class="line"><span style="color: #E6E6E6">     AND store_id = $2</span></span>
<span class="line"><span style="color: #E6E6E6">     AND inventory_in_stock(inventory_id);</span></span>
<span class="line"><span style="color: #E6E6E6">$_$;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">ALTER FUNCTION public.film_in_stock(p_film_id integer, p_store_id integer, OUT p_film_count integer) OWNER TO postgres;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner --ddl </span><span style="color: #A31515">"actor;film_in_stock"</span></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">-- Table: public.actor</span></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">CREATE TABLE public.actor (</span></span>
<span class="line"><span style="color: #000000">    actor_id integer DEFAULT nextval('public.actor_actor_id_seq'::regclass) NOT NULL PRIMARY KEY,</span></span>
<span class="line"><span style="color: #000000">    first_name character varying(45) NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    last_name character varying(45) NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    last_update timestamp without time zone DEFAULT now() NOT NULL</span></span>
<span class="line"><span style="color: #000000">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">ALTER TABLE public.actor OWNER TO postgres;</span></span>
<span class="line"><span style="color: #000000">CREATE INDEX idx_actor_last_name ON public.actor USING btree (last_name);</span></span>
<span class="line"><span style="color: #000000">CREATE TRIGGER last_updated BEFORE UPDATE ON public.actor FOR EACH ROW EXECUTE FUNCTION public.last_updated();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">-- Function: public.film_in_stock</span></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">CREATE FUNCTION public.film_in_stock(</span></span>
<span class="line"><span style="color: #000000">    p_film_id integer,</span></span>
<span class="line"><span style="color: #000000">    p_store_id integer,</span></span>
<span class="line"><span style="color: #000000">    OUT p_film_count integer</span></span>
<span class="line"><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">RETURNS SETOF integer</span></span>
<span class="line"><span style="color: #000000">LANGUAGE sql</span></span>
<span class="line"><span style="color: #000000">AS $_$</span></span>
<span class="line"><span style="color: #000000">     SELECT inventory_id</span></span>
<span class="line"><span style="color: #000000">     FROM inventory</span></span>
<span class="line"><span style="color: #000000">     WHERE film_id = $1</span></span>
<span class="line"><span style="color: #000000">     AND store_id = $2</span></span>
<span class="line"><span style="color: #000000">     AND inventory_in_stock(inventory_id);</span></span>
<span class="line"><span style="color: #000000">$_$;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">ALTER FUNCTION public.film_in_stock(p_film_id integer, p_store_id integer, OUT p_film_count integer) OWNER TO postgres;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$</span></span></code></pre></div><h3 id="search-definitions-by-search-expression">Search definitions by search expression<a class="anchor bookmark-target" href="#search-definitions-by-search-expression"><i class="bi bi-link-45deg"></i></a></h3><ul><li><p>Description: <code>s --s --search to search object schema definitions and dump highlighted results to the console.</code></p></li><li><p>Searches entire definitions and dumps to console entire definitions containing the expression.</p></li><li><p>Note: search expression match is highlighted.</p></li></ul><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner --search </span><span style="color: #CE9178">"select public.group_concat"</span></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">-- View: public.actor_info</span></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE VIEW public.actor_info AS</span></span>
<span class="line"><span style="color: #E6E6E6"> SELECT a.actor_id,</span></span>
<span class="line"><span style="color: #E6E6E6">    a.first_name,</span></span>
<span class="line"><span style="color: #E6E6E6">    a.last_name,</span></span>
<span class="line"><span style="color: #E6E6E6">    public.group_concat(DISTINCT (((c.name)::text || ': '::text) || ( SELECT public.group_concat((f.title)::text) AS group_concat</span></span>
<span class="line"><span style="color: #E6E6E6">           FROM ((public.film f</span></span>
<span class="line"><span style="color: #E6E6E6">             JOIN public.film_category fc_1 ON ((f.film_id = fc_1.film_id)))</span></span>
<span class="line"><span style="color: #E6E6E6">             JOIN public.film_actor fa_1 ON ((f.film_id = fa_1.film_id)))</span></span>
<span class="line"><span style="color: #E6E6E6">          WHERE ((fc_1.category_id = c.category_id) AND (fa_1.actor_id = a.actor_id))</span></span>
<span class="line"><span style="color: #E6E6E6">          GROUP BY fa_1.actor_id))) AS film_info</span></span>
<span class="line"><span style="color: #E6E6E6">   FROM (((public.actor a</span></span>
<span class="line"><span style="color: #E6E6E6">     LEFT JOIN public.film_actor fa ON ((a.actor_id = fa.actor_id)))</span></span>
<span class="line"><span style="color: #E6E6E6">     LEFT JOIN public.film_category fc ON ((fa.film_id = fc.film_id)))</span></span>
<span class="line"><span style="color: #E6E6E6">     LEFT JOIN public.category c ON ((fc.category_id = c.category_id)))</span></span>
<span class="line"><span style="color: #E6E6E6">  GROUP BY a.actor_id, a.first_name, a.last_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">ALTER TABLE public.actor_info OWNER TO postgres;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner --search </span><span style="color: #A31515">"select public.group_concat"</span></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">-- View: public.actor_info</span></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">CREATE VIEW public.actor_info AS</span></span>
<span class="line"><span style="color: #000000"> SELECT a.actor_id,</span></span>
<span class="line"><span style="color: #000000">    a.first_name,</span></span>
<span class="line"><span style="color: #000000">    a.last_name,</span></span>
<span class="line"><span style="color: #000000">    public.group_concat(DISTINCT (((c.name)::text || ': '::text) || ( SELECT public.group_concat((f.title)::text) AS group_concat</span></span>
<span class="line"><span style="color: #000000">           FROM ((public.film f</span></span>
<span class="line"><span style="color: #000000">             JOIN public.film_category fc_1 ON ((f.film_id = fc_1.film_id)))</span></span>
<span class="line"><span style="color: #000000">             JOIN public.film_actor fa_1 ON ((f.film_id = fa_1.film_id)))</span></span>
<span class="line"><span style="color: #000000">          WHERE ((fc_1.category_id = c.category_id) AND (fa_1.actor_id = a.actor_id))</span></span>
<span class="line"><span style="color: #000000">          GROUP BY fa_1.actor_id))) AS film_info</span></span>
<span class="line"><span style="color: #000000">   FROM (((public.actor a</span></span>
<span class="line"><span style="color: #000000">     LEFT JOIN public.film_actor fa ON ((a.actor_id = fa.actor_id)))</span></span>
<span class="line"><span style="color: #000000">     LEFT JOIN public.film_category fc ON ((fa.film_id = fc.film_id)))</span></span>
<span class="line"><span style="color: #000000">     LEFT JOIN public.category c ON ((fc.category_id = c.category_id)))</span></span>
<span class="line"><span style="color: #000000">  GROUP BY a.actor_id, a.first_name, a.last_name;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">ALTER TABLE public.actor_info OWNER TO postgres;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$</span></span></code></pre></div><div class="code console"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #E6E6E6">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner --search smallint</span></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">-- Table: public.store</span></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE TABLE public.store (</span></span>
<span class="line"><span style="color: #E6E6E6">    store_id integer DEFAULT nextval('public.store_store_id_seq'::regclass) NOT NULL PRIMARY KEY,</span></span>
<span class="line"><span style="color: #E6E6E6">    manager_staff_id smallint NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    address_id smallint NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    last_update timestamp without time zone DEFAULT now() NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    FOREIGN KEY (address_id) REFERENCES public.address(address_id) ON UPDATE CASCADE ON DELETE RESTRICT,</span></span>
<span class="line"><span style="color: #E6E6E6">    FOREIGN KEY (manager_staff_id) REFERENCES public.staff(staff_id) ON UPDATE CASCADE ON DELETE RESTRICT</span></span>
<span class="line"><span style="color: #E6E6E6">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">ALTER TABLE public.store OWNER TO postgres;</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE UNIQUE INDEX idx_unq_manager_staff_id ON public.store USING btree (manager_staff_id);</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE TRIGGER last_updated BEFORE UPDATE ON public.store FOR EACH ROW EXECUTE FUNCTION public.last_updated();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">-- Table: public.address</span></span>
<span class="line"><span style="color: #E6E6E6">--</span></span>
<span class="line"><span style="color: #E6E6E6">CREATE TABLE public.address (</span></span>
<span class="line"><span style="color: #E6E6E6">    address_id integer DEFAULT nextval('public.address_address_id_seq'::regclass) NOT NULL PRIMARY KEY,</span></span>
<span class="line"><span style="color: #E6E6E6">    address character varying(50) NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    address2 character varying(50),</span></span>
<span class="line"><span style="color: #E6E6E6">    district character varying(20) NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    city_id smallint NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    postal_code character varying(10),</span></span>
<span class="line"><span style="color: #E6E6E6">    phone character varying(20) NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    last_update timestamp without time zone DEFAULT now() NOT NULL,</span></span>
<span class="line"><span style="color: #E6E6E6">    CONSTRAINT fk_address_city FOREIGN KEY (city_id) REFERENCES public.city(city_id)</span></span>
<span class="line"><span style="color: #E6E6E6">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E6E6E6">...</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #000000">vbilopav@DESKTOP-O3A6QK2:~/dev/dvdrental$ pgroutiner --search smallint</span></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">-- Table: public.store</span></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">CREATE TABLE public.store (</span></span>
<span class="line"><span style="color: #000000">    store_id integer DEFAULT nextval('public.store_store_id_seq'::regclass) NOT NULL PRIMARY KEY,</span></span>
<span class="line"><span style="color: #000000">    manager_staff_id smallint NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    address_id smallint NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    last_update timestamp without time zone DEFAULT now() NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    FOREIGN KEY (address_id) REFERENCES public.address(address_id) ON UPDATE CASCADE ON DELETE RESTRICT,</span></span>
<span class="line"><span style="color: #000000">    FOREIGN KEY (manager_staff_id) REFERENCES public.staff(staff_id) ON UPDATE CASCADE ON DELETE RESTRICT</span></span>
<span class="line"><span style="color: #000000">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">ALTER TABLE public.store OWNER TO postgres;</span></span>
<span class="line"><span style="color: #000000">CREATE UNIQUE INDEX idx_unq_manager_staff_id ON public.store USING btree (manager_staff_id);</span></span>
<span class="line"><span style="color: #000000">CREATE TRIGGER last_updated BEFORE UPDATE ON public.store FOR EACH ROW EXECUTE FUNCTION public.last_updated();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">-- Table: public.address</span></span>
<span class="line"><span style="color: #000000">--</span></span>
<span class="line"><span style="color: #000000">CREATE TABLE public.address (</span></span>
<span class="line"><span style="color: #000000">    address_id integer DEFAULT nextval('public.address_address_id_seq'::regclass) NOT NULL PRIMARY KEY,</span></span>
<span class="line"><span style="color: #000000">    address character varying(50) NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    address2 character varying(50),</span></span>
<span class="line"><span style="color: #000000">    district character varying(20) NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    city_id smallint NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    postal_code character varying(10),</span></span>
<span class="line"><span style="color: #000000">    phone character varying(20) NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    last_update timestamp without time zone DEFAULT now() NOT NULL,</span></span>
<span class="line"><span style="color: #000000">    CONSTRAINT fk_address_city FOREIGN KEY (city_id) REFERENCES public.city(city_id)</span></span>
<span class="line"><span style="color: #000000">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">...</span></span></code></pre></div><h3 id="dump-data-from-tables-or-queries-as-inserts">Dump data from tables or queries as inserts<a class="anchor bookmark-target" href="#dump-data-from-tables-or-queries-as-inserts"><i class="bi bi-link-45deg"></i></a></h3><h3 id="backup-and-restore">Backup and restore<a class="anchor bookmark-target" href="#backup-and-restore"><i class="bi bi-link-45deg"></i></a></h3><h3 id="open-psql-tool">Open PSQL tool<a class="anchor bookmark-target" href="#open-psql-tool"><i class="bi bi-link-45deg"></i></a></h3><h3 id="execute-psql-commands-and-scripts">Execute PSQL commands and scripts<a class="anchor bookmark-target" href="#execute-psql-commands-and-scripts"><i class="bi bi-link-45deg"></i></a></h3><h2 id="generating-scripts">Generating Scripts<a class="anchor bookmark-target" href="#generating-scripts"><i class="bi bi-link-45deg"></i></a></h2><h2 id="generating-documentation">Generating Documentation<a class="anchor bookmark-target" href="#generating-documentation"><i class="bi bi-link-45deg"></i></a></h2><h2 id="generating-code">Generating Code<a class="anchor bookmark-target" href="#generating-code"><i class="bi bi-link-45deg"></i></a></h2><h2 id="troubleshooting">Troubleshooting<a class="anchor bookmark-target" href="#troubleshooting"><i class="bi bi-link-45deg"></i></a></h2><p>Depending on the command, this tool will start external processes with PostgreSQL client tools like <code>psql</code>, <code>pg_dump</code>, or <code>pg_restore</code>.</p><p>That means, that PostgreSQL client tools must be installed on the system. PostgreSQL client tools will be installed by default with every PostgreSQL installation.</p><p>If you don't want a server, but only client tools:</p><ul><li>For Windows systems, there is option "client tools only" option in the installer.</li><li>For Linux systems, installing the package <code>postgresql-client</code> would be enough, something like <code>$ sudo apt-get install -y postgresql-client</code>, but depends on the system.</li></ul><p>When <code>pgroutiner</code> calls an external tool, it will first try to call the default alias <code>psql</code> or <code>pg_dump</code>. Then, if the version of the tool doesn't match the version from the connection it will try to locate the executable on the default location:</p><ul><li><code>C:\Program Files\PostgreSQL\{0}\bin\pg_dump.exe</code> and <code>C:\Program Files\PostgreSQL\{0}\bin\psql.exe</code> for windows systems.</li><li><code>/usr/lib/postgresql/{0}/bin/pg_dump</code> and <code>/usr/lib/postgresql/{0}/bin/psql</code> for Linux systems.</li><li>Note: format placeholder <code>{0}</code> is the major version number.</li></ul><p>Those paths are PostgreSQL installs binaries by default.</p><p>When PgRoutiner sees the version mismatch it will prompt a warning and fallback to that path with an appropriate version number.</p><p>This behavior can be avoided by settings <code>PgDumpFallback</code> and <code>PsqlFallback</code> settings values respectively.</p><h2 id="support">Support<a class="anchor bookmark-target" href="#support"><i class="bi bi-link-45deg"></i></a></h2><p>This is open-source software developed and maintained freely without any compensation whatsoever.</p><h2 id="license">License<a class="anchor bookmark-target" href="#license"><i class="bi bi-link-45deg"></i></a></h2><p>Copyright (c) Vedran Bilopavlović - VB Consulting and VB Software 2020 This source code is licensed under the <a href="https://github.com/vb-consulting/PgRoutiner/blob/master/LICENSE">MIT license</a>.</p><div class="pt-5 border-top"><div id="comments-section" class="h5">Comments</div><script defer src="https://cdn.commento.io/js/commento.js" data-no-fonts="true" data-css-override="https://vb-consulting.github.io/style.css"></script><div id="commento"></div></div><footer class="mt-3 py-5"><div class="w-fit mx-auto mb-3 border-top border-bottom"><div class="alert text-center fs-smaller text-muted"><div class="alert text-center fs-smaller text-muted mb-1">If you like my content, use my software, or otherwise benefit from my work, consider supporting me by buying me a coffee. The software runs on coffee after all.</div><a class="btn btn-link rl-arrow" target="_blank" data-bs-toggle="tooltip" data-bs-html="true" title="Click Here to Buy Me a Coffee Or Scan the Code" href="https://www.buymeacoffee.com/vbilopavu" style="display: inline-grid;">Buy me a Coffee <img class="m-auto svelte-w557lf" alt="Scan Here To Buy Me a Cofee" src="/bmc_qr.png"></a></div></div><div class="d-flex justify-content-center"><a class="btn btn-link rl-arrow me-1" target="_blank" data-bs-toggle="tooltip" data-bs-html="true" title="PgRoutiner on GitHub" href="https://github.com/vb-consulting/PgRoutiner" style="display: inline-grid;">PgRoutiner on GitHub <i class="bi bi-github"></i></a> <a class="btn btn-link rl-arrow" target="_blank" data-bs-toggle="tooltip" data-bs-html="true" title="I Post Software Development Content Daily" href="https://www.linkedin.com/in/vb-software/" style="display: inline-grid;">Follow me on LinkedIn <i class="bi bi-linkedin"></i></a></div><div class="text-center"><div class="mt-5 mb-5 background-floki svelte-w557lf" data-bs-toggle="tooltip" data-bs-html="true" title="Floki is a developer dog."></div></div></footer></div></div><div class="rightside svelte-9zwk14"><div class="svelte-9zwk14"><ul class="navbar-nav sidenav svelte-9zwk14"><li class="nav-txt-divider text-muted svelte-9zwk14"><hr class="svelte-9zwk14"><span class="svelte-9zwk14">on this page</span><hr class="svelte-9zwk14"></li><li class="nav-item toc1 right svelte-9zwk14 bookmark-nav" data-id="pgroutiner---database-first-for-net-and-postgresql" title="PgRoutiner - Database-First For .NET and PostgreSQL"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#pgroutiner---database-first-for-net-and-postgresql">PgRoutiner - Database-First For .NET and PostgreSQL</a></li><li class="nav-item toc2 right svelte-9zwk14 bookmark-nav" data-id="installation" title="Installation"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#installation">Installation</a></li><li class="nav-item toc3 right svelte-9zwk14 bookmark-nav" data-id="download-binaries" title="Download Binaries"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#download-binaries">Download Binaries</a></li><li class="nav-item toc3 right svelte-9zwk14 bookmark-nav" data-id="net-tool" title=".NET Tool"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#net-tool">.NET Tool</a></li><li class="nav-item toc4 right svelte-9zwk14 bookmark-nav" data-id="requirements" title="Requirements"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#requirements">Requirements</a></li><li class="nav-item toc4 right svelte-9zwk14 bookmark-nav" data-id="global-net-tool" title="Global .NET tool"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#global-net-tool">Global .NET tool</a></li><li class="nav-item toc4 right svelte-9zwk14 bookmark-nav" data-id="local-net-tool" title="Local .NET tool"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#local-net-tool">Local .NET tool</a></li><li class="nav-item toc2 mt-2 right svelte-9zwk14 bookmark-nav" data-id="quick-start" title="Quick Start"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#quick-start">Quick Start</a></li><li class="nav-item toc2 right svelte-9zwk14 bookmark-nav" data-id="connection-management" title="Connection Management"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#connection-management">Connection Management</a></li><li class="nav-item toc2 right svelte-9zwk14 bookmark-nav" data-id="configuration-management" title="Configuration Management"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#configuration-management">Configuration Management</a></li><li class="nav-item toc2 right svelte-9zwk14 bookmark-nav" data-id="working-with-database" title="Working With Database"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#working-with-database">Working With Database</a></li><li class="nav-item toc3 right svelte-9zwk14 bookmark-nav" data-id="list-database-objects" title="List database objects"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#list-database-objects">List database objects</a></li><li class="nav-item toc3 right svelte-9zwk14 bookmark-nav" data-id="view-object-definitions" title="View object definitions"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#view-object-definitions">View object definitions</a></li><li class="nav-item toc3 right svelte-9zwk14 bookmark-nav" data-id="search-definitions-by-search-expression" title="Search definitions by search expression"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#search-definitions-by-search-expression">Search definitions by search expression</a></li><li class="nav-item toc3 right svelte-9zwk14 bookmark-nav" data-id="dump-data-from-tables-or-queries-as-inserts" title="Dump data from tables or queries as inserts"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#dump-data-from-tables-or-queries-as-inserts">Dump data from tables or queries as inserts</a></li><li class="nav-item toc3 right svelte-9zwk14 bookmark-nav" data-id="backup-and-restore" title="Backup and restore"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#backup-and-restore">Backup and restore</a></li><li class="nav-item toc3 right svelte-9zwk14 bookmark-nav" data-id="open-psql-tool" title="Open PSQL tool"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#open-psql-tool">Open PSQL tool</a></li><li class="nav-item toc3 right svelte-9zwk14 bookmark-nav" data-id="execute-psql-commands-and-scripts" title="Execute PSQL commands and scripts"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#execute-psql-commands-and-scripts">Execute PSQL commands and scripts</a></li><li class="nav-item toc2 mt-2 right svelte-9zwk14 bookmark-nav" data-id="generating-scripts" title="Generating Scripts"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#generating-scripts">Generating Scripts</a></li><li class="nav-item toc2 right svelte-9zwk14 bookmark-nav" data-id="generating-documentation" title="Generating Documentation"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#generating-documentation">Generating Documentation</a></li><li class="nav-item toc2 right svelte-9zwk14 bookmark-nav" data-id="generating-code" title="Generating Code"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#generating-code">Generating Code</a></li><li class="nav-item toc2 right svelte-9zwk14 bookmark-nav" data-id="troubleshooting" title="Troubleshooting"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#troubleshooting">Troubleshooting</a></li><li class="nav-item toc2 right svelte-9zwk14 bookmark-nav" data-id="support" title="Support"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#support">Support</a></li><li class="nav-item toc2 right svelte-9zwk14 bookmark-nav" data-id="license" title="License"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#license">License</a></li></ul></div></div></main><script>!function(){var i=document.querySelector("nav.navbar"),f=document.getElementsByTagName("main")[0],L=f.getElementsByClassName("sidebar")[0],w=f.getElementsByClassName("content")[0],o=document.querySelectorAll("div.code"),k=i.querySelector(".home");function E(e,t){for(var n=1;n<arguments.length;n++)e.classList.remove(arguments[n])}function T(e,t){for(var n=1;n<arguments.length;n++)e.classList.remove(arguments[n]);E(e,t),e.classList.add(t)}function t(e,t){var n=e.currentTarget;if(!n.classList.contains("bi-check")){for(var i="",o=0;o<n.classList.length;o++)if(n.classList[o].startsWith("bi-")){i=n.classList[o];break}n.classList.remove(i),n.classList.add("spinner-border-sm"),n.classList.add("spinner-border");e=bootstrap.Tooltip.getInstance(n);e&&(e.setContent({".tooltip-inner":"Copying..."}),e.show()),t(n,function(){var e;n.classList.remove(i),n.classList.remove("spinner-border-sm"),n.classList.remove("spinner-border"),n.classList.add("bi-check"),bootstrap&&(e=bootstrap.Tooltip.getInstance(n))&&(e.setContent({".tooltip-inner":"Copied!"}),e.show()),setTimeout(function(){var e;n.classList.add(i),n.classList.remove("bi-check"),bootstrap&&(e=bootstrap.Tooltip.getInstance(n))&&e.setContent({".tooltip-inner":n.dataset.bsTitle})},2e3)})}}"/"==document.location.pathname&&T(k,"d-none");var e=document.querySelector(".post-share > .copy-url"),n=(e&&e.addEventListener("click",function(e){t(e,function(e,t){navigator.clipboard.writeText(document.location.origin+document.location.pathname),t()})}),document.getElementsByTagName("html")[0]),a=i.querySelector("#theme-btn"),s="theme";function l(e){var t=a.getElementsByTagName("svg");"dark"===e?(t[0].style.display="",t[1].style.display="none",a.getElementsByClassName("check")[0].classList.add("checked")):(t[0].style.display="none",t[1].style.display="",a.getElementsByClassName("check")[0].classList.remove("checked"));for(var n=0;n<o.length;n++){var i=o[n];"dark"===e?(i.children[1].style.display="inherit",i.children[2].style.display="none"):"light"===e&&(i.children[1].style.display="none",i.children[2].style.display="inherit")}window._theme&&window._theme(e)}function r(e){t(e,function(e,t){navigator.clipboard.writeText(e.parentElement.nextSibling.innerText),t()})}function c(e){t(e,function(e,t){var n=localStorage.getItem(s);e="dark"===n?e.parentElement.parentElement.children[1]:e.parentElement.parentElement.children[2],setTimeout(function(){html2canvas(e).then(e=>{e.toBlob(e=>navigator.clipboard.write([new ClipboardItem({"image/png":e})])),t()})},0)})}a.addEventListener("click",()=>{var e="dark"===localStorage.getItem(s)?"light":"dark";localStorage.setItem(s,e),l(n.dataset.bsTheme=e)}),l(localStorage.getItem(s)),a.children[0].classList.remove("hidden");for(var d=0;d<o.length;d++){o[d].getElementsByClassName("copy-code")[0].addEventListener("click",r);var m=o[d].getElementsByClassName("photo-code");m.length&&m.addEventListener("click",c)}for(var S=function(){var a,o,s;if(f.children[2]&&"none"!=f.children[2].style.display)return a=f.querySelector(".main-content").querySelectorAll("[id]"),o=void 0,this.initNavs=function(e){s=e.querySelectorAll("li.bookmark-nav");for(var t=0;t<a.length;t++){for(var n=a[t].id,i=null,o=0;o<s.length;o++)if(s[o].dataset.id==n){i=s[o];break}a[t].nav=i}setTimeout(function(){for(var e=0;e<a.length;e++){var t=a[e];if(l(t).visible&&t.nav)return void t.nav.classList.add("active")}},1e3),r()},f.children[1].addEventListener("scroll",r),this;function l(e){var e=e.getBoundingClientRect(),t=Math.max(document.documentElement.clientHeight,window.innerHeight),n=0<e.top&&!(e.bottom<0||0<=e.top-t)||e.top<0&&e.bottom>t,i=!1;return{visible:n,above:i=n?i:e.bottom<t}}function r(){if(s&&s.length){for(var e=0;e<s.length;e++)s[e].classList.remove("active");for(var t=void 0,e=0;e<a.length;e++){const i=a[e];var n=l(i);if(!n.visible&&n.above&&(t=i.nav),n.visible&&i.nav&&!i.nav.classList.contains("active"))return i.nav.classList.add("active"),o&&clearTimeout(o),void(o=setTimeout(function(){i.nav.scrollIntoView({behavior:"smooth"}),o=void 0},250))}t&&!t.classList.contains("active")&&(t.classList.add("active"),o&&clearTimeout(o),o=setTimeout(function(){t.scrollIntoView({behavior:"smooth"}),o=void 0},250))}}}(),h=function(){var l,r=i.querySelector("#nav-btn"),c=480,d="200px",m="0.25fr",h=730,v=535,u=f.children[0].children[0].children[0],g=f.children[2]&&f.children[2].children[0].children[0],t="sidebar-pinned",p=null==localStorage.getItem(t)||"true"==localStorage.getItem(t),y=!1,b=!1;function n(){window._onresize&&window._onresize();var e=window.outerWidth||window.innerWidth,t=e<c,n=t?y?"100%":"0":p?""+d:"0",i=`grid-template-columns: ${n} 1fr`,o=t&&y?"width: 100%":"0"!=n?"":"display: none",a=t&&y?"display: none":"",s=t?y?"sidebar-show":"sidebar-hide":p?"sidebar-show":"sidebar-hide",n="0"==n;f.children[2]&&(m&&h&&v&&(n&&e<v||!n&&e<h?b||(u.innerHTML=l+g.innerHTML,S.initNavs(u),b=!0):b&&(u.innerHTML=l,S.initNavs(g),b=!1)),!m||t||b?(i+=";",f.children[2].style.display="none"):(i+=` ${m};`,f.children[2].style.display="")),T(r,!t&&p||t&&y?"rotate":"rotate-back","rotate","rotate-back"),p?(r.classList.add("text-shadow"),null==document.querySelector("main .sidebar .accordion > [title='VB-Consulting'] > .collapsed")&&T(k,"d-none")):("/"!=document.location.pathname&&E(k,"d-none"),r.classList.remove("text-shadow")),f.style=L?i:"display: grid;",L&&T(L,s,"sidebar-show","sidebar-hide"),L&&(L.firstChild.style=o),w.style=a,t&&!y&&"/"!=document.location.pathname&&E(k,"d-none"),t&&y&&T(k,"d-none")}function e(){var e=window.outerWidth<c;e?y=!y:p=!p,localStorage.setItem(t,p.toString()),n(),p?(r.classList.add("text-shadow"),null==document.querySelector("main .sidebar .accordion > [title='VB-Consulting'] > .collapsed")&&T(k,"d-none")):("/"!=document.location.pathname&&E(k,"d-none"),r.classList.remove("text-shadow")),e&&!y&&"/"!=document.location.pathname&&E(k,"d-none"),e&&y&&T(k,"d-none")}return m&&h&&v&&g&&(l=u.innerHTML,S.initNavs(g)),r.addEventListener("click",e),(window.onresize=n)(),this.closeSidebar=function(){window.outerWidth<c&&y&&e()},this}(),v=document.getElementsByClassName("auto-close"),u=0;u<v.length;u++)v[u].addEventListener("click",function(e){h.closeSidebar()});location.hash&&(e=document.getElementById(location.hash.replace("#","")))&&e.scrollIntoView()}();</script><script src="/bootstrap.bundle.min.js"></script><script>!function(){for(var e=document.querySelectorAll('[data-bs-toggle="tooltip"]'),t=0;t<e.length;t++)new bootstrap.Tooltip(e[t]);var n=document.getElementsByClassName("accordion-item");if(n.length){for(t=0;t<n.length;t++){var o=n[t];o.querySelectorAll("[href='"+document.location.pathname+"']").length&&o.firstChild.click()}var l=document.querySelector("nav.navbar").querySelector(".home"),a=document.getElementsByClassName("accordion");"/"==document.location.pathname&&l.classList.add("d-none");for(t=0;t<n.length;t++){var s=a[t];s&&s.firstChild&&"VB-Consulting"==s.firstChild.title&&(null!=s.firstChild.querySelector(".collapse")&&l.classList.contains("d-none")&&"/"!=document.location.pathname&&l.classList.remove("d-none"),s.addEventListener("show.bs.collapse",function(){"/"!=document.location.pathname&&l.classList.remove("d-none"),l.classList.add("d-none")}),s.addEventListener("hide.bs.collapse",function(){"/"!=document.location.pathname&&l.classList.remove("d-none")}))}}}();</script><script src="/html2canvas.min.js"></script><script async defer src="https://buttons.github.io/buttons.js"></script></body><script async data-id="101435862" src="//static.getclicky.com/js"></script></html>