<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>PostrgeSQL Schema Tools</title><meta name="description" content="PostrgeSQL Schema Tools is set of Open-Source PostrgeSQL Functions to Manage Database Schema"><meta name="keywords" content="postgresql, sql, schema"><link href="https://vb-consulting.github.io//pg_schema_tools/" rel="canonical"><link rel="stylesheet" href="/_elderjs/assets/svelte-5c62a432.css" media="all"><style></style><link href="/style.css?1725368550476" rel="stylesheet"><script>!function(){var e="theme",t=localStorage.getItem(e);t||(t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",localStorage.setItem(e,t)),document.getElementsByTagName("html")[0].dataset.bsTheme=t}();</script></head><body class="d-flex flex-column h-100"><header id="header"><nav class="navbar navbar-expand-md navbar-dark fixed-top py-0 py-md-0 svelte-30jr7w"><div class="container-fluid flex-nowrap svelte-30jr7w"><div class="d-flex svelte-30jr7w"><button id="nav-btn" type="button" class="d-flex btn btn-sm logo animate-rotate svelte-30jr7w"><i class="material-icons-outlined">menu</i></button> <a class="nav-link my-auto ms-2 fw-semibold home svelte-30jr7w" href="/"><i class="bi-chevron-double-left"></i> VB Home</a></div><div class="d-flex right svelte-30jr7w"><a class="nav-link my-auto svelte-30jr7w" data-bs-toggle="tooltip" data-bs-html="true" title="Become a Patreon" href="https://www.patreon.com/vbconsulting" target="_blank"><div class="patreon"></div></a><div class="vr1 text-muted my-auto svelte-30jr7w"></div><a class="nav-link my-auto svelte-30jr7w" data-bs-toggle="tooltip" data-bs-html="true" title="Buy Me a Coffee" href="https://www.buymeacoffee.com/vbilopavu" target="_blank"><div class="bmc"></div></a><div class="vr1 text-muted my-auto svelte-30jr7w"></div><a class="nav-link my-auto me-2 svelte-30jr7w" data-bs-toggle="tooltip" data-bs-html="true" title="pg_schema_tools on GitHub" href="https://github.com/vb-consulting/pg_schema_tools"><i class="bi-github"></i></a> <a class="github-button svelte-30jr7w" href="https://github.com/vb-consulting/pg_schema_tools" data-bs-toggle="tooltip" data-bs-html="true" title="Star pg_schema_tools on GitHub" data-color-scheme="no-preference: light_high_contrast; light: light_high_contrast; dark: light_high_contrast;" data-icon="octicon-star" data-show-count="true" aria-label="Star pg_schema_tools on GitHub"></a><div class="vr1 text-muted my-auto svelte-30jr7w"></div><button id="theme-btn" type="button" aria-pressed="true" aria-label="theme" class="svelte-30jr7w"><span class="check hidden svelte-30jr7w"><span class="icon svelte-30jr7w"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="svelte-30jr7w"><path fill="currentColor" d="M12 21q-3.775 0-6.388-2.613T3 12q0-3.45 2.25-5.988T11 3.05q.625-.075.975.45t-.025 1.1q-.425.65-.638 1.375T11.1 7.5q0 2.25 1.575 3.825T16.5 12.9q.775 0 1.538-.225t1.362-.625q.525-.35 1.075-.037t.475.987q-.35 3.45-2.937 5.725T12 21Zm0-2q2.2 0 3.95-1.213t2.55-3.162q-.5.125-1 .2t-1 .075q-3.075 0-5.238-2.163T9.1 7.5q0-.5.075-1t.2-1q-1.95.8-3.163 2.55T5 12q0 2.9 2.05 4.95T12 19Zm-.25-6.75Z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="svelte-30jr7w"><g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M0 0h24v24H0z"></path><path fill="currentColor" d="M12 19a1 1 0 0 1 .993.883L13 20v1a1 1 0 0 1-1.993.117L11 21v-1a1 1 0 0 1 1-1zm6.313-2.09l.094.083l.7.7a1 1 0 0 1-1.32 1.497l-.094-.083l-.7-.7a1 1 0 0 1 1.218-1.567l.102.07zm-11.306.083a1 1 0 0 1 .083 1.32l-.083.094l-.7.7a1 1 0 0 1-1.497-1.32l.083-.094l.7-.7a1 1 0 0 1 1.414 0zM4 11a1 1 0 0 1 .117 1.993L4 13H3a1 1 0 0 1-.117-1.993L3 11h1zm17 0a1 1 0 0 1 .117 1.993L21 13h-1a1 1 0 0 1-.117-1.993L20 11h1zM6.213 4.81l.094.083l.7.7a1 1 0 0 1-1.32 1.497l-.094-.083l-.7-.7A1 1 0 0 1 6.11 4.74l.102.07zm12.894.083a1 1 0 0 1 .083 1.32l-.083.094l-.7.7a1 1 0 0 1-1.497-1.32l.083-.094l.7-.7a1 1 0 0 1 1.414 0zM12 2a1 1 0 0 1 .993.883L13 3v1a1 1 0 0 1-1.993.117L11 4V3a1 1 0 0 1 1-1zm0 5a5 5 0 1 1-4.995 5.217L7 12l.005-.217A5 5 0 0 1 12 7z"></path></g></svg></span></span></button></div></div></nav></header><main class="svelte-9zwk14"><div class="sidebar sidebar-hide svelte-9zwk14"><div class="svelte-9zwk14"><ul class="navbar-nav sidenav svelte-9zwk14"><li class="nav-item svelte-9zwk14" data-id="" title="VB-Consulting"><a class="nav-link svelte-9zwk14 text-uppercase" href="/">VB-Consulting</a></li><li class="nav-divider svelte-9zwk14"><hr class="svelte-9zwk14"></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="NpgsqlRest"><a class="nav-link svelte-9zwk14 text-uppercase" href="/npgsqlrest/">NpgsqlRest</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="Norm.Net"><a class="nav-link svelte-9zwk14 text-uppercase" href="/norm.net/">Norm.Net</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="RazorSvelte"><a class="nav-link svelte-9zwk14 text-uppercase" href="/razorsvelte/">RazorSvelte</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="PgRoutiner"><a class="nav-link svelte-9zwk14 text-uppercase" href="/pgroutiner/">PgRoutiner</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="XUnit.Npgsql"><a class="nav-link svelte-9zwk14 text-uppercase" href="/xunit.npgsql/">XUnit.Npgsql</a></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="pgmigrations"><a class="nav-link svelte-9zwk14 text-uppercase" href="/pgmigrations/">pgmigrations</a></li><li class="nav-item toc2 svelte-9zwk14 active" data-id="" title="PostrgeSQL Schema Tools"><a class="nav-link svelte-9zwk14 text-uppercase" href="/pg_schema_tools/">PostrgeSQL Schema Tools</a></li><li class="nav-txt-divider text-muted svelte-9zwk14"><hr class="svelte-9zwk14"><span class="svelte-9zwk14">blogs</span><hr class="svelte-9zwk14"></li><li class="nav-item toc2 svelte-9zwk14" data-id="" title="See all blogs..."><a class="nav-link btn btn-sm w-fit px-3 mx-auto svelte-9zwk14 lr-arrow text-uppercase" href="/blogs/"><i class="bi bi-arrow-right-circle svelte-9zwk14"></i> <span class="btn-link">ALL BLOGS</span></a></li><li class="nav-item svelte-9zwk14" data-id="" title="Unit Testing and TDD With PostgreSQL"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/unit-testing-postgresql/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>Unit Testing and TDD With PostgreSQL is Easy</a></li><li class="nav-item svelte-9zwk14" data-id="" title="From Transaction Scripts and Domain Model to SQL"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/domain-model-transaction-script/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>From Transaction Scripts and Domain Model to SQL</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Transaction Script DDD vs SQL"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/transaction-script/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>Transaction Script DDD vs SQL</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Common Sense Software Design Approach for RDBMS-backed Type of Software"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/common-sense-design/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>Common Sense Software Design</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Automatic REST API for PostgreSQL Database as .NET8 Middleware"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/npgsqlrest-v2/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>NpgsqlRest v2 Update üêòüî•</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Automatic REST API for PostgreSQL Database as .NET8 Middleware"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/npgsqlrest-update1.6.2/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>NpgsqlRest Update 1.6.2</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PostgreSQL Array Example"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/postgresql-array/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>PostgreSQL Arrays üêò</a></li><li class="nav-item svelte-9zwk14" data-id="" title="How DDD is screwing up your SQL"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/sql-vs-ddd/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>How DDD is screwing up your SQL</a></li><li class="nav-item svelte-9zwk14" data-id="" title="PostgreSQL Paging Benchmarks"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/postgresql-paging/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>PostgreSQL Paging Benchmarks</a></li><li class="nav-item svelte-9zwk14" data-id="" title="Automatic REST API for PostgreSQL Database as .NET8 Middleware"><a class="nav-link svelte-9zwk14 lr-arrow text-uppercase" href="/blog/npgsqlrest/"><i class="bi bi-chat-left-text svelte-9zwk14"></i>NpgsqlRest NuGet Library</a></li></ul></div></div><div class="content svelte-9zwk14"><div class="container-sm main-content gh-content"><h1 id="pg_schema_tools">pg_schema_tools<a class="anchor bookmark-target" href="#pg_schema_tools"><i class="bi bi-link-45deg"></i></a></h1><a href="https://github.com/vb-consulting/pg_schema_tools" class="github-edit"><i class="bi bi-github"></i>Edit this page on GitHub</a><p><img src="https://img.shields.io/badge/license-MIT-green" alt="License"> <img src="https://img.shields.io/github/stars/vb-consulting/pg_schema_tools?style=social" alt="GitHub Stars"> <img src="https://img.shields.io/github/forks/vb-consulting/pg_schema_tools?style=social" alt="GitHub Forks"></p><p><code>pg_schema_tools</code> is a collection of tools and utilities for working with PostgreSQL database schemas implemented as set of Open-Source PostrgeSQL Functions.</p><h2 id="features">Features<a class="anchor bookmark-target" href="#features"><i class="bi bi-link-45deg"></i></a></h2><p>Currently, there two public functions implemeneted:</p><ol><li><code>schema.search</code></li><li><code>schema.dump</code></li></ol><p>More functions is yet to come as this repository will be update in future.</p><h3 id="function-schemasearch">Function <code>schema.search</code><a class="anchor bookmark-target" href="#function-schemasearch"><i class="bi bi-link-45deg"></i></a></h3><p>Search and retrieve for the schema objects in database.</p><p>Signature:</p><pre><code>function schema.search(
    _schema text = null,
    _type text = null,
    _search text = null
)
returns table (
    type text,
    schema text,
    name text,
    comment text,
    definition text
)
</code></pre><ul><li><p>Parameters <code>_schema text = null, _type text = null, _search text = null</code> are used for searching (explained below).</p></li><li><p>Default parameters search everything except system schemas: <code>select * from schema.search()</code></p></li><li><p>Function returns table with following columns:</p><ul><li><code>type text</code> - type of object (explained below).</li><li><code>schema text</code> - schema</li><li><code>name text</code> - name</li><li><code>comment text</code> - comment on object</li><li><code>definition text</code> - full DDL create statement for object</li></ul></li></ul><h4 id="object-types">Object types<a class="anchor bookmark-target" href="#object-types"><i class="bi bi-link-45deg"></i></a></h4><p>Object types can be either:</p><ul><li><code>% index</code> - index types have name of index type in prefix, for example: <code>unique btree index</code>, <code>gist index</code>, <code>btree index</code>, etc</li><li><code>% constraint</code> - constraint types have name of constraint in prefix, for example: <code>primary key constraint</code>, <code>unique constraint</code>, <code>check constraint</code>, <code>foreign key constraint</code>, <code>trigger constraint</code>, <code>exclusion constraint</code>.</li><li><code>aggregate</code></li><li><code>column</code></li><li><code>domain</code></li><li><code>enum</code></li><li><code>function</code></li><li><code>materialized view</code></li><li><code>policy</code></li><li><code>procedure</code></li><li><code>range</code></li><li><code>rule</code></li><li><code>sequence</code></li><li><code>table</code></li><li><code>trigger</code></li><li><code>type</code></li><li><code>view</code></li></ul><h4 id="search-parameters">Search parameters:<a class="anchor bookmark-target" href="#search-parameters"><i class="bi bi-link-45deg"></i></a></h4><ul><li><code>_schema text = null</code> - search schemas similar to this parameter or default (null) for all schemas except system schemas. See <a href="./src/_get_schema_array.sql"><code>src/_get_schema_array.sql</code></a> for more details.</li><li><code>_type text = null</code> - search types similar to this parameter or default (null) for all types. See above for a list of available types.</li><li><code>_search text = null</code> - search names, comments, and object definitions similar to this parameter or default (null) for all matches.</li></ul><p>The search uses a <strong>case insensitive</strong> <a href="https://www.postgresql.org/docs/current/functions-matching.html#FUNCTIONS-SIMILARTO-REGEXP"><code>SIMILAR TO</code></a> operator for searching.</p><p>This operator is a mix between <code>like</code> SQL pattern matching and regular expressions.</p><p>Examples:</p><ul><li><p><code>select * from schema.search('public')</code> - searches only schema named <code>public</code> (case insensitive)</p></li><li><p><code>select * from schema.search('public|my_schema')</code> - searches only schemas named <code>public</code> or <code>my_schema</code> (case insensitive)</p></li><li><p><code>select * from schema.search('public|my%')</code>- searches only schemas named <code>public</code> or schemas that start with <code>my</code> (case insensitive).</p></li></ul><p>See <a href="https://www.postgresql.org/docs/current/functions-matching.html#FUNCTIONS-SIMILARTO-REGEXP"><code>SIMILAR TO</code></a> documentation or <a href="./src/_search_filter.sql"><code>src/_search_filter.sql</code></a> implemenation for more details.</p><h3 id="function-schemadump">Function <code>schema.dump</code><a class="anchor bookmark-target" href="#function-schemadump"><i class="bi bi-link-45deg"></i></a></h3><p>Creates schema script dump.</p><p>Signature:</p><pre><code>CREATE FUNCTION schema.dump(
    _schema text = null, 
    _type text = null, 
    _search text = null, 
    _include_header boolean = true, 
    _include_transaction boolean = true, 
    _include_extensions boolean = true, 
    _include_schemas boolean = true, 
    _include_types boolean = true, 
    _include_enums boolean = true, 
    _include_domains boolean = true, 
    _include_tables boolean = true, 
    _include_sequences boolean = true, 
    _include_constraints boolean = true, 
    _include_indexes boolean = true, 
    _include_triggers boolean = true, 
    _include_policies boolean = true, 
    _include_views boolean = true, 
    _include_routines boolean = true, 
    _include_aggregates boolean = true, 
    _include_rules boolean = true, 
    _single_row boolean = false
)
RETURNS TABLE(line text)
</code></pre><ul><li>Parameters <code>_schema</code>, <code>_type</code>, and <code>_search</code> are standard search parameters explained above.</li><li>Parameters that start with <code>_include_</code> are switches to include or exclude certain object types.</li><li>Parameter <code>_single_row boolean = false</code> is a switch when set to true, will return script lines in a row (single column and single row); otherwise, multiple commands are returned in multiple rows.</li></ul><h2 id="limitations">Limitations<a class="anchor bookmark-target" href="#limitations"><i class="bi bi-link-45deg"></i></a></h2><ol><li><p>These functions are tested to work on PostgreSQL 14, 15, and 16. Versions before 14 are not supported.</p></li><li><p>Generated DDL create scripts in this version do not include:</p><ul><li>Object owners.</li><li>User Privileges (Access Control List).</li><li>Some exotic custom aggregate options (most frequent ones are covered).</li></ul></li><li><p>Schema dump scripts are not always guaranteed to get the precise order for creating interdependent views, functions, procedures, and aggregates. In this version, the current order is:</p><ol><li>routines (functions and procedures) ordered by interdependence within default parameter dependencies, SQL routines first.</li><li>aggregates</li><li>views ordered by dependency on other views.</li></ol></li></ol><p>Disclaimer: for 100 percent accurate and reliable schema dumps, please use the standard <a href="https://www.postgresql.org/docs/current/app-pgdump.html"><code>pg_dump</code></a> tool with <code>--schema-only</code> switch.</p><p>Schema scripts generated by these functions are intended to be used as helper tools in scripting, not as a complete <code>pg_dump</code> replacement.</p><h2 id="installation">Installation<a class="anchor bookmark-target" href="#installation"><i class="bi bi-link-45deg"></i></a></h2><p>To use <code>pg_schema_tools</code>, you will need to have the following dependencies installed:</p><ul><li>PostgreSQL 14 or later</li></ul><p>To install <code>pg_schema_tools</code>, execute <a href="/build.sql"><code>/build.sql</code></a> on your server, for example:</p><div class="code bash"><div class="toolbar"><div class="copy-code bi-clipboard" data-bs-toggle="tooltip" data-bs-title="Copy code to clipboard"></div><div class="photo-code bi-camera" data-bs-toggle="tooltip" data-bs-title="Copy code image to clipboard"></div></div><pre class="shiki slack-dark" style="background-color: #222222" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #6A9955"># 1. Clone the repostitory</span></span>
<span class="line"><span style="color: #6A9955"># 2. Navigate to pg_schema_tools</span></span>
<span class="line"><span style="color: #6A9955"># 3. Install this script on my localhost in database dvdrental using postgres user</span></span>
<span class="line"><span style="color: #DCDCAA">$</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">git</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">clone</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">https://github.com/vb-consulting/pg_schema_tools.git</span></span>
<span class="line"><span style="color: #DCDCAA">$</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">cd</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">pg_schema_tools</span></span>
<span class="line"><span style="color: #DCDCAA">$</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">psql</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">--host=localhost</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">--port=5432</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">--dbname=dvdrental</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">--username=postgres</span><span style="color: #E6E6E6"> </span><span style="color: #CE9178">--file=build.sql</span></span></code></pre><pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code class="code-highlight"><span class="line"><span style="color: #008000"># 1. Clone the repostitory</span></span>
<span class="line"><span style="color: #008000"># 2. Navigate to pg_schema_tools</span></span>
<span class="line"><span style="color: #008000"># 3. Install this script on my localhost in database dvdrental using postgres user</span></span>
<span class="line"><span style="color: #795E26">$</span><span style="color: #000000"> </span><span style="color: #A31515">git</span><span style="color: #000000"> </span><span style="color: #A31515">clone</span><span style="color: #000000"> </span><span style="color: #A31515">https://github.com/vb-consulting/pg_schema_tools.git</span></span>
<span class="line"><span style="color: #795E26">$</span><span style="color: #000000"> </span><span style="color: #A31515">cd</span><span style="color: #000000"> </span><span style="color: #A31515">pg_schema_tools</span></span>
<span class="line"><span style="color: #795E26">$</span><span style="color: #000000"> </span><span style="color: #A31515">psql</span><span style="color: #000000"> </span><span style="color: #0000FF">--host=localhost</span><span style="color: #000000"> </span><span style="color: #0000FF">--port=5432</span><span style="color: #000000"> </span><span style="color: #0000FF">--dbname=dvdrental</span><span style="color: #000000"> </span><span style="color: #0000FF">--username=postgres</span><span style="color: #000000"> </span><span style="color: #0000FF">--file=build.sql</span></span></code></pre></div><h3 id="troubleshooting">Troubleshooting<a class="anchor bookmark-target" href="#troubleshooting"><i class="bi bi-link-45deg"></i></a></h3><p>Install script will attempt to create a new schema called <code>schema</code>.</p><p>However, if that schema already exists, the script will return the following error:</p><pre><code>psql:build.sql:2005: ERROR:  Schema "schema" already exists. Consider running "drop schema schema cascade;" to recreate schema schema.
CONTEXT:  PL/pgSQL function inline_code_block line 8 at RAISE
</code></pre><p>That means that you may already have that schema on your server, and the script will not attempt to drop it without permission. You have two choices:</p><ol><li>Run <code>drop schema schema cascade;</code> and then rerun the install script.</li><li>Or edit <code>build.js</code> to target different schema names; run <code>node build.js</code> to create a new install script that targets different schema names.</li></ol><h2 id="contributing">Contributing<a class="anchor bookmark-target" href="#contributing"><i class="bi bi-link-45deg"></i></a></h2><p>If you would like to contribute to <code>pg_schema_tools</code>, please follow these guidelines:</p><ol><li>Fork the repository</li><li>Make your changes</li><li>Submit a pull request</li></ol><h2 id="license">License<a class="anchor bookmark-target" href="#license"><i class="bi bi-link-45deg"></i></a></h2><p><code>pg_schema_tools</code> is licensed under the MIT License. See <a href="https://github.com/vb-consulting/pg_schema_tools/blob/master/LICENSE">LICENSE</a> for more information.</p><div class="pt-5 border-top"><div id="comments-section" class="h5">Comments</div><script defer src="https://cdn.commento.io/js/commento.js" data-no-fonts="true" data-css-override="https://vb-consulting.github.io/style.css"></script><div id="commento"></div></div><footer class="mt-3 py-5"><div class="w-fit mx-auto mb-3 border-top border-bottom"><div class="alert text-center fs-smaller text-muted"><div class="alert text-center fs-smaller text-muted mb-1">If you like my content, use my software, or otherwise benefit from my work, consider supporting me by buying me a coffee. The software runs on coffee after all.</div><a class="btn rl-arrow" target="_blank" data-bs-toggle="tooltip" data-bs-html="true" title="Click Here to Buy Me a Coffee Or Scan the Code" href="https://www.buymeacoffee.com/vbilopavu" style="display: inline-grid;">Buy me a Coffee <img class="m-auto svelte-byttq0" alt="Scan Here To Buy Me a Cofee" src="/bmc_qr.png"></a></div></div><div class="d-flex justify-content-center"><a class="btn rl-arrow me-1" target="_blank" data-bs-toggle="tooltip" data-bs-html="true" title="pg_schema_tools on GitHub" href="https://github.com/vb-consulting/pg_schema_tools" style="display: inline-grid;">pg_schema_tools on GitHub <i class="bi bi-github"></i></a> <a class="btn rl-arrow" target="_blank" data-bs-toggle="tooltip" data-bs-html="true" title="I Post Software Development Content Daily" href="https://www.linkedin.com/in/vb-software/" style="display: inline-grid;">Follow me on LinkedIn <i class="bi bi-linkedin"></i></a></div><div class="text-center"><div class="mt-5 mb-5 background-floki svelte-byttq0" data-bs-toggle="tooltip" data-bs-html="true" title="Floki is a developer dog."></div></div></footer></div></div><div class="rightside svelte-9zwk14"><div class="svelte-9zwk14"><ul class="navbar-nav sidenav svelte-9zwk14"><li class="nav-txt-divider text-muted svelte-9zwk14"><hr class="svelte-9zwk14"><span class="svelte-9zwk14">on this page</span><hr class="svelte-9zwk14"></li><li class="nav-item toc1 right svelte-9zwk14 bookmark-nav" data-id="pg_schema_tools" title="pg_schema_tools"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#pg_schema_tools">pg_schema_tools</a></li><li class="nav-item toc2 right svelte-9zwk14 bookmark-nav" data-id="features" title="Features"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#features">Features</a></li><li class="nav-item toc3 right svelte-9zwk14 bookmark-nav" data-id="function-schemasearch" title="Function "><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#function-schemasearch">Function</a></li><li class="nav-item toc4 right svelte-9zwk14 bookmark-nav" data-id="object-types" title="Object types"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#object-types">Object types</a></li><li class="nav-item toc4 right svelte-9zwk14 bookmark-nav" data-id="search-parameters" title="Search parameters:"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#search-parameters">Search parameters:</a></li><li class="nav-item toc3 mt-2 right svelte-9zwk14 bookmark-nav" data-id="function-schemadump" title="Function "><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#function-schemadump">Function</a></li><li class="nav-item toc2 mt-2 right svelte-9zwk14 bookmark-nav" data-id="limitations" title="Limitations"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#limitations">Limitations</a></li><li class="nav-item toc2 right svelte-9zwk14 bookmark-nav" data-id="installation" title="Installation"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#installation">Installation</a></li><li class="nav-item toc3 right svelte-9zwk14 bookmark-nav" data-id="troubleshooting" title="Troubleshooting"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#troubleshooting">Troubleshooting</a></li><li class="nav-item toc2 mt-2 right svelte-9zwk14 bookmark-nav" data-id="contributing" title="Contributing"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#contributing">Contributing</a></li><li class="nav-item toc2 right svelte-9zwk14 bookmark-nav" data-id="license" title="License"><a class="nav-link auto-close svelte-9zwk14 bookmark-link" href="#license">License</a></li></ul></div></div></main><script>!function(){var i=document.querySelector("nav.navbar"),f=document.getElementsByTagName("main")[0],L=f.getElementsByClassName("sidebar")[0],w=f.getElementsByClassName("content")[0],o=document.querySelectorAll("div.code"),k=i.querySelector(".home");function E(e,t){for(var n=1;n<arguments.length;n++)e.classList.remove(arguments[n])}function T(e,t){for(var n=1;n<arguments.length;n++)e.classList.remove(arguments[n]);E(e,t),e.classList.add(t)}function t(e,t){var n=e.currentTarget;if(!n.classList.contains("bi-check")){for(var i="",o=0;o<n.classList.length;o++)if(n.classList[o].startsWith("bi-")){i=n.classList[o];break}n.classList.remove(i),n.classList.add("spinner-border-sm"),n.classList.add("spinner-border");e=bootstrap.Tooltip.getInstance(n);e&&(e.setContent({".tooltip-inner":"Copying..."}),e.show()),t(n,function(){var e;n.classList.remove(i),n.classList.remove("spinner-border-sm"),n.classList.remove("spinner-border"),n.classList.add("bi-check"),bootstrap&&(e=bootstrap.Tooltip.getInstance(n))&&(e.setContent({".tooltip-inner":"Copied!"}),e.show()),setTimeout(function(){var e;n.classList.add(i),n.classList.remove("bi-check"),bootstrap&&(e=bootstrap.Tooltip.getInstance(n))&&e.setContent({".tooltip-inner":n.dataset.bsTitle})},2e3)})}}"/"==document.location.pathname&&T(k,"d-none");var e=document.querySelector(".post-share > .copy-url"),n=(e&&e.addEventListener("click",function(e){t(e,function(e,t){navigator.clipboard.writeText(document.location.origin+document.location.pathname),t()})}),document.getElementsByTagName("html")[0]),a=i.querySelector("#theme-btn"),s="theme";function l(e){var t=a.getElementsByTagName("svg");"dark"===e?(t[0].style.display="",t[1].style.display="none",a.getElementsByClassName("check")[0].classList.add("checked")):(t[0].style.display="none",t[1].style.display="",a.getElementsByClassName("check")[0].classList.remove("checked"));for(var n=0;n<o.length;n++){var i=o[n];"dark"===e?(i.children[1].style.display="inherit",i.children[2].style.display="none"):"light"===e&&(i.children[1].style.display="none",i.children[2].style.display="inherit")}window._theme&&window._theme(e)}function r(e){t(e,function(e,t){navigator.clipboard.writeText(e.parentElement.nextSibling.innerText),t()})}function c(e){t(e,function(e,t){var n=localStorage.getItem(s);e="dark"===n?e.parentElement.parentElement.children[1]:e.parentElement.parentElement.children[2],setTimeout(function(){html2canvas(e).then(e=>{e.toBlob(e=>navigator.clipboard.write([new ClipboardItem({"image/png":e})])),t()})},0)})}a.addEventListener("click",()=>{var e="dark"===localStorage.getItem(s)?"light":"dark";localStorage.setItem(s,e),l(n.dataset.bsTheme=e)}),l(localStorage.getItem(s)),a.children[0].classList.remove("hidden");for(var d=0;d<o.length;d++){o[d].getElementsByClassName("copy-code")[0].addEventListener("click",r);var m=o[d].getElementsByClassName("photo-code");m.length&&m[0].addEventListener("click",c)}for(var S=function(){var a,o,s;if(f.children[2]&&"none"!=f.children[2].style.display)return a=f.querySelector(".main-content").querySelectorAll("[id]"),o=void 0,this.initNavs=function(e){s=e.querySelectorAll("li.bookmark-nav");for(var t=0;t<a.length;t++){for(var n=a[t].id,i=null,o=0;o<s.length;o++)if(s[o].dataset.id==n){i=s[o];break}a[t].nav=i}setTimeout(function(){for(var e=0;e<a.length;e++){var t=a[e];if(l(t).visible&&t.nav)return void t.nav.classList.add("active")}},1e3),r()},f.children[1].addEventListener("scroll",r),this;function l(e){var e=e.getBoundingClientRect(),t=Math.max(document.documentElement.clientHeight,window.innerHeight),n=0<e.top&&!(e.bottom<0||0<=e.top-t)||e.top<0&&e.bottom>t,i=!1;return{visible:n,above:i=n?i:e.bottom<t}}function r(){if(s&&s.length){for(var e=0;e<s.length;e++)s[e].classList.remove("active");for(var t=void 0,e=0;e<a.length;e++){const i=a[e];var n=l(i);if(!n.visible&&n.above&&(t=i.nav),n.visible&&i.nav&&!i.nav.classList.contains("active"))return i.nav.classList.add("active"),o&&clearTimeout(o),void(o=setTimeout(function(){i.nav.scrollIntoView({behavior:"smooth"}),o=void 0},250))}t&&!t.classList.contains("active")&&(t.classList.add("active"),o&&clearTimeout(o),o=setTimeout(function(){t.scrollIntoView({behavior:"smooth"}),o=void 0},250))}}}(),h=function(){var l,r=i.querySelector("#nav-btn"),c=480,d="200px",m="0.25fr",h=730,v=535,u=f.children[0].children[0].children[0],g=f.children[2]&&f.children[2].children[0].children[0],t="sidebar-pinned",p=null==localStorage.getItem(t)||"true"==localStorage.getItem(t),y=!1,b=!1;function n(){window._onresize&&window._onresize();var e=window.outerWidth||window.innerWidth,t=e<c,n=t?y?"100%":"0":p?""+d:"0",i=`grid-template-columns: ${n} 1fr`,o=t&&y?"width: 100%":"0"!=n?"":"display: none",a=t&&y?"display: none":"",s=t?y?"sidebar-show":"sidebar-hide":p?"sidebar-show":"sidebar-hide",n="0"==n;f.children[2]&&(m&&h&&v&&(n&&e<v||!n&&e<h?b||(u.innerHTML=l+g.innerHTML,S.initNavs(u),b=!0):b&&(u.innerHTML=l,S.initNavs(g),b=!1)),!m||t||b?(i+=";",f.children[2].style.display="none"):(i+=` ${m};`,f.children[2].style.display="")),T(r,!t&&p||t&&y?"rotate":"rotate-back","rotate","rotate-back"),p?(r.classList.add("text-shadow"),null==document.querySelector("main .sidebar .accordion > [title='VB-Consulting'] > .collapsed")&&T(k,"d-none")):("/"!=document.location.pathname&&E(k,"d-none"),r.classList.remove("text-shadow")),f.style=L?i:"display: grid;",L&&T(L,s,"sidebar-show","sidebar-hide"),L&&(L.firstChild.style=o),w.style=a,t&&!y&&"/"!=document.location.pathname&&E(k,"d-none"),t&&y&&T(k,"d-none")}function e(){var e=window.outerWidth<c;e?y=!y:p=!p,localStorage.setItem(t,p.toString()),n(),p?(r.classList.add("text-shadow"),null==document.querySelector("main .sidebar .accordion > [title='VB-Consulting'] > .collapsed")&&T(k,"d-none")):("/"!=document.location.pathname&&E(k,"d-none"),r.classList.remove("text-shadow")),e&&!y&&"/"!=document.location.pathname&&E(k,"d-none"),e&&y&&T(k,"d-none")}return m&&h&&v&&g&&(l=u.innerHTML,S.initNavs(g)),r.addEventListener("click",e),(window.onresize=n)(),this.closeSidebar=function(){window.outerWidth<c&&y&&e()},this}(),v=document.getElementsByClassName("auto-close"),u=0;u<v.length;u++)v[u].addEventListener("click",function(e){h.closeSidebar()});location.hash&&(e=document.getElementById(location.hash.replace("#","")))&&e.scrollIntoView()}();</script><script src="/bootstrap.bundle.min.js"></script><script>!function(){for(var e=document.querySelectorAll('[data-bs-toggle="tooltip"]'),t=0;t<e.length;t++)new bootstrap.Tooltip(e[t]);var n=document.getElementsByClassName("accordion-item");if(n.length){for(t=0;t<n.length;t++){var o=n[t];o.querySelectorAll("[href='"+document.location.pathname+"']").length&&o.firstChild.click()}var l=document.querySelector("nav.navbar").querySelector(".home"),a=document.getElementsByClassName("accordion");"/"==document.location.pathname&&l.classList.add("d-none");for(t=0;t<n.length;t++){var s=a[t];s&&s.firstChild&&"VB-Consulting"==s.firstChild.title&&(null!=s.firstChild.querySelector(".collapse")&&l.classList.contains("d-none")&&"/"!=document.location.pathname&&l.classList.remove("d-none"),s.addEventListener("show.bs.collapse",function(){"/"!=document.location.pathname&&l.classList.remove("d-none"),l.classList.add("d-none")}),s.addEventListener("hide.bs.collapse",function(){"/"!=document.location.pathname&&l.classList.remove("d-none")}))}}}();</script><script src="/html2canvas.min.js"></script><script async defer src="https://buttons.github.io/buttons.js"></script></body><script async data-id="101435862" src="//static.getclicky.com/js"></script></html>